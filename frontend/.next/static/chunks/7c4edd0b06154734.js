(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,150169,e=>{"use strict";var t=e.i(336244);let a={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:void 0!==t.default&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};e.s(["ConstantsUtil",0,a])},241135,e=>{"use strict";var t=e.i(336244),a=e.i(150169);let r=(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",o={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:r,SECURE_SITE_DASHBOARD:`${r}/dashboard`,SECURE_SITE_FAVICON:`${r}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USDâ‚®0"]},BALANCE_SUPPORTED_CHAINS:[a.ConstantsUtil.CHAIN.EVM,a.ConstantsUtil.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[a.ConstantsUtil.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM,a.ConstantsUtil.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM,a.ConstantsUtil.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[a.ConstantsUtil.CHAIN.EVM,a.ConstantsUtil.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}};e.s(["ConstantsUtil",0,o,"MELD_PUBLIC_KEY",0,"WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU","ONRAMP_PROVIDERS",0,[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}]])},44112,e=>{"use strict";function t(e){if(!e)throw Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}function a(){return"undefined"!=typeof window&&"undefined"!=typeof localStorage}e.s(["SafeLocalStorage",0,{setItem(e,t){a()&&void 0!==t&&localStorage.setItem(e,t)},getItem(e){if(a())return localStorage.getItem(e)||void 0},removeItem(e){a()&&localStorage.removeItem(e)},clear(){a()&&localStorage.clear()}},"SafeLocalStorageKeys",0,{WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version"},"getSafeConnectorIdKey",()=>t,"isSafe",()=>a])},232674,918094,e=>{"use strict";var t=e.i(150169),a=e.i(241135),r=e.i(44112);let o={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired:(e,t)=>Date.now()-e>t,getActiveNetworkProps(){let e=o.getActiveNamespace(),t=o.getActiveCaipNetworkId(),a=t?t.split(":")[1]:void 0;return{namespace:e,caipNetworkId:t,chainId:a?isNaN(Number(a))?a:Number(a):void 0}},setWalletConnectDeepLink({name:e,href:t}){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID,e),o.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{let t=(0,r.getSafeConnectorIdKey)(e);r.SafeLocalStorage.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{let t=o.getRecentWallets();t.find(t=>t.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.RECENT_WALLETS,JSON.stringify(t)),r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{let a=(0,r.getSafeConnectorIdKey)(e);r.SafeLocalStorage.setItem(a,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{let t=(0,r.getSafeConnectorIdKey)(e);return r.SafeLocalStorage.getItem(t)}catch(t){console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);return e?.split(":")?.[1]},setConnectionStatus(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTED_NAMESPACES);if(!e?.length)return[];return e.split(",")}catch{return[]}},setConnectedNamespaces(e){try{let t=Array.from(new Set(e));r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{let t=o.getConnectedNamespaces();t.includes(e)||(t.push(e),o.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{let t=o.getConnectedNamespaces(),a=t.indexOf(e);a>-1&&(t.splice(a,1),o.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{let t=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{let t=o.getBalanceCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{let t=o.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;o.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{let t=o.getBalanceCache();t[e.caipAddress]=e,r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{let t=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{let t=o.getBalanceCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{let t=o.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),o.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{let t=o.getNativeBalanceCache();t[e.caipAddress]=e,r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{let t=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{let t=o.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;o.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{let t=o.getEnsCache();t[e.address]=e,r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{let t=o.getEnsCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{let t=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{let t=o.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;o.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{let t=o.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{let t=o.getIdentityCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.PORTFOLIO_CACHE),r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE),r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.ENS_CACHE),r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.IDENTITY_CACHE),r.SafeLocalStorage.removeItem(r.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);if(!e)return{};return JSON.parse(e)}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,a){try{let n=o.getConnections(),i=n[a]??[],s=new Map;for(let e of i)s.set(e.connectorId,{...e});for(let a of e){let e=s.get(a.connectorId),r=a.connectorId===t.ConstantsUtil.CONNECTOR_ID.AUTH;if(e&&!r){let t=new Set(e.accounts.map(e=>e.address.toLowerCase())),r=a.accounts.filter(e=>!t.has(e.address.toLowerCase()));e.accounts.push(...r)}else s.set(a.connectorId,{...a})}let c={...n,[a]:Array.from(s.values())};r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify(c))}catch(e){console.error("Unable to sync connections to storage",e)}},getConnections(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.CONNECTIONS);if(!e)return{};return JSON.parse(e)}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:a}){try{let n=o.getConnections(),i=n[a]??[],s=new Map(i.map(e=>[e.connectorId,e])),c=s.get(e);if(c){let a=c.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase());0===a.length?s.delete(e):s.set(e,{...c,accounts:c.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase())})}r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify({...n,[a]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${a}"`)}},getDisconnectedConnectorIds(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);if(!e)return{};return JSON.parse(e)}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{let a=o.getDisconnectedConnectorIds(),n=a[t]??[];n.push(e),r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...a,[t]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{let a=o.getDisconnectedConnectorIds(),n=a[t]??[];n=n.filter(t=>t.toLowerCase()!==e.toLowerCase()),r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...a,[t]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(o.getDisconnectedConnectorIds()[t]??[]).some(t=>t.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{let a=o.getTransactionsCache(),r=a[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;o.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:a,transactions:n}){try{let i=o.getTransactionsCache();i[e]={...i[e],[t]:{timestamp:a,transactions:n}},r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:a,transactions:n})}},removeTransactionsCache({address:e,chainId:t}){try{let a=o.getTransactionsCache(),{[t]:n,...i}=a?.[e]||{};r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...a,[e]:i}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{let t=o.getTokenPriceCache()[e.join(",")];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tokenPrice))return t.tokenPrice;o.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{let t=o.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{let t=o.getTokenPriceCache();r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{let e=this.getLatestAppKitVersionCache(),t=e?.version;if(t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion))return t}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let e=r.SafeLocalStorage.getItem(r.SafeLocalStorageKeys.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{let t=o.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,r.SafeLocalStorage.setItem(r.SafeLocalStorageKeys.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}};e.s(["StorageUtil",0,o],918094);let n={isMobile(){return!!this.isClient()&&!!(window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(e,t="")=>e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return n.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return!!this.isClient()&&(window?.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>"undefined"!=typeof window,isPairingExpired:e=>!e||e-Date.now()<=a.ConstantsUtil.TEN_SEC_MS,isAllowedRetry:(e,t=a.ConstantsUtil.ONE_SEC_MS)=>Date.now()-e>=t,copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch(e){return!1}},isSafeApp(){if(n.isClient()&&window.self!==window.top)try{let e=window?.location?.ancestorOrigins?.[0];if(e){let t=new URL(e),a=new URL("https://app.safe.global");return t.hostname===a.hostname}}catch{}return!1},getPairingExpiry:()=>Date.now()+a.ConstantsUtil.FOUR_MINUTES_MS,getNetworkId:e=>e?.split(":")[1],getPlainAddress:e=>e?.split(":")[2],wait:async e=>new Promise(t=>{setTimeout(t,e)}),debounce(e,t=500){let a;return(...r)=>{a&&clearTimeout(a),a=setTimeout(function(){e(...r)},t)}},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),formatNativeUrl(e,t,a=null){if(n.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,o=a;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),o&&!o?.endsWith("/")&&(o=`${o}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));let i=encodeURIComponent(t);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:o?`${o}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(e,t){if(!n.isHttpUrl(e))return this.formatNativeUrl(e,t);let a=e;a.endsWith("/")||(a=`${a}/`);let r=encodeURIComponent(t);return{redirect:`${a}wc?uri=${r}`,href:a}},getOpenTargetForPlatform(e){return"popupWindow"===e?e:this.isTelegram()?o.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,a){window?.open(e,this.getOpenTargetForPlatform(t),a||"noreferrer noopener")},returnOpenHref(e,t,a){return window?.open(e,this.getOpenTargetForPlatform(t),a||"noreferrer noopener")},isTelegram:()=>"undefined"!=typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),isPWA(){if("undefined"==typeof window)return!1;let e=!!window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(display-mode: standalone)")?.matches,t=window?.navigator?.standalone;return!!(e||t)},preloadImage:async e=>Promise.race([new Promise((t,a)=>{let r=new Image;r.onload=t,r.onerror=a,r.crossOrigin="anonymous",r.src=e}),n.wait(2e3)]),parseBalance(e,t){let a="0.000";if("string"==typeof e){let t=Number(e);if(!isNaN(t)){let e=(Math.floor(1e3*t)/1e3).toFixed(3);e&&(a=e)}}let[r,o]=a.split("."),n=r||"0",i=o||"000";return{formattedText:`${n}.${i}${t?` ${t}`:""}`,value:n,decimals:i,symbol:t}},getApiUrl:()=>t.ConstantsUtil.W3M_API_URL,getBlockchainApiUrl:()=>t.ConstantsUtil.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>t.ConstantsUtil.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),parseError:e=>"string"==typeof e?e:"string"==typeof e?.issues?.[0]?.message?e.issues[0].message:e instanceof Error?e.message:"Unknown error",sortRequestedNetworks(e,t=[]){let a={};return t&&e&&(e.forEach((e,t)=>{a[e]=t}),t.sort((e,t)=>{let r=a[e.id],o=a[t.id];return void 0!==r&&void 0!==o?r-o:void 0!==r?-1:1*(void 0!==o)})),t},calculateBalance(e){let t=0;for(let a of e)t+=a.value??0;return t},formatTokenBalance(e){let[t,a]=e.toFixed(2).split(".");return{dollars:t,pennies:a}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)&&(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e)))return!0;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){let a=new Set;return e.filter(e=>{let r=e[t];return!a.has(r)&&(a.add(r),!0)})},generateSdkVersion(e,t,r){let o=0===e.length?a.ConstantsUtil.ADAPTER_TYPES.UNIVERSAL:e.map(e=>e.adapterType).join(",");return`${t}-${o}-${r}`},createAccount:(e,t,a,r,o)=>({namespace:e,address:t,type:a,publicKey:r,path:o}),isCaipAddress(e){if("string"!=typeof e)return!1;let a=e.split(":"),r=a[0];return 3===a.filter(Boolean).length&&r in t.ConstantsUtil.CHAIN_NAME_MAP},getAccount:e=>e?"string"==typeof e?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0},isMac(){let e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){let t=`--${encodeURIComponent(window?.location.href)}`,a="state=";if("auth.magic.link"===new URL(e).host){let r="provider_authorization_url=",o=e.substring(e.indexOf(r)+r.length),n=this.injectIntoUrl(decodeURIComponent(o),a,t);return e.replace(o,encodeURIComponent(n))}return this.injectIntoUrl(e,a,t)},injectIntoUrl(e,t,a){let r=e.indexOf(t);if(-1===r)throw Error(`${t} parameter not found in the URL: ${e}`);let o=e.indexOf("&",r),n=t.length,i=-1!==o?o:e.length;return e.substring(0,r+n)+(e.substring(r+n,i)+a)+e.substring(o)}};e.s(["CoreHelperUtil",0,n],232674)},932220,e=>{"use strict";var t=e.i(707745);function a(e,a,r,o){let n=e[a];return(0,t.subscribe)(e,()=>{let t=e[a];Object.is(n,t)||r(n=t)},o)}Symbol();let{proxyStateMap:r,snapCache:o}=(0,t.unstable_getInternalStates)();function n(e){let a=[],n=0,i=new Map,s=new WeakMap,c=e=>s.get(e)||i;if(e){if("function"!=typeof e[Symbol.iterator])throw TypeError("proxyMap:\n	initial state must be iterable\n		tip: structure should be [[key, value]]");for(let[t,r]of e)i.set(t,n),a[n++]=r}let l={data:a,index:n,epoch:0,get size(){return r.has(this)||(()=>{let e=o.get(l),t=null==e?void 0:e[1];if(t&&!s.has(t)){let e=new Map(i);s.set(t,e)}})(),c(this).size},get(e){let t=c(this).get(e);return void 0===t?void this.epoch:this.data[t]},has(e){let t=c(this);return this.epoch,t.has(e)},set(e,t){if(!r.has(this))throw Error("Cannot perform mutations on a snapshot");let a=i.get(e);return void 0===a?(i.set(e,this.index),this.data[this.index++]=t):this.data[a]=t,this.epoch++,this},delete(e){if(!r.has(this))throw Error("Cannot perform mutations on a snapshot");let t=i.get(e);return void 0!==t&&(delete this.data[t],i.delete(e),this.epoch++,!0)},clear(){if(!r.has(this))throw Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,i.clear()},forEach(e){this.epoch,c(this).forEach((t,a)=>{e(this.data[t],a,this)})},*entries(){for(let[e,t]of(this.epoch,c(this)))yield[e,this.data[t]]},*keys(){for(let e of(this.epoch,c(this).keys()))yield e},*values(){for(let e of(this.epoch,c(this).values()))yield this.data[e]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},d=(0,t.proxy)(l);return Object.defineProperties(d,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(d),d}let{proxyStateMap:i,snapCache:s}=(0,t.unstable_getInternalStates)();e.s(["proxyMap",()=>n,"subscribeKey",()=>a])},112013,e=>{"use strict";async function t(...e){let a=await fetch(...e);if(!a.ok)throw Error(`HTTP status code: ${a.status}`,{cause:a});return a}class a{constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}async get({headers:e,signal:a,cache:r,...o}){let n=this.createUrl(o);return(await t(n,{method:"GET",headers:e,signal:a,cache:r})).json()}async getBlob({headers:e,signal:a,...r}){let o=this.createUrl(r);return(await t(o,{method:"GET",headers:e,signal:a})).blob()}async post({body:e,headers:a,signal:r,...o}){let n=this.createUrl(o);return(await t(n,{method:"POST",headers:a,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:a,signal:r,...o}){let n=this.createUrl(o);return(await t(n,{method:"PUT",headers:a,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:a,signal:r,...o}){let n=this.createUrl(o);return(await t(n,{method:"DELETE",headers:a,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:t}){let a=new URL(e,this.baseUrl);return t&&Object.entries(t).forEach(([e,t])=>{t&&a.searchParams.append(e,t)}),this.clientId&&a.searchParams.append("clientId",this.clientId),a}sendBeacon({body:e,...t}){let a=this.createUrl(t);return navigator.sendBeacon(a.toString(),e?JSON.stringify(e):void 0)}}e.s(["FetchUtil",()=>a])},380970,621055,e=>{"use strict";e.s(["OptionsController",()=>s],380970);var t=e.i(707745),a=e.i(932220),r=e.i(241135),o=e.i(232674);e.s(["OptionsUtil",()=>n],621055);let n={getFeatureValue(e,t){let a=t?.[e];return void 0===a?r.ConstantsUtil.DEFAULT_FEATURES[e]:a},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return o.CoreHelperUtil.isTelegram()&&(o.CoreHelperUtil.isIos()&&(t=t.filter(e=>"google"!==e)),o.CoreHelperUtil.isMac()&&(t=t.filter(e=>"x"!==e)),o.CoreHelperUtil.isAndroid()&&(t=t.filter(e=>!["facebook","x"].includes(e)))),o.CoreHelperUtil.isMobile()&&(t=t.filter(e=>"facebook"!==e)),t},isSocialsEnabled:()=>Array.isArray(s.state.features?.socials)&&s.state.features?.socials.length>0||Array.isArray(s.state.remoteFeatures?.socials)&&s.state.remoteFeatures?.socials.length>0,isEmailEnabled:()=>!!(s.state.features?.email||s.state.remoteFeatures?.email)},i=(0,t.proxy)({features:r.ConstantsUtil.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:r.ConstantsUtil.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),s={state:i,subscribeKey:(e,t)=>(0,a.subscribeKey)(i,e,t),setOptions(e){Object.assign(i,e)},setRemoteFeatures(e){if(!e)return;let t={...i.remoteFeatures,...e};i.remoteFeatures=t,i.remoteFeatures?.socials&&(i.remoteFeatures.socials=n.filterSocialsByPlatform(i.remoteFeatures.socials)),i.features?.pay&&(i.remoteFeatures.email=!1,i.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;i.features||(i.features=r.ConstantsUtil.DEFAULT_FEATURES);let t={...i.features,...e};i.features=t,i.features?.pay&&i.remoteFeatures&&(i.remoteFeatures.email=!1,i.remoteFeatures.socials=!1)},setProjectId(e){i.projectId=e},setCustomRpcUrls(e){i.customRpcUrls=e},setAllWallets(e){i.allWallets=e},setIncludeWalletIds(e){i.includeWalletIds=e},setExcludeWalletIds(e){i.excludeWalletIds=e},setFeaturedWalletIds(e){i.featuredWalletIds=e},setTokens(e){i.tokens=e},setTermsConditionsUrl(e){i.termsConditionsUrl=e},setPrivacyPolicyUrl(e){i.privacyPolicyUrl=e},setCustomWallets(e){i.customWallets=e},setIsSiweEnabled(e){i.isSiweEnabled=e},setIsUniversalProvider(e){i.isUniversalProvider=e},setSdkVersion(e){i.sdkVersion=e},setMetadata(e){i.metadata=e},setDisableAppend(e){i.disableAppend=e},setEIP6963Enabled(e){i.enableEIP6963=e},setDebug(e){i.debug=e},setEnableWalletGuide(e){i.enableWalletGuide=e},setEnableAuthLogger(e){i.enableAuthLogger=e},setEnableWallets(e){i.enableWallets=e},setPreferUniversalLinks(e){i.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(let[t,a]of Object.entries(r.ConstantsUtil.SIWX_DEFAULTS))e[t]??=a;i.siwx=e},setConnectMethodsOrder(e){i.features={...i.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){i.features={...i.features,walletFeaturesOrder:e}},setSocialsOrder(e){i.remoteFeatures={...i.remoteFeatures,socials:e}},setCollapseWallets(e){i.features={...i.features,collapseWallets:e}},setEnableEmbedded(e){i.enableEmbedded=e},setAllowUnsupportedChain(e){i.allowUnsupportedChain=e},setManualWCControl(e){i.manualWCControl=e},setEnableNetworkSwitch(e){i.enableNetworkSwitch=e},setEnableMobileFullScreen(e){i.enableMobileFullScreen=o.CoreHelperUtil.isMobile()&&e},setEnableReconnect(e){i.enableReconnect=e},setCoinbasePreference(e){i.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([e,t])=>{t&&(i.defaultAccountTypes[e]=t)})},setUniversalProviderConfigOverride(e){i.universalProviderConfigOverride=e},getUniversalProviderConfigOverride:()=>i.universalProviderConfigOverride,getSnapshot:()=>(0,t.snapshot)(i)}},170941,e=>{"use strict";var t=e.i(707745),a=e.i(932220),r=e.i(232674),o=e.i(112013),n=e.i(380970);let i=Object.freeze({enabled:!0,events:[]}),s=new o.FetchUtil({baseUrl:r.CoreHelperUtil.getAnalyticsUrl(),clientId:null}),c=(0,t.proxy)({...i}),l={state:c,subscribeKey:(e,t)=>(0,a.subscribeKey)(c,e,t),async sendError(e,t){if(!c.enabled)return;let a=Date.now();if(c.events.filter(e=>a-new Date(e.properties.timestamp||"").getTime()<6e4).length>=5)return;let o={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};c.events.push(o);try{if("undefined"==typeof window)return;let{projectId:a,sdkType:o,sdkVersion:i}=n.OptionsController.state;await s.post({path:"/e",params:{projectId:a,st:o,sv:i||"html-wagmi-4.2.2"},body:{eventId:r.CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){c.enabled=!0},disable(){c.enabled=!1},clearEvents(){c.events=[]}};class d extends Error{constructor(e,t,a){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=t,this.originalError=a,a&&a instanceof Error&&(this.originalName=a.name),Object.setPrototypeOf(this,d.prototype);let r=!1;if(a instanceof Error&&"string"==typeof a.stack&&a.stack){const e=a.stack,t=e.indexOf("\n");if(t>-1){const a=e.substring(t+1);this.stack=`${this.name}: ${this.message}
${a}`,r=!0}}!r&&(Error.captureStackTrace?Error.captureStackTrace(this,d):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function C(e,t){let a="";try{a=e instanceof Error?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e?0===Object.keys(e).length?"Unknown error":e?.message||JSON.stringify(e):String(e)}catch(e){a="Unknown error",console.error("Error parsing error message",e)}let r=e instanceof d?e:new d(a,t,e);throw l.sendError(r,r.category),r}function p(e,t="INTERNAL_SDK_ERROR"){let a={};return Object.keys(e).forEach(r=>{let o=e[r];if("function"==typeof o){let e=o;e="AsyncFunction"===o.constructor.name?async(...e)=>{try{return await o(...e)}catch(e){return C(e,t)}}:(...e)=>{try{return o(...e)}catch(e){return C(e,t)}},a[r]=e}else a[r]=o}),a}e.s(["AppKitError",()=>d,"withErrorBoundary",()=>p],170941)},173776,e=>{"use strict";var t=e.i(707745),a=e.i(932220),r=e.i(170941);let o=(0,t.proxy)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),n=(0,r.withErrorBoundary)({state:o,subscribeNetworkImages:e=>(0,t.subscribe)(o.networkImages,()=>e(o.networkImages)),subscribeKey:(e,t)=>(0,a.subscribeKey)(o,e,t),subscribe:e=>(0,t.subscribe)(o,()=>e(o)),setWalletImage(e,t){o.walletImages[e]=t},setNetworkImage(e,t){o.networkImages[e]=t},setChainImage(e,t){o.chainImages[e]=t},setConnectorImage(e,t){o.connectorImages={...o.connectorImages,[e]:t}},setTokenImage(e,t){o.tokenImages[e]=t},setCurrencyImage(e,t){o.currencyImages[e]=t}});e.s(["AssetController",0,n])},400058,e=>{"use strict";var t=e.i(150169);e.s(["AVAILABLE_NAMESPACES",0,["eip155","solana","polkadot","bip122","cosmos","sui","stacks"],"NetworkUtil",0,{caipNetworkIdToNumber:e=>e?Number(e.split(":")[1]):void 0,parseEvmChainId(e){return"string"==typeof e?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace:(e,t)=>e?.filter(e=>e.chainNamespace===t)||[],getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,a){if(!a)return;let r=e.find(e=>e.caipNetworkId===a);if(r)return r.name;let[o]=a.split(":");return t.ConstantsUtil.CHAIN_NAME_MAP?.[o]||void 0}}])},972487,e=>{"use strict";e.s(["ParseUtil",0,{validateCaipAddress(e){if(e.split(":")?.length!==3)throw Error("Invalid CAIP Address");return e},parseCaipAddress(e){let t=e.split(":");if(3!==t.length)throw Error(`Invalid CAIP-10 address: ${e}`);let[a,r,o]=t;if(!a||!r||!o)throw Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:a,chainId:r,address:o}},parseCaipNetworkId(e){let t=e.split(":");if(2!==t.length)throw Error(`Invalid CAIP-2 network id: ${e}`);let[a,r]=t;if(!a||!r)throw Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:a,chainId:r}}}])},45471,e=>{"use strict";var t=e.i(336244);let a=(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||"https://secure.walletconnect.org/sdk",r=(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",o=(void 0!==t.default&&void 0!==t.default.env?t.default.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4";e.s(["DEFAULT_LOG_LEVEL",0,r,"SECURE_SITE_SDK",0,a,"SECURE_SITE_SDK_VERSION",0,o,"W3mFrameConstants",0,{APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},"W3mFrameRpcConstants",0,{SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}])},649435,830463,e=>{"use strict";e.s(["W3mFrameStorage",()=>n],649435);var t=e.i(45471);e.s(["W3mFrameHelpers",()=>o],830463);let a=/^0x(?:[A-Fa-f0-9]{64})$/u,r=/^0x(?:[a-fA-F0-9]{62,})$/u,o={checkIfAllowedToTriggerEmail(){let e=n.get(t.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<3e4){let e=Math.ceil((3e4-t)/1e3);throw Error(`Please try again after ${e} seconds`)}}},getTimeToNextEmailLogin(){let e=n.get(t.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<3e4)return Math.ceil((3e4-t)/1e3)}return 0},checkIfRequestExists:e=>t.W3mFrameRpcConstants.NOT_SAFE_RPC_METHODS.includes(e.method)||t.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(e.method),getResponseType:e=>"string"==typeof e&&(e?.match(a)||e?.match(r))?t.W3mFrameConstants.RPC_RESPONSE_TYPE_TX:t.W3mFrameConstants.RPC_RESPONSE_TYPE_OBJECT,checkIfRequestIsSafe:e=>t.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(e.method),isClient:"undefined"!=typeof window},n={set(e,a){o.isClient&&localStorage.setItem(`${t.W3mFrameConstants.STORAGE_KEY}${e}`,a)},get:e=>o.isClient?localStorage.getItem(`${t.W3mFrameConstants.STORAGE_KEY}${e}`):null,delete(e,a){o.isClient&&(a?localStorage.removeItem(e):localStorage.removeItem(`${t.W3mFrameConstants.STORAGE_KEY}${e}`))}}},486071,234696,e=>{"use strict";e.s(["BlockchainApiController",()=>m],486071);var t=e.i(707745),a=e.i(241135),r=e.i(232674),o=e.i(112013),n=e.i(918094),i=e.i(729289),s=e.i(380970),c=e.i(932220);let l=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),d=(0,t.proxy)({...l}),C={state:d,subscribeKey:(e,t)=>(0,c.subscribeKey)(d,e,t),showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){let t=r.CoreHelperUtil.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){d.message=l.message,d.variant=l.variant,d.svg=l.svg,d.open=l.open,d.autoClose=l.autoClose},_showMessage({message:e,svg:t,variant:a="success",autoClose:r=l.autoClose}){d.open?(d.open=!1,setTimeout(()=>{d.message=e,d.variant=a,d.svg=t,d.open=!0,d.autoClose=r},150)):(d.message=e,d.variant=a,d.svg=t,d.open=!0,d.autoClose=r)}};e.s(["SnackController",0,C],234696);let p={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},E=r.CoreHelperUtil.getBlockchainApiUrl(),u=(0,t.proxy)({clientId:null,api:new o.FetchUtil({baseUrl:E,clientId:null}),supportedChains:{http:[],ws:[]}}),m={state:u,async get(e){let{st:t,sv:a}=m.getSdkProperties(),r=s.OptionsController.state.projectId,o={...e.params||{},st:t,sv:a,projectId:r};return u.api.get({...e,params:o})},getSdkProperties(){let{sdkType:e,sdkVersion:t}=s.OptionsController.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{u.supportedChains.http.length||await m.getSupportedNetworks()}catch(e){return!1}return u.supportedChains.http.includes(e)},async getSupportedNetworks(){try{let e=await m.get({path:"v1/supported-chains"});return u.supportedChains=e,e}catch{return u.supportedChains}},async fetchIdentity({address:e}){let t=n.StorageUtil.getIdentityFromCacheForAddress(e);if(t)return t;let a=await m.get({path:`/v1/identity/${e}`,params:{sender:i.ChainController.state.activeCaipAddress?r.CoreHelperUtil.getPlainAddress(i.ChainController.state.activeCaipAddress):void 0}});return n.StorageUtil.updateIdentityCache({address:e,identity:a,timestamp:Date.now()}),a},async fetchTransactions({account:e,cursor:t,signal:a,cache:r,chainId:o}){if(!await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let s=n.StorageUtil.getTransactionsCacheForAddress({address:e,chainId:o});if(s)return s;let c=await m.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:o},signal:a,cache:r});return n.StorageUtil.updateTransactionsCache({address:e,chainId:o,timestamp:Date.now(),transactions:c}),c},fetchSwapQuote:async({amount:e,userAddress:t,from:a,to:r,gasPrice:o})=>await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId)?m.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:a,to:r,gasPrice:o}}):{quotes:[]},fetchSwapTokens:async({chainId:e})=>await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId)?m.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]},async fetchTokenPrice({addresses:e}){if(!await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};let t=n.StorageUtil.getTokenPriceCacheForAddresses(e);if(t)return t;let a=await u.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:s.OptionsController.state.projectId},headers:{"Content-Type":"application/json"}});return n.StorageUtil.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:a}),a},fetchSwapAllowance:async({tokenAddress:e,userAddress:t})=>await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId)?m.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId:e}){let{st:t,sv:a}=m.getSdkProperties();if(!await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Gas Price");return m.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:a}})},async generateSwapCalldata({amount:e,from:t,to:r,userAddress:o,disableEstimate:n}){if(!await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return u.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:a.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE},projectId:s.OptionsController.state.projectId,from:t,to:r,userAddress:o,disableEstimate:n}})},async generateApproveCalldata({from:e,to:t,userAddress:a}){let{st:r,sv:o}=m.getSdkProperties();if(!await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return m.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:a,from:e,to:t,st:r,sv:o}})},async getBalance(e,t,a){let{st:r,sv:o}=m.getSdkProperties();if(!await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId))return C.showError("Token Balance Unavailable"),{balances:[]};let s=`${t}:${e}`,c=n.StorageUtil.getBalanceCacheForCaipAddress(s);if(c)return c;let l=await m.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:a,st:r,sv:o}});return n.StorageUtil.updateBalanceCache({caipAddress:s,balance:l,timestamp:Date.now()}),l},lookupEnsName:async e=>await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId)?m.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},async reverseLookupEnsName({address:e}){if(!await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId))return[];let t=i.ChainController.getAccountData()?.address;return m.get({path:`/v1/profile/reverse/${e}`,params:{sender:t,apiVersion:"2"}})},getEnsNameSuggestions:async e=>await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId)?m.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType:e,address:t,message:a,signature:r})=>await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId)?u.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:a,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1},generateOnRampURL:async({destinationWallets:e,partnerUserId:t,defaultNetwork:a,purchaseAmount:r,paymentAmount:o})=>await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId)?(await u.api.post({path:"/v1/generators/onrampurl",params:{projectId:s.OptionsController.state.projectId},body:{destinationWallets:e,defaultNetwork:a,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:o}})).url:"",async getOnrampOptions(){if(!await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await m.get({path:"/v1/onramp/options"})}catch(e){return p}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:a,network:r}){try{if(!await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId))return null;return await u.api.post({path:"/v1/onramp/quote",params:{projectId:s.OptionsController.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:a,network:r}})}catch(e){return{networkFee:{amount:a,currency:t.id},paymentSubtotal:{amount:a,currency:t.id},paymentTotal:{amount:a,currency:t.id},purchaseAmount:{amount:a,currency:t.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async e=>await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId)?m.get({path:`/v1/sessions/${e}`}):[],revokeSmartSession:async(e,t,a)=>await m.isNetworkSupported(i.ChainController.state.activeCaipNetwork?.caipNetworkId)?u.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:s.OptionsController.state.projectId},body:{pci:t,signature:a}}):{success:!1},setClientId(e){u.clientId=e,u.api=new o.FetchUtil({baseUrl:E,clientId:e})}}},282307,e=>{"use strict";function t(e,t){return"light"===t?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}e.s(["getW3mThemeVariables",()=>t])},637639,e=>{"use strict";e.s(["CUSTOM_DEEPLINK_WALLETS",()=>r,"MobileWalletUtil",()=>o]);var t=e.i(150169),a=e.i(729289);let r={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},o={handleMobileDeeplinkRedirect(e,o){let n=window.location.href,i=encodeURIComponent(n);if(e===r.PHANTOM.id&&!("phantom"in window)){let e=n.startsWith("https")?"https":"http",t=n.split("/")[2],a=encodeURIComponent(`${e}://${t}`);window.location.href=`${r.PHANTOM.url}/ul/browse/${i}?ref=${a}`}if(e!==r.SOLFLARE.id||"solflare"in window||(window.location.href=`${r.SOLFLARE.url}/ul/v1/browse/${i}?ref=${i}`),o!==t.ConstantsUtil.CHAIN.SOLANA||e!==r.COINBASE.id||"coinbaseSolana"in window||(window.location.href=`${r.COINBASE.url}/dapp?cb_url=${i}`),o===t.ConstantsUtil.CHAIN.BITCOIN&&e===r.BINANCE.id&&!("binancew3w"in window)){let e=a.ChainController.state.activeCaipNetwork,t=window.btoa("/pages/browser/index"),o=window.btoa(`url=${i}&defaultChainId=${e?.id??1}`),n=new URL(r.BINANCE.deeplink);n.searchParams.set("appId",r.BINANCE.appId),n.searchParams.set("startPagePath",t),n.searchParams.set("startPageQuery",o);let s=new URL(r.BINANCE.url);s.searchParams.set("_dp",window.btoa(n.toString())),window.location.href=s.toString()}}}},423929,e=>{"use strict";e.s(["AssetUtil",()=>i]);var t=e.i(707745),a=e.i(948558),r=e.i(173776);let o={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},n=(0,t.proxy)({networkImagePromises:{}}),i={async fetchWalletImage(e){if(e)return await a.ApiController._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;let t=this.getNetworkImageById(e);return t||(n.networkImagePromises[e]||(n.networkImagePromises[e]=a.ApiController._fetchNetworkImage(e)),await n.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return r.AssetController.state.walletImages[e]},getWalletImage:e=>e?.image_url?e?.image_url:e?.image_id?r.AssetController.state.walletImages[e.image_id]:void 0,getNetworkImage:e=>e?.assets?.imageUrl?e?.assets?.imageUrl:e?.assets?.imageId?r.AssetController.state.networkImages[e.assets.imageId]:void 0,getNetworkImageById(e){if(e)return r.AssetController.state.networkImages[e]},getConnectorImage:e=>e?.imageUrl?e.imageUrl:e?.info?.icon?e.info.icon:e?.imageId?r.AssetController.state.connectorImages[e.imageId]:void 0,getChainImage:e=>r.AssetController.state.networkImages[o[e]],getTokenImage(e){if(e)return r.AssetController.state.tokenImages[e]}}},914139,e=>{"use strict";e.s(["EventsController",()=>d]);var t=e.i(707745),a=e.i(232674),r=e.i(112013),o=e.i(729289),n=e.i(380970);let i=a.CoreHelperUtil.getAnalyticsUrl(),s=new r.FetchUtil({baseUrl:i,clientId:null}),c=["MODAL_CREATED"],l=(0,t.proxy)({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),d={state:l,subscribe:e=>(0,t.subscribe)(l,()=>e(l)),getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:a}=n.OptionsController.state;return{projectId:e,st:t,sv:a||"html-wagmi-4.2.2"}},shouldFlushEvents(){let e=JSON.stringify(l.pendingEvents).length/1024>45,t=l.lastFlush+1e4<Date.now();return e||t},_setPendingEvent(e){try{let t=o.ChainController.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),c.includes(e.data.event)||"undefined"==typeof window)return;let r=o.ChainController.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:a.CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:r}}}),l.reportedErrors.FORBIDDEN=!1,d.shouldFlushEvents()&&d._submitPendingEvents()}catch(e){console.warn("_setPendingEvent",e)}},sendEvent(e){l.timestamp=Date.now(),l.data=e,(n.OptionsController.state.features?.analytics||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(e.event))&&d._setPendingEvent(l),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){l.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(e=>{let t=e.props.event;return"WALLET_IMPRESSION_V2"!==t})}catch{return e}},_submitPendingEvents(){if(l.lastFlush=Date.now(),0!==l.pendingEvents.length||0!==l.walletImpressions.length)try{let e=d._transformPendingEventsForBatch(l.pendingEvents);l.walletImpressions.length&&e.push({eventId:a.CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...l.walletImpressions]}}),s.sendBeacon({path:"/batch",params:d.getSdkProperties(),body:e}),l.reportedErrors.FORBIDDEN=!1,l.pendingEvents=[],l.walletImpressions=[]}catch(e){l.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){l.subscribedToVisibilityChange||"undefined"!=typeof document&&(l.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{"hidden"===document.visibilityState&&d._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{d._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{d._submitPendingEvents()}),setInterval(()=>{d._submitPendingEvents()},1e4))}}},948558,e=>{"use strict";e.s(["ApiController",()=>S]);var t=e.i(707745),a=e.i(932220),r=e.i(150169),o=e.i(423929),n=e.i(232674),i=e.i(112013),s=e.i(637639),c=e.i(918094),l=e.i(173776),d=e.i(729289),C=e.i(374182),p=e.i(914139),E=e.i(380970);let u=n.CoreHelperUtil.getApiUrl(),m=new i.FetchUtil({baseUrl:u,clientId:null}),h=(0,t.proxy)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),S={state:h,subscribeKey:(e,t)=>(0,a.subscribeKey)(h,e,t),_getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:a}=E.OptionsController.state;return{projectId:e,st:t||"appkit",sv:a||"html-wagmi-4.2.2"}},_filterOutExtensions:e=>E.OptionsController.state.isUniversalProvider?e.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):e,async _fetchWalletImage(e){let t=`${m.baseUrl}/getWalletImage/${e}`,a=await m.getBlob({path:t,params:S._getSdkProperties()});l.AssetController.setWalletImage(e,URL.createObjectURL(a))},async _fetchNetworkImage(e){let t=`${m.baseUrl}/public/getAssetImage/${e}`,a=await m.getBlob({path:t,params:S._getSdkProperties()});l.AssetController.setNetworkImage(e,URL.createObjectURL(a))},async _fetchConnectorImage(e){let t=`${m.baseUrl}/public/getAssetImage/${e}`,a=await m.getBlob({path:t,params:S._getSdkProperties()});l.AssetController.setConnectorImage(e,URL.createObjectURL(a))},async _fetchCurrencyImage(e){let t=`${m.baseUrl}/public/getCurrencyImage/${e}`,a=await m.getBlob({path:t,params:S._getSdkProperties()});l.AssetController.setCurrencyImage(e,URL.createObjectURL(a))},async _fetchTokenImage(e){let t=`${m.baseUrl}/public/getTokenImage/${e}`,a=await m.getBlob({path:t,params:S._getSdkProperties()});l.AssetController.setTokenImage(e,URL.createObjectURL(a))},_filterWalletsByPlatform(e){let t=e.length,a=n.CoreHelperUtil.isMobile()?e?.filter(e=>!!e.mobile_link||!!e.webapp_link||Object.values(s.CUSTOM_DEEPLINK_WALLETS).map(e=>e.id).includes(e.id)):e,r=t-a.length;return{filteredWallets:a,mobileFilteredOutWalletsLength:r}},fetchProjectConfig:async()=>(await m.get({path:"/appkit/v1/config",params:S._getSdkProperties()})).features,async fetchUsage(){try{let{tier:e,isAboveMauLimit:t,isAboveRpcLimit:a}=(await m.get({path:"/appkit/v1/project-limits",params:S._getSdkProperties()})).planLimits;S.state.plan={tier:e,hasExceededUsageLimit:"starter"===e&&(t||a),limits:{isAboveRpcLimit:a,isAboveMauLimit:t}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{let{allowedOrigins:e}=await m.get({path:"/projects/v1/origins",params:S._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){let t=e.cause.status;if(t===r.ConstantsUtil.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw Error("RATE_LIMITED",{cause:e});if(t>=r.ConstantsUtil.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw Error("SERVER_ERROR",{cause:e})}return[]}},async fetchNetworkImages(){let e=d.ChainController.getAllRequestedCaipNetworks(),t=e?.map(({assets:e})=>e?.imageId).filter(Boolean).filter(e=>!o.AssetUtil.getNetworkImageById(e));t&&await Promise.allSettled(t.map(e=>S._fetchNetworkImage(e)))},async fetchConnectorImages(){let{connectors:e}=C.ConnectorController.state,t=e.map(({imageId:e})=>e).filter(Boolean);await Promise.allSettled(t.map(e=>S._fetchConnectorImage(e)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(e=>S._fetchCurrencyImage(e)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(e=>S._fetchTokenImage(e)))},async fetchWallets(e){let t=e.exclude??[];S._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(s.CUSTOM_DEEPLINK_WALLETS).map(e=>e.id));let a=await m.get({path:"/getWallets",params:{...S._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:r,mobileFilteredOutWalletsLength:o}=S._filterWalletsByPlatform(a?.data);return{data:r||[],count:a?.count,mobileFilteredOutWalletsLength:o}},async prefetchWalletRanks(){let e=C.ConnectorController.state.connectors;if(!e?.length)return;let t={page:1,entries:20,badge:"certified"};if(t.names=e.map(e=>e.name).join(","),d.ChainController.state.activeChain===r.ConstantsUtil.CHAIN.EVM){let a=[...e.flatMap(e=>e.connectors?.map(e=>e.info?.rdns)||[]),...e.map(e=>e.info?.rdns)].filter(e=>"string"==typeof e&&e.length>0);a.length&&(t.rdns=a.join(","))}let{data:a}=await S.fetchWallets(t);h.explorerWallets=a;let o=d.ChainController.getRequestedCaipNetworkIds().join(",");h.explorerFilteredWallets=a.filter(e=>e.chains?.some(e=>o.includes(e)))},async fetchFeaturedWallets(){let{featuredWalletIds:e}=E.OptionsController.state;if(e?.length){let t={...S._getSdkProperties(),page:1,entries:e?.length??4,include:e},{data:a}=await S.fetchWallets(t),r=[...a].sort((t,a)=>e.indexOf(t.id)-e.indexOf(a.id)),o=r.map(e=>e.image_id).filter(Boolean);await Promise.allSettled(o.map(e=>S._fetchWalletImage(e))),h.featured=r,h.allFeatured=r}},async fetchRecommendedWallets(){try{h.isFetchingRecommendedWallets=!0;let{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:a}=E.OptionsController.state,r=[...t??[],...a??[]].filter(Boolean),o=d.ChainController.getRequestedCaipNetworkIds().join(","),{data:n,count:i}=await S.fetchWallets({page:1,entries:4,include:e,exclude:r,chains:o}),s=c.StorageUtil.getRecentWallets(),l=n.map(e=>e.image_id).filter(Boolean),C=s.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...l,...C].map(e=>S._fetchWalletImage(e))),h.recommended=n,h.allRecommended=n,h.count=i??0}catch{}finally{h.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){let{includeWalletIds:t,excludeWalletIds:a,featuredWalletIds:r}=E.OptionsController.state,o=d.ChainController.getRequestedCaipNetworkIds().join(","),i=[...h.recommended.map(({id:e})=>e),...a??[],...r??[]].filter(Boolean),{data:s,count:c,mobileFilteredOutWalletsLength:l}=await S.fetchWallets({page:e,entries:40,include:t,exclude:i,chains:o});h.mobileFilteredOutWalletsLength=l+(h.mobileFilteredOutWalletsLength??0);let C=s.slice(0,20).map(e=>e.image_id).filter(Boolean);await Promise.allSettled(C.map(e=>S._fetchWalletImage(e))),h.wallets=n.CoreHelperUtil.uniqueBy([...h.wallets,...S._filterOutExtensions(s)],"id").filter(e=>e.chains?.some(e=>o.includes(e))),h.count=c>h.count?c:h.count,h.page=e},async initializeExcludedWallets({ids:e}){let t={page:1,entries:e.length,include:e},{data:a}=await S.fetchWallets(t);a&&a.forEach(e=>{h.excludedWallets.push({rdns:e.rdns,name:e.name})})},async searchWallet({search:e,badge:t}){let{includeWalletIds:a,excludeWalletIds:r}=E.OptionsController.state,o=d.ChainController.getRequestedCaipNetworkIds().join(",");h.search=[];let i={page:1,entries:100,search:e?.trim(),badge_type:t,include:a,exclude:r,chains:o},{data:s}=await S.fetchWallets(i);p.EventsController.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});let c=s.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...c.map(e=>S._fetchWalletImage(e)),n.CoreHelperUtil.wait(300)]),h.search=S._filterOutExtensions(s)},initPromise(e,t){let a=h.promises[e];return a||(h.promises[e]=t())},prefetch:({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:a=!0,fetchNetworkImages:r=!0,fetchWalletRanks:o=!0}={})=>Promise.allSettled([e&&S.initPromise("connectorImages",S.fetchConnectorImages),t&&S.initPromise("featuredWallets",S.fetchFeaturedWallets),a&&S.initPromise("recommendedWallets",S.fetchRecommendedWallets),r&&S.initPromise("networkImages",S.fetchNetworkImages),o&&S.initPromise("walletRanks",S.prefetchWalletRanks)].filter(Boolean)),prefetchAnalyticsConfig(){E.OptionsController.state.features?.analytics&&S.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:e}=await m.get({path:"/getAnalyticsConfig",params:S._getSdkProperties()});E.OptionsController.setFeatures({analytics:e})}catch(e){E.OptionsController.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){h.featured=h.allFeatured,h.recommended=h.allRecommended;return}let t=d.ChainController.getRequestedCaipNetworkIds().join(",");h.featured=h.allFeatured.filter(e=>e.chains?.some(e=>t.includes(e))),h.recommended=h.allRecommended.filter(e=>e.chains?.some(e=>t.includes(e))),h.filteredWallets=h.wallets.filter(e=>e.chains?.some(e=>t.includes(e)))},clearFilterByNamespaces(){h.filteredWallets=[]},setFilterByNamespace(e){if(!e){h.featured=h.allFeatured,h.recommended=h.allRecommended;return}let t=d.ChainController.getRequestedCaipNetworkIds().join(",");h.featured=h.allFeatured.filter(e=>e.chains?.some(e=>t.includes(e))),h.recommended=h.allRecommended.filter(e=>e.chains?.some(e=>t.includes(e))),h.filteredWallets=h.wallets.filter(e=>e.chains?.some(e=>t.includes(e)))}}},389878,e=>{"use strict";e.s(["NetworkUtil",()=>n]);var t=e.i(150169),a=e.i(729289),r=e.i(374182),o=e.i(904670);let n={onSwitchNetwork({network:e,ignoreSwitchConfirmation:n=!1}){let i=a.ChainController.state.activeCaipNetwork,s=a.ChainController.state.activeChain,c=o.RouterController.state.data;if(e.id===i?.id)return;let l=!!a.ChainController.getAccountData(s)?.address,d=!!a.ChainController.getAccountData(e.chainNamespace)?.address,C=e.chainNamespace!==s,p=r.ConnectorController.getConnectorId(s)===t.ConstantsUtil.CONNECTOR_ID.AUTH,E=t.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>t===e.chainNamespace);n||p&&E?o.RouterController.push("SwitchNetwork",{...c,network:e}):l&&C&&!d?o.RouterController.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):o.RouterController.push("SwitchNetwork",{...c,network:e})}}},135142,e=>{"use strict";var t=e.i(707745),a=e.i(932220);let r=(0,t.proxy)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1});e.s(["PublicStateController",0,{state:r,subscribe:e=>(0,t.subscribe)(r,()=>e(r)),subscribeOpen:e=>(0,a.subscribeKey)(r,"open",e),set(e){Object.assign(r,{...r,...e})}}])},455137,e=>{"use strict";e.s(["ModalController",()=>m]);var t=e.i(707745),a=e.i(932220),r=e.i(232674),o=e.i(389878),n=e.i(170941),i=e.i(948558),s=e.i(729289),c=e.i(804499),l=e.i(374182),d=e.i(914139),C=e.i(380970),p=e.i(135142),E=e.i(904670);let u=(0,t.proxy)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),m=(0,n.withErrorBoundary)({state:u,subscribe:e=>(0,t.subscribe)(u,()=>e(u)),subscribeKey:(e,t)=>(0,a.subscribeKey)(u,e,t),async open(e){let t=e?.namespace,a=s.ChainController.state.activeChain,n=t&&t!==a,h=s.ChainController.getAccountData(e?.namespace)?.caipAddress,S=s.ChainController.state.noAdapters;if(c.ConnectionController.state.wcBasic?i.ApiController.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await i.ApiController.prefetch(),l.ConnectorController.setFilterByNamespace(e?.namespace),m.setLoading(!0,t),t&&n){let e=s.ChainController.getNetworkData(t)?.caipNetwork||s.ChainController.getRequestedCaipNetworks(t)[0];e&&(S?(await s.ChainController.switchActiveNetwork(e),E.RouterController.push("ConnectingWalletConnectBasic")):o.NetworkUtil.onSwitchNetwork({network:e,ignoreSwitchConfirmation:!0}))}else C.OptionsController.state.manualWCControl||S&&!h?r.CoreHelperUtil.isMobile()?E.RouterController.reset("AllWallets"):E.RouterController.reset("ConnectingWalletConnectBasic"):e?.view?E.RouterController.reset(e.view,e.data):h?E.RouterController.reset("Account"):E.RouterController.reset("Connect");u.open=!0,p.PublicStateController.set({open:!0}),d.EventsController.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!h}})},close(){let e=C.OptionsController.state.enableEmbedded,t=!!s.ChainController.state.activeCaipAddress;u.open&&d.EventsController.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),u.open=!1,E.RouterController.reset("Connect"),m.clearLoading(),e?t?E.RouterController.replace("Account"):E.RouterController.push("Connect"):p.PublicStateController.set({open:!1}),c.ConnectionController.resetUri()},setLoading(e,t){t&&u.loadingNamespaceMap.set(t,e),u.loading=e,p.PublicStateController.set({loading:e})},clearLoading(){u.loadingNamespaceMap.clear(),u.loading=!1,p.PublicStateController.set({loading:!1})},shake(){u.shake||(u.shake=!0,setTimeout(()=>{u.shake=!1},500))}})},904670,e=>{"use strict";e.s(["RouterController",()=>C]);var t=e.i(707745),a=e.i(932220),r=e.i(170941),o=e.i(948558),n=e.i(729289),i=e.i(374182),s=e.i(455137),c=e.i(380970);let l=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],d=(0,t.proxy)({view:"Connect",history:["Connect"],transactionStack:[]}),C=(0,r.withErrorBoundary)({state:d,subscribeKey:(e,t)=>(0,a.subscribeKey)(d,e,t),pushTransactionStack(e){d.transactionStack.push(e)},popTransactionStack(e){let t=d.transactionStack.pop();if(!t)return;let{onSuccess:a,onError:r,onCancel:o}=t;switch(e){case"success":a?.();break;case"error":r?.(),C.goBack();break;case"cancel":o?.(),C.goBack()}},push(e,t){let a=e,r=t;o.ApiController.state.plan.hasExceededUsageLimit&&l.includes(e)&&(a="UsageExceeded",r=void 0),a!==d.view&&(d.view=a,d.history.push(a),d.data=r)},reset(e,t){d.view=e,d.history=[e],d.data=t},replace(e,t){d.history.at(-1)!==e&&(d.view=e,d.history[d.history.length-1]=e,d.data=t)},goBack(){let e=n.ChainController.state.activeCaipAddress,a="ConnectingFarcaster"===C.state.view,r=!e&&a;if(d.history.length>1){d.history.pop();let[t]=d.history.slice(-1);t&&(e&&"Connect"===t?d.view="Account":d.view=t)}else s.ModalController.close();d.data?.wallet&&(d.data.wallet=void 0),d.data?.redirectView&&(d.data.redirectView=void 0),setTimeout(()=>{if(r){n.ChainController.setAccountProp("farcasterUrl",void 0,n.ChainController.state.activeChain);let e=i.ConnectorController.getAuthConnector();e?.provider?.reload();let a=(0,t.snapshot)(c.OptionsController.state);e?.provider?.syncDappData?.({metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType})}},100)},goBackToIndex(e){if(d.history.length>1){d.history=d.history.slice(0,e+1);let[t]=d.history.slice(-1);t&&(d.view=t)}},goBackOrCloseModal(){C.state.history.length>1?C.goBack():s.ModalController.close()}})},374182,501528,e=>{"use strict";e.s(["ConnectorController",()=>N],374182);var t=e.i(707745),a=e.i(932220),r=e.i(400058),o=e.i(150169),n=e.i(282307),i=e.i(45471),s=e.i(843175),c=e.i(637639),l=e.i(918094),d=e.i(170941),C=e.i(948558),p=e.i(729289),E=e.i(380970),u=e.i(904670);e.s(["ThemeController",()=>S],501528);let m=(0,t.proxy)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),h={state:m,subscribe:e=>(0,t.subscribe)(m,()=>e(m)),setThemeMode(e){m.themeMode=e;try{let t=N.getAuthConnector();if(t){let a=h.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:a,w3mThemeVariables:(0,n.getW3mThemeVariables)(a,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){m.themeVariables={...m.themeVariables,...e};try{let e=N.getAuthConnector();if(e){let t=h.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:(0,n.getW3mThemeVariables)(m.themeVariables,m.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,t.snapshot)(m)},S=(0,d.withErrorBoundary)(h),A=Object.fromEntries(r.AVAILABLE_NAMESPACES.map(e=>[e,void 0])),g=Object.fromEntries(r.AVAILABLE_NAMESPACES.map(e=>[e,!0])),_=(0,t.proxy)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:A,filterByNamespaceMap:g}),N=(0,d.withErrorBoundary)({state:_,subscribe:e=>(0,t.subscribe)(_,()=>{e(_)}),subscribeKey:(e,t)=>(0,a.subscribeKey)(_,e,t),initialize(e){e.forEach(e=>{let t=l.StorageUtil.getConnectedConnectorId(e);t&&N.setConnectorId(t,e)})},setActiveConnector(e){e&&(_.activeConnector=(0,t.ref)(e))},setConnectors(e){e.filter(e=>!_.allConnectors.some(t=>t.id===e.id&&N.getConnectorName(t.name)===N.getConnectorName(e.name)&&t.chain===e.chain)).forEach(e=>{"MULTI_CHAIN"!==e.type&&_.allConnectors.push((0,t.ref)(e))});let a=N.getEnabledNamespaces(),r=N.getEnabledConnectors(a);_.connectors=N.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(_.filterByNamespaceMap).forEach(e=>{_.filterByNamespaceMap[e]=!1}),e.forEach(e=>{_.filterByNamespaceMap[e]=!0}),N.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){_.filterByNamespaceMap[e]=t,N.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let e=N.getEnabledNamespaces(),t=N.getEnabledConnectors(e),a=N.areAllNamespacesEnabled();_.connectors=N.mergeMultiChainConnectors(t),a?C.ApiController.clearFilterByNamespaces():C.ApiController.filterByNamespaces(e)},getEnabledNamespaces:()=>Object.entries(_.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e),getEnabledConnectors:e=>_.allConnectors.filter(t=>e.includes(t.chain)),areAllNamespacesEnabled:()=>Object.values(_.filterByNamespaceMap).every(e=>e),mergeMultiChainConnectors(e){let t=N.generateConnectorMapByName(e),a=[];return t.forEach(e=>{let t=e[0],r=t?.id===o.ConstantsUtil.CONNECTOR_ID.AUTH;e.length>1&&t?a.push({name:t.name,imageUrl:t.imageUrl,imageId:t.imageId,connectors:[...e],type:r?"AUTH":"MULTI_CHAIN",chain:"eip155",id:t?.id||""}):t&&a.push(t)}),a},generateConnectorMapByName(e){let t=new Map;return e.forEach(e=>{let{name:a}=e,r=N.getConnectorName(a);if(!r)return;let o=t.get(r)||[];o.find(t=>t.chain===e.chain)||o.push(e),t.set(r,o)}),t},getConnectorName:e=>e&&({"Trust Wallet":"Trust"})[e]||e,getUniqueConnectorsByName(e){let t=[];return e.forEach(e=>{t.find(t=>t.chain===e.chain)||t.push(e)}),t},addConnector(e){if(e.id===o.ConstantsUtil.CONNECTOR_ID.AUTH){let a=(0,t.snapshot)(E.OptionsController.state),r=S.getSnapshot().themeMode,o=S.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:o,w3mThemeVariables:(0,n.getW3mThemeVariables)(o,r)}),N.setConnectors([e])}else N.setConnectors([e])},getAuthConnector(e){let t=e||p.ChainController.state.activeChain,a=_.connectors.find(e=>e.id===o.ConstantsUtil.CONNECTOR_ID.AUTH);if(a)return a?.connectors?.length?a.connectors.find(e=>e.chain===t):a},getAnnouncedConnectorRdns:()=>_.connectors.filter(e=>"ANNOUNCED"===e.type).map(e=>e.info?.rdns),getConnectorById:e=>_.allConnectors.find(t=>t.id===e),getConnector({id:e,rdns:t,namespace:a}){let r=a||p.ChainController.state.activeChain;return _.allConnectors.filter(e=>e.chain===r).find(a=>a.explorerId===e||a.info?.rdns===t)},syncIfAuthConnector(e){if("AUTH"!==e.id)return;let a=(0,t.snapshot)(E.OptionsController.state),r=S.getSnapshot().themeMode,o=S.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:a.metadata,sdkVersion:a.sdkVersion,sdkType:a.sdkType,projectId:a.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:o,w3mThemeVariables:(0,n.getW3mThemeVariables)(o,r)})},getConnectorsByNamespace(e){let t=_.allConnectors.filter(t=>t.chain===e);return N.mergeMultiChainConnectors(t)},canSwitchToSmartAccount:e=>p.ChainController.checkIfSmartAccountEnabled()&&(0,s.getPreferredAccountType)(e)===i.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA,selectWalletConnector(e){let t=u.RouterController.state.data?.redirectView,a=N.getConnector({id:e.id,rdns:e.rdns});c.MobileWalletUtil.handleMobileDeeplinkRedirect(a?.explorerId||e.id,p.ChainController.state.activeChain),a?u.RouterController.push("ConnectingExternal",{connector:a,wallet:e,redirectView:t}):u.RouterController.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors:e=>e?N.getConnectorsByNamespace(e):N.mergeMultiChainConnectors(_.allConnectors),setFilterByNamespace(e){_.filterByNamespace=e,_.connectors=N.getConnectors(e),C.ApiController.setFilterByNamespace(e)},setConnectorId(e,t){e&&(_.activeConnectorIds={..._.activeConnectorIds,[t]:e},l.StorageUtil.setConnectedConnectorId(t,e))},removeConnectorId(e){_.activeConnectorIds={..._.activeConnectorIds,[e]:void 0},l.StorageUtil.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return _.activeConnectorIds[e]},isConnected:e=>e?!!_.activeConnectorIds[e]:Object.values(_.activeConnectorIds).some(e=>!!e),resetConnectorIds(){_.activeConnectorIds={...A}}})},841708,e=>{"use strict";e.s(["ConnectorControllerUtil",()=>u]);var t=e.i(972487),a=e.i(150169),r=e.i(45471),o=e.i(729289),n=e.i(804499),i=e.i(374182),s=e.i(914139),c=e.i(455137),l=e.i(904670),d=e.i(843175),C=e.i(241135),p=e.i(232674),E=e.i(918094);let u={checkNamespaceConnectorId:(e,t)=>i.ConnectorController.getConnectorId(e)===t,isSocialProvider:e=>C.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials.includes(e),connectWalletConnect:({walletConnect:e,connector:a,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:s,onConnect:d})=>new Promise((C,E)=>{if(e&&i.ConnectorController.setActiveConnector(a),s?.(p.CoreHelperUtil.isMobile()&&e),n){let e=c.ModalController.subscribeKey("open",t=>{t||(l.RouterController.state.view!==n&&l.RouterController.replace(n),e(),E(Error("Modal closed")))})}let u=o.ChainController.subscribeKey("activeCaipAddress",e=>{e&&(d?.(),r&&c.ModalController.close(),u(),C(t.ParseUtil.parseCaipAddress(e)))})}),connectExternal:e=>new Promise((a,r)=>{let i=o.ChainController.subscribeKey("activeCaipAddress",e=>{e&&(c.ModalController.close(),i(),a(t.ParseUtil.parseCaipAddress(e)))});n.ConnectionController.connectExternal(e,e.chain).catch(()=>{i(),r(Error("Connection rejected"))})}),connectSocial({social:e,namespace:r,closeModalOnConnect:l=!0,onOpenFarcaster:d,onConnect:C}){let u,m=!1,h=null,S=r||o.ChainController.state.activeChain,A=o.ChainController.subscribeKey("activeCaipAddress",e=>{e&&(l&&c.ModalController.close(),A())});return new Promise((r,l)=>{async function A(c){if(c.data?.resultUri)if(c.origin===a.ConstantsUtil.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",A,!1);try{let a=i.ConnectorController.getAuthConnector(S);if(a&&!m){u&&u.close(),m=!0;let i=c.data.resultUri;s.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),E.StorageUtil.setConnectedSocialProvider(e),await n.ConnectionController.connectExternal({id:a.id,type:a.type,socialUri:i},a.chain);let d=o.ChainController.state.activeCaipAddress;if(!d)return void l(Error("Failed to connect"));r(t.ParseUtil.parseCaipAddress(d)),s.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(t){s.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:p.CoreHelperUtil.parseError(t)}}),l(Error("Failed to connect"))}}else s.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}!async function(){if(s.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),"farcaster"===e){d?.();let t=c.ModalController.subscribeKey("open",a=>{a||"farcaster"!==e||(l(Error("Popup closed")),C?.(),t())}),a=i.ConnectorController.getAuthConnector();if(a){let e=o.ChainController.getAccountData(S);if(!e?.farcasterUrl)try{let{url:e}=await a.provider.getFarcasterUri();o.ChainController.setAccountProp("farcasterUrl",e,S)}catch{l(Error("Failed to connect to farcaster"))}}}else{let t=i.ConnectorController.getAuthConnector();h=p.CoreHelperUtil.returnOpenHref(`${a.ConstantsUtil.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(t){let{uri:a}=await t.provider.getSocialRedirectUri({provider:e});if(h&&a){h.location.href=a,u=h;let e=setInterval(()=>{u?.closed&&!m&&(l(Error("Popup closed")),clearInterval(e))},1e3);window.addEventListener("message",A,!1)}else h?.close(),l(Error("Failed to initiate social connection"))}}catch{l(Error("Failed to initiate social connection")),h?.close()}}}()})},connectEmail:({closeModalOnConnect:e=!0,redirectViewOnModalClose:a="Connect",onOpen:r,onConnect:n})=>new Promise((i,s)=>{if(r?.(),a){let e=c.ModalController.subscribeKey("open",t=>{t||(l.RouterController.state.view!==a&&l.RouterController.replace(a),e(),s(Error("Modal closed")))})}let d=o.ChainController.subscribeKey("activeCaipAddress",a=>{a&&(n?.(),e&&c.ModalController.close(),d(),i(t.ParseUtil.parseCaipAddress(a)))})}),async updateEmail(){let e=E.StorageUtil.getConnectedConnectorId(o.ChainController.state.activeChain),t=i.ConnectorController.getAuthConnector();if(!t)throw Error("No auth connector found");if(e!==a.ConstantsUtil.CONNECTOR_ID.AUTH)throw Error("Not connected to email or social");let r=t.provider.getEmail()??"";return await c.ModalController.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((e,a)=>{let o=setInterval(()=>{let a=t.provider.getEmail()??"";a!==r&&(c.ModalController.close(),clearInterval(o),n(),e({email:a}))},1e3),n=c.ModalController.subscribeKey("open",e=>{e||("Connect"!==l.RouterController.state.view&&l.RouterController.push("Connect"),clearInterval(o),n(),a(Error("Modal closed")))})})},canSwitchToSmartAccount:e=>o.ChainController.checkIfSmartAccountEnabled()&&(0,d.getPreferredAccountType)(e)===r.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA}},843175,e=>{"use strict";e.s(["getActiveCaipNetwork",()=>n,"getActiveNetworkTokenAddress",()=>r,"getPreferredAccountType",()=>o]),e.i(150169);var t=e.i(729289);e.i(841708);var a=e.i(241135);function r(){let e=t.ChainController.state.activeCaipNetwork?.chainNamespace||"eip155",r=t.ChainController.state.activeCaipNetwork?.id||1,o=a.ConstantsUtil.NATIVE_TOKEN_ADDRESS[e];return`${e}:${r}:${o}`}function o(e){return t.ChainController.getAccountData(e)?.preferredAccountType}function n(e){return e?t.ChainController.state.chains.get(e)?.networkState?.caipNetwork:t.ChainController.state.activeCaipNetwork}},880075,e=>{"use strict";e.s(["ConnectionControllerUtil",()=>o]);var t=e.i(804499),a=e.i(374182),r=e.i(380970);let o={getConnectionStatus(e,r){let o=a.ConnectorController.state.activeConnectorIds[r],n=t.ConnectionController.getConnections(r);return o&&e.connectorId===o?"connected":n.some(t=>t.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:e,connectorId:t,addresses:a})=>e.map(e=>{if(t&&e.connectorId.toLowerCase()===t.toLowerCase()&&a){let t=e.accounts.filter(e=>!a.some(t=>t.toLowerCase()===e.address.toLowerCase()));return{...e,accounts:t}}return e}),excludeExistingConnections(e,t){let a=new Set(e);return t.filter(e=>!a.has(e.connectorId))},getConnectionsByConnectorId:(e,t)=>e.filter(e=>e.connectorId.toLowerCase()===t.toLowerCase()),getConnectionsData(e){let n=!!r.OptionsController.state.remoteFeatures?.multiWallet,i=a.ConnectorController.state.activeConnectorIds[e],s=t.ConnectionController.getConnections(e),c=(t.ConnectionController.state.recentConnections.get(e)??[]).filter(e=>a.ConnectorController.getConnectorById(e.connectorId)),l=o.excludeExistingConnections([...s.map(e=>e.connectorId),...i?[i]:[]],c);return n?{connections:s,recentConnections:l}:{connections:s.filter(e=>e.connectorId.toLowerCase()===i?.toLowerCase()),recentConnections:[]}}}},745279,572603,804499,646076,951049,e=>{"use strict";let t,a;e.s(["BalanceUtil",()=>k],745279);var r=e.i(910191),o=e.i(419258),n=e.i(150169),i=e.i(972487),s=e.i(486071),c=e.i(729289);e.s(["ConnectionController",()=>y],804499);var l=e.i(707745),d=e.i(932220),C=e.i(843175),p=e.i(880075),E=e.i(841708),u=e.i(232674),m=e.i(918094),h=e.i(170941),S=e.i(374182),A=e.i(914139),g=e.i(455137),_=e.i(904670);e.s(["TransactionsController",()=>T],572603);var N=e.i(45471),f=e.i(380970),w=e.i(234696);let I=(0,l.proxy)({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),T=(0,h.withErrorBoundary)({state:I,subscribe:e=>(0,l.subscribe)(I,()=>e(I)),setLastNetworkInView(e){I.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw Error("Transactions can't be fetched without an accountAddress");I.loading=!0;try{let t=await s.BlockchainApiController.fetchTransactions({account:e,cursor:I.next,chainId:c.ChainController.state.activeCaipNetwork?.caipNetworkId}),a=T.filterSpamTransactions(t.data),r=T.filterByConnectedChain(a),o=[...I.transactions,...r];I.loading=!1,I.transactions=o,I.transactionsByYear=T.groupTransactionsByYearAndMonth(I.transactionsByYear,r),I.empty=0===o.length,I.next=t.next?t.next:void 0}catch(a){let t=c.ChainController.state.activeChain;A.EventsController.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:f.OptionsController.state.projectId,cursor:I.next,isSmartAccount:(0,C.getPreferredAccountType)(t)===N.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),w.SnackController.showError("Failed to fetch transactions"),I.loading=!1,I.empty=!0,I.next=void 0}},groupTransactionsByYearAndMonth:(e={},t=[])=>(t.forEach(t=>{let a=new Date(t.metadata.minedAt).getFullYear(),r=new Date(t.metadata.minedAt).getMonth(),o=e[a]??{},n=(o[r]??[]).filter(e=>e.id!==t.id);e[a]={...o,[r]:[...n,t].sort((e,t)=>new Date(t.metadata.minedAt).getTime()-new Date(e.metadata.minedAt).getTime())}}),e),filterSpamTransactions:e=>e.filter(e=>!e.transfers.every(e=>e.nft_info?.flags.is_spam===!0)),filterByConnectedChain(e){let t=c.ChainController.state.activeCaipNetwork?.caipNetworkId;return e.filter(e=>e.metadata.chain===t)},clearCursor(){I.next=void 0},resetTransactions(){I.transactions=[],I.transactionsByYear={},I.lastNetworkInView=void 0,I.loading=!1,I.empty=!1,I.next=void 0}},"API_ERROR"),R=(0,l.proxy)({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"}),y=(0,h.withErrorBoundary)({state:R,subscribe:e=>(0,l.subscribe)(R,()=>e(R)),subscribeKey:(e,t)=>(0,d.subscribeKey)(R,e,t),_getClient:()=>R._client,setClient(e){R._client=(0,l.ref)(e)},initialize(e){let t=e.filter(e=>!!e.namespace).map(e=>e.namespace);y.syncStorageConnections(t)},syncStorageConnections(e){let t=m.StorageUtil.getConnections();for(let a of e??Array.from(c.ChainController.state.chains.keys())){let e=t[a]??[],r=new Map(R.recentConnections);r.set(a,e),R.recentConnections=r}},getConnections:e=>e?R.connections.get(e)??[]:[],hasAnyConnection:e=>Array.from(y.state.connections.values()).flatMap(e=>e).some(({connectorId:t})=>t===e),async connectWalletConnect({cache:e="auto"}={}){let a=u.CoreHelperUtil.isTelegram()||u.CoreHelperUtil.isSafari()&&u.CoreHelperUtil.isIos();if("always"===e||"auto"===e&&a){if(t){await t,t=void 0;return}if(!u.CoreHelperUtil.isPairingExpired(R?.wcPairingExpiry)){let e=R.wcUri;R.wcUri=e;return}t=y._getClient()?.connectWalletConnect?.().catch(()=>void 0),y.state.status="connecting",await t,t=void 0,R.wcPairingExpiry=void 0,y.state.status="connected"}else await y._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,a=!0){let r=await y._getClient()?.connectExternal?.(e);return a&&c.ChainController.setActiveNamespace(t),r},async reconnectExternal(e){await y._getClient()?.reconnectExternal?.(e);let t=e.chain||c.ChainController.state.activeChain;t&&S.ConnectorController.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;g.ModalController.setLoading(!0,c.ChainController.state.activeChain);let a=S.ConnectorController.getAuthConnector();a&&(c.ChainController.setAccountProp("preferredAccountType",e,t),await a.provider.setPreferredAccount(e),m.StorageUtil.setPreferredAccountTypes(Object.entries(c.ChainController.state.chains).reduce((e,[t,a])=>{let r=(0,C.getPreferredAccountType)(t);return void 0!==r&&(e[t]=r),e},{})),await y.reconnectExternal(a),g.ModalController.setLoading(!1,c.ChainController.state.activeChain),A.EventsController.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:c.ChainController.state.activeCaipNetwork?.caipNetworkId||""}}))},signMessage:async e=>y._getClient()?.signMessage(e),parseUnits:(e,t)=>y._getClient()?.parseUnits(e,t),formatUnits:(e,t)=>y._getClient()?.formatUnits(e,t),updateBalance:e=>y._getClient()?.updateBalance(e),sendTransaction:async e=>y._getClient()?.sendTransaction(e),getCapabilities:async e=>y._getClient()?.getCapabilities(e),grantPermissions:async e=>y._getClient()?.grantPermissions(e),walletGetAssets:async e=>y._getClient()?.walletGetAssets(e)??{},estimateGas:async e=>y._getClient()?.estimateGas(e),writeContract:async e=>y._getClient()?.writeContract(e),getEnsAddress:async e=>y._getClient()?.getEnsAddress(e),getEnsAvatar:async e=>y._getClient()?.getEnsAvatar(e),checkInstalled:e=>y._getClient()?.checkInstalled?.(e)||!1,resetWcConnection(){R.wcUri=void 0,R.wcPairingExpiry=void 0,R.wcLinking=void 0,R.recentWallet=void 0,R.status="disconnected",T.resetTransactions(),m.StorageUtil.deleteWalletConnectDeepLink(),m.StorageUtil.deleteRecentWallet()},resetUri(){R.wcUri=void 0,R.wcPairingExpiry=void 0,t=void 0},finalizeWcConnection(e){let{wcLinking:t,recentWallet:a}=y.state;t&&m.StorageUtil.setWalletConnectDeepLink(t),a&&m.StorageUtil.setAppKitRecent(a),e&&A.EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:_.RouterController.state.data?.wallet?.name||"Unknown",view:_.RouterController.state.view,walletRank:a?.order}})},setWcBasic(e){R.wcBasic=e},setUri(e){R.wcUri=e,R.wcPairingExpiry=u.CoreHelperUtil.getPairingExpiry()},setWcLinking(e){R.wcLinking=e},setWcError(e){R.wcError=e,R.buffering=!1},setRecentWallet(e){R.recentWallet=e},setBuffering(e){R.buffering=e},setStatus(e){R.status=e},setIsSwitchingConnection(e){R.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:a}={}){try{await y._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:a})}catch(e){throw new h.AppKitError("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},async disconnectConnector({id:e,namespace:t}){try{await y._getClient()?.disconnectConnector({id:e,namespace:t})}catch(e){throw new h.AppKitError("Failed to disconnect connector","INTERNAL_SDK_ERROR",e)}},setConnections(e,t){let a=new Map(R.connections);a.set(t,e),R.connections=a},async handleAuthAccountSwitch({address:e,namespace:t}){let a=c.ChainController.getAccountData(t),r=a?.user?.accounts?.find(e=>"smartAccount"===e.type),o=r&&r.address.toLowerCase()===e.toLowerCase()&&E.ConnectorControllerUtil.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await y.setPreferredAccountType(o,t)},async handleActiveConnection({connection:e,namespace:t,address:a}){let r=S.ConnectorController.getConnectorById(e.connectorId),o=e.connectorId===n.ConstantsUtil.CONNECTOR_ID.AUTH;if(!r)throw Error(`No connector found for connection: ${e.connectorId}`);if(o)a&&await y.handleAuthAccountSwitch({address:a,namespace:t});else{let e=await y.connectExternal({id:r.id,type:r.type,provider:r.provider,address:a,chain:t},t);return e?.address}return a},async handleDisconnectedConnection({connection:e,namespace:t,address:a,closeModalOnConnect:r}){let o,i=S.ConnectorController.getConnectorById(e.connectorId),s=e.auth?.name?.toLowerCase(),c=e.connectorId===n.ConstantsUtil.CONNECTOR_ID.AUTH,l=e.connectorId===n.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw Error(`No connector found for connection: ${e.connectorId}`);if(c)if(s&&E.ConnectorControllerUtil.isSocialProvider(s)){let{address:e}=await E.ConnectorControllerUtil.connectSocial({social:s,closeModalOnConnect:r,onOpenFarcaster(){g.ModalController.open({view:"ConnectingFarcaster"})},onConnect(){_.RouterController.replace("ProfileWallets")}});o=e}else{let{address:e}=await E.ConnectorControllerUtil.connectEmail({closeModalOnConnect:r,onOpen(){g.ModalController.open({view:"EmailLogin"})},onConnect(){_.RouterController.replace("ProfileWallets")}});o=e}else if(l){let{address:e}=await E.ConnectorControllerUtil.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:r,onOpen(e){let t=e?"AllWallets":"ConnectingWalletConnect";g.ModalController.state.open?_.RouterController.push(t):g.ModalController.open({view:t})},onConnect(){_.RouterController.replace("ProfileWallets")}});o=e}else{let e=await y.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:t},t);e&&(o=e.address)}return c&&a&&await y.handleAuthAccountSwitch({address:a,namespace:t}),o},async switchConnection({connection:e,address:t,namespace:a,closeModalOnConnect:r,onChange:o}){let n,s=c.ChainController.getAccountData(a)?.caipAddress;if(s){let{address:e}=i.ParseUtil.parseCaipAddress(s);n=e}let l=p.ConnectionControllerUtil.getConnectionStatus(e,a);switch(l){case"connected":case"active":{let r=await y.handleActiveConnection({connection:e,namespace:a,address:t});if(n&&r){let e=r.toLowerCase()!==n.toLowerCase();o?.({address:r,namespace:a,hasSwitchedAccount:e,hasSwitchedWallet:"active"===l})}break}case"disconnected":{let n=await y.handleDisconnectedConnection({connection:e,namespace:a,address:t,closeModalOnConnect:r});n&&o?.({address:n,namespace:a,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw Error(`Invalid connection status: ${l}`)}}}),v={createBalance(e,t){let a={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:a.name,symbol:a.symbol,chainId:t,address:"native"===e.address?void 0:this.convertAddressToCAIP10Address(e.address,t),value:a.value,price:a.price,quantity:{decimals:a.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:a.decimals})},iconUrl:a.iconUrl}},convertHexToBalance:({hex:e,decimals:t})=>(0,o.formatUnits)(BigInt(e),t),convertAddressToCAIP10Address:(e,t)=>`${t}:${e}`,createCAIP2ChainId:(e,t)=>`${t}:${parseInt(e,16)}`,getChainIdHexFromCAIP2ChainId(e){let t=e.split(":");if(t.length<2||!t[1])return"0x0";let a=parseInt(t[1],10);return isNaN(a)?"0x0":`0x${a.toString(16)}`},isWalletGetAssetsResponse(e){return"object"==typeof e&&null!==e&&Object.values(e).every(e=>Array.isArray(e)&&e.every(e=>this.isValidAsset(e)))},isValidAsset:e=>"object"==typeof e&&null!==e&&"string"==typeof e.address&&"string"==typeof e.balance&&("ERC20"===e.type||"NATIVE"===e.type)&&"object"==typeof e.metadata&&null!==e.metadata&&"string"==typeof e.metadata.name&&"string"==typeof e.metadata.symbol&&"number"==typeof e.metadata.decimals&&"number"==typeof e.metadata.price&&"string"==typeof e.metadata.iconUrl};async function O(){if(!a){let{createPublicClient:t,http:r,defineChain:o}=await e.A(109502);a={createPublicClient:t,http:r,defineChain:o}}return a}let U={getBlockchainApiRpcUrl(e,t){let a=new URL("https://rpc.walletconnect.org/v1/");return a.searchParams.set("chainId",e),a.searchParams.set("projectId",t),a.toString()},async getViemChain(e){let{defineChain:t}=await O(),{chainId:a}=i.ParseUtil.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(a)})},async createViemPublicClient(e){let{createPublicClient:t,http:a}=await O(),r=f.OptionsController.state.projectId,o=await U.getViemChain(e);if(!o)throw Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:o,transport:a(U.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}},k={async getMyTokensWithBalance(e){let t=c.ChainController.getAccountData()?.address,a=c.ChainController.state.activeCaipNetwork,r=S.ConnectorController.getConnectorId("eip155")===n.ConstantsUtil.CONNECTOR_ID.AUTH;if(!t||!a)return[];let o=`${a.caipNetworkId}:${t}`,i=m.StorageUtil.getBalanceCacheForCaipAddress(o);if(i)return i.balances;if(a.chainNamespace===n.ConstantsUtil.CHAIN.EVM&&r){let e=await this.getEIP155Balances(t,a);if(e)return this.filterLowQualityTokens(e)}let l=await s.BlockchainApiController.getBalance(t,a.caipNetworkId,e);return this.filterLowQualityTokens(l.balances)},async getEIP155Balances(e,t){try{let a=v.getChainIdHexFromCAIP2ChainId(t.caipNetworkId),r=await y.getCapabilities(e);if(!r?.[a]?.assetDiscovery?.supported)return null;let o=await y.walletGetAssets({account:e,chainFilter:[a]});if(!v.isWalletGetAssetsResponse(o))return null;let n=(o[a]||[]).map(e=>v.createBalance(e,t.caipNetworkId));return m.StorageUtil.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:n},timestamp:Date.now()}),n}catch(e){return null}},filterLowQualityTokens:e=>e.filter(e=>"0"!==e.quantity.decimals),async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:a}){let n=await U.createViemPublicClient(a),{address:s}=i.ParseUtil.parseCaipAddress(e),[{result:c},{result:l},{result:d},{result:C}]=await n.multicall({contracts:[{address:t,functionName:"name",args:[],abi:r.erc20Abi},{address:t,functionName:"symbol",args:[],abi:r.erc20Abi},{address:t,functionName:"balanceOf",args:[s],abi:r.erc20Abi},{address:t,functionName:"decimals",args:[],abi:r.erc20Abi}]});return{name:c,symbol:l,decimals:C,balance:d&&C?(0,o.formatUnits)(d,C):"0"}}},b={adapters:{}};e.s(["AdapterController",0,{state:b,initialize(e){b.adapters={...e}},get:e=>b.adapters[e]}],646076);let P={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},L=(0,l.proxy)({providers:{...P},providerIds:{...P}});e.s(["ProviderController",0,{state:L,subscribeKey:(e,t)=>(0,d.subscribeKey)(L,e,t),subscribe:e=>(0,l.subscribe)(L,()=>{e(L)}),subscribeProviders:e=>(0,l.subscribe)(L.providers,()=>e(L.providers)),setProvider(e,t){e&&t&&(L.providers[e]=(0,l.ref)(t))},getProvider(e){if(e)return L.providers[e]},setProviderId(e,t){t&&(L.providerIds[e]=t)},getProviderId(e){if(e)return L.providerIds[e]},reset(){L.providers={...P},L.providerIds={...P}},resetChain(e){L.providers[e]=void 0,L.providerIds[e]=void 0}}],951049)},30768,e=>{"use strict";let t={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if("object"==typeof e&&null!==e){let t="string"==typeof e.message,a="number"==typeof e.code;return t&&a}return!1}catch{return!1}},isUserRejectedMessage:e=>e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled"),isUserRejectedRequestError(e){if(t.isRpcProviderError(e)){let a=e.code===t.RPC_ERROR_CODE.USER_REJECTED_REQUEST,r=e.code===t.RPC_ERROR_CODE.USER_REJECTED_METHODS;return a||r||t.isUserRejectedMessage(e.message)}return e instanceof Error&&t.isUserRejectedMessage(e.message)}};class a extends Error{constructor(e,a){super(a.message,{cause:e}),this.name=t.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=a.code}}class r extends a{constructor(e){super(e,{code:t.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=t.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}e.s(["ErrorUtil",0,t,"UserRejectedRequestError",()=>r])},862272,e=>{"use strict";var t=e.i(540882);e.s(["NumberUtil",0,{bigNumber:e=>new t.default(e?e:0),multiply(e,a){if(void 0===e||void 0===a)return new t.default(0);let r=new t.default(e),o=new t.default(a);return r.times(o)},toFixed:(e,a=2)=>void 0===e||""===e?new t.default(0).toFixed(a):new t.default(e).toFixed(a),formatNumberToLocalString:(e,t=2)=>void 0===e||""===e?"0.00":"number"==typeof e?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}),parseLocalStringToNumber(e){if(void 0===e||""===e)return 0;let a=e.replace(/,/gu,"");return new t.default(a).toNumber()}}])},729289,978848,772341,829842,e=>{"use strict";e.s(["ChainController",()=>F],729289);var t=e.i(707745),a=e.i(932220),r=e.i(150169),o=e.i(400058),n=e.i(972487),i=e.i(45471),s=e.i(649435),c=e.i(745279),l=e.i(241135),d=e.i(232674),C=e.i(918094),p=e.i(170941),E=e.i(646076),u=e.i(804499),m=e.i(374182),h=e.i(914139),S=e.i(455137),A=e.i(380970),g=e.i(951049),_=e.i(135142);e.s(["SendController",()=>P],829842);var N=e.i(30768),f=e.i(862272);let w=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],I=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],T=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],R={getERC20Abi:e=>r.ConstantsUtil.USDT_CONTRACT_ADDRESSES.includes(e)?T:w,getSwapAbi:()=>I};e.s(["ContractUtil",0,R],978848);var y=e.i(843175);e.s(["SwapApiUtil",()=>O],772341);var v=e.i(486071);let O={async getTokenList(e){let t=await v.BlockchainApiController.fetchSwapTokens({chainId:e});return t?.tokens?.map(e=>({...e,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let e=F.state.activeCaipNetwork;if(!e)return null;try{if("solana"!==e.chainNamespace)return await v.BlockchainApiController.fetchGasPrice({chainId:e.caipNetworkId});{let e=(await u.ConnectionController?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e}}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:a,sourceTokenDecimals:r}){let o=await v.BlockchainApiController.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(o?.allowance&&a&&r){let e=u.ConnectionController.parseUnits(a,r)||0;return BigInt(o.allowance)>=e}return!1},async getMyTokensWithBalance(e){let t=await c.BalanceUtil.getMyTokensWithBalance(e);return F.setAccountProp("tokenBalance",t,F.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens:e=>e?.map(e=>({...e,address:e?.address?e.address:(0,y.getActiveNetworkTokenAddress)(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[],async handleSwapError(e){try{let t=e?.cause;if(!t?.json)return;let a=await t.json(),r=a?.reasons?.[0]?.description;if(r?.includes("insufficient liquidity"))return"Insufficient liquidity";return}catch{return}}};var U=e.i(904670),k=e.i(234696);let b=(0,t.proxy)({tokenBalances:[],loading:!1}),P=(0,p.withErrorBoundary)({state:b,subscribe:e=>(0,t.subscribe)(b,()=>e(b)),subscribeKey:(e,t)=>(0,a.subscribeKey)(b,e,t),setToken(e){e&&(b.token=(0,t.ref)(e))},setTokenAmount(e){b.sendTokenAmount=e},setReceiverAddress(e){b.receiverAddress=e},setReceiverProfileImageUrl(e){b.receiverProfileImageUrl=e},setReceiverProfileName(e){b.receiverProfileName=e},setNetworkBalanceInUsd(e){b.networkBalanceInUSD=e},setLoading(e){b.loading=e},getSdkEventProperties:e=>({message:d.CoreHelperUtil.parseError(e),isSmartAccount:(0,y.getPreferredAccountType)(F.state.activeChain)===i.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:b.token?.symbol||"",amount:b.sendTokenAmount??0,network:F.state.activeCaipNetwork?.caipNetworkId||""}),async sendToken(){try{switch(P.setLoading(!0),F.state.activeCaipNetwork?.chainNamespace){case"eip155":await P.sendEvmToken();return;case"solana":await P.sendSolanaToken();return;default:throw Error("Unsupported chain")}}catch(e){if(N.ErrorUtil.isUserRejectedRequestError(e))throw new N.UserRejectedRequestError(e);throw e}finally{P.setLoading(!1)}},async sendEvmToken(){let e=F.state.activeChain;if(!e)throw Error("SendController:sendEvmToken - activeChainNamespace is required");let t=(0,y.getPreferredAccountType)(e);if(!P.state.sendTokenAmount||!P.state.receiverAddress)throw Error("An amount and receiver address are required");if(!P.state.token)throw Error("A token is required");if(P.state.token?.address){h.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===i.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:P.state.token.address,amount:P.state.sendTokenAmount,network:F.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:e}=await P.sendERC20Token({receiverAddress:P.state.receiverAddress,tokenAddress:P.state.token.address,sendTokenAmount:P.state.sendTokenAmount,decimals:P.state.token.quantity.decimals});e&&(b.hash=e)}else{h.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===i.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:P.state.token.symbol||"",amount:P.state.sendTokenAmount,network:F.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:e}=await P.sendNativeToken({receiverAddress:P.state.receiverAddress,sendTokenAmount:P.state.sendTokenAmount,decimals:P.state.token.quantity.decimals});e&&(b.hash=e)}},async fetchTokenBalance(e){b.loading=!0;let t=F.state.activeChain,a=F.state.activeCaipNetwork?.caipNetworkId,r=F.state.activeCaipNetwork?.chainNamespace,o=F.getAccountData(t)?.caipAddress??F.state.activeCaipAddress,n=o?d.CoreHelperUtil.getPlainAddress(o):void 0;if(b.lastRetry&&!d.CoreHelperUtil.isAllowedRetry(b.lastRetry,30*l.ConstantsUtil.ONE_SEC_MS))return b.loading=!1,[];try{if(n&&a&&r){let e=await c.BalanceUtil.getMyTokensWithBalance();return b.tokenBalances=e,b.lastRetry=void 0,e}}catch(t){b.lastRetry=Date.now(),e?.(t),k.SnackController.showError("Token Balance Unavailable")}finally{b.loading=!1}return[]},fetchNetworkBalance(){if(0===b.tokenBalances.length)return;let e=O.mapBalancesToSwapTokens(b.tokenBalances);if(!e)return;let t=e.find(e=>e.address===(0,y.getActiveNetworkTokenAddress)());t&&(b.networkBalanceInUSD=t?f.NumberUtil.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){U.RouterController.pushTransactionStack({});let t=e.receiverAddress,a=F.getAccountData()?.address,o=u.ConnectionController.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),n=await u.ConnectionController.sendTransaction({chainNamespace:r.ConstantsUtil.CHAIN.EVM,to:t,address:a,data:"0x",value:o??BigInt(0)});return h.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,y.getPreferredAccountType)("eip155")===i.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:P.state.token?.symbol||"",amount:e.sendTokenAmount,network:F.state.activeCaipNetwork?.caipNetworkId||"",hash:n||""}}),u.ConnectionController._getClient()?.updateBalance("eip155"),P.resetSend(),{hash:n}},async sendERC20Token(e){U.RouterController.pushTransactionStack({onSuccess(){U.RouterController.replace("Account")}});let t=u.ConnectionController.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),a=F.getAccountData()?.address;if(a&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){let o=d.CoreHelperUtil.getPlainAddress(e.tokenAddress);if(!o)throw Error("SendController:sendERC20Token - tokenAddress is required");let n=await u.ConnectionController.writeContract({fromAddress:a,tokenAddress:o,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:R.getERC20Abi(o),chainNamespace:r.ConstantsUtil.CHAIN.EVM});return h.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,y.getPreferredAccountType)("eip155")===i.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:P.state.token?.symbol||"",amount:e.sendTokenAmount,network:F.state.activeCaipNetwork?.caipNetworkId||"",hash:n||""}}),P.resetSend(),{hash:n}}return{hash:void 0}},async sendSolanaToken(){let e;if(!P.state.sendTokenAmount||!P.state.receiverAddress)throw Error("An amount and receiver address are required");U.RouterController.pushTransactionStack({onSuccess(){U.RouterController.replace("Account")}}),P.state.token&&P.state.token.address!==l.ConstantsUtil.SOLANA_NATIVE_TOKEN_ADDRESS&&(e=d.CoreHelperUtil.isCaipAddress(P.state.token.address)?d.CoreHelperUtil.getPlainAddress(P.state.token.address):P.state.token.address);let t=await u.ConnectionController.sendTransaction({chainNamespace:"solana",tokenMint:e,to:P.state.receiverAddress,value:P.state.sendTokenAmount});t&&(b.hash=t),u.ConnectionController._getClient()?.updateBalance("solana"),h.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:P.state.token?.symbol||"",amount:P.state.sendTokenAmount,network:F.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),P.resetSend()},resetSend(){b.token=void 0,b.sendTokenAmount=void 0,b.receiverAddress=void 0,b.receiverProfileImageUrl=void 0,b.receiverProfileName=void 0,b.loading=!1,b.tokenBalances=[]}}),L={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},D={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},M=(0,t.proxy)({chains:(0,a.proxyMap)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),B={state:M,subscribe:e=>(0,t.subscribe)(M,()=>{e(M)}),subscribeKey:(e,t)=>(0,a.subscribeKey)(M,e,t),subscribeAccountStateProp(e,t,r){let o=r||M.activeChain;return o?(0,a.subscribeKey)(M.chains.get(o)?.accountState||{},e,t):()=>void 0},subscribeChainProp(e,a,r){let o;return(0,t.subscribe)(M.chains,()=>{let t=r||M.activeChain;if(t){let r=M.chains.get(t)?.[e];o!==r&&(o=r,a(r))}})},initialize(e,a,r){let{chainId:o,namespace:n}=C.StorageUtil.getActiveNetworkProps(),i=a?.find(e=>e.id.toString()===o?.toString()),s=e.find(e=>e?.namespace===n)||e?.[0],c=e.map(e=>e.namespace).filter(e=>void 0!==e),l=new Set(A.OptionsController.state.enableEmbedded?[...c]:[...a?.map(e=>e.chainNamespace)??[]]);e?.length!==0&&s||(M.noAdapters=!0),!M.noAdapters&&(M.activeChain=s?.namespace,M.activeCaipNetwork=i,F.setChainNetworkData(s?.namespace,{caipNetwork:i}),M.activeChain&&_.PublicStateController.set({activeChain:s?.namespace})),l.forEach(e=>{let o=a?.filter(t=>t.chainNamespace===e),n=C.StorageUtil.getPreferredAccountTypes()||{},i={...A.OptionsController.state.defaultAccountTypes,...n};F.state.chains.set(e,{namespace:e,networkState:(0,t.proxy)({...D,caipNetwork:o?.[0]}),accountState:(0,t.proxy)({...L,preferredAccountType:i[e]}),caipNetworks:o??[],...r}),F.setRequestedCaipNetworks(o??[],e)})},removeAdapter(e){if(M.activeChain===e){let t=Array.from(M.chains.entries()).find(([t])=>t!==e);if(t){let e=t[1]?.caipNetworks?.[0];e&&F.setActiveCaipNetwork(e)}}M.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},a){if(!e.namespace)throw Error("ChainController:addAdapter - adapter must have a namespace");M.chains.set(e.namespace,{namespace:e.namespace,networkState:{...D,caipNetwork:a[0]},accountState:{...L},caipNetworks:a,connectionControllerClient:t}),F.setRequestedCaipNetworks(a?.filter(t=>t.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){let t=M.chains.get(e.chainNamespace);if(t){let a=[...t.caipNetworks||[]];t.caipNetworks?.find(t=>t.id===e.id)||a.push(e),M.chains.set(e.chainNamespace,{...t,caipNetworks:a}),F.setRequestedCaipNetworks(a,e.chainNamespace),m.ConnectorController.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){let a=M.chains.get(e);if(a){let r=M.activeCaipNetwork?.id===t,o=[...a.caipNetworks?.filter(e=>e.id!==t)||[]];r&&a?.caipNetworks?.[0]&&F.setActiveCaipNetwork(a.caipNetworks[0]),M.chains.set(e,{...a,caipNetworks:o}),F.setRequestedCaipNetworks(o||[],e),0===o.length&&m.ConnectorController.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){let a=M.chains.get(e);a&&(a.networkState={...a.networkState||D,...t},M.chains.set(e,a))},setChainAccountData(e,t,a=!0){if(!e)throw Error("Chain is required to update chain account data");let r=M.chains.get(e);if(r){let a={...r.accountState||L,...t};M.chains.set(e,{...r,accountState:a}),(1===M.chains.size||M.activeChain===e)&&t.caipAddress&&(M.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;let a=M.chains.get(e);if(a){let r={...a.networkState||D,...t};M.chains.set(e,{...a,networkState:r})}},setAccountProp(e,t,a,r=!0){F.setChainAccountData(a,{[e]:t},r)},setActiveNamespace(e){M.activeChain=e;let t=e?M.chains.get(e):void 0,a=t?.networkState?.caipNetwork;a?.id&&e&&(M.activeCaipAddress=t?.accountState?.caipAddress,M.activeCaipNetwork=a,F.setChainNetworkData(e,{caipNetwork:a}),C.StorageUtil.setActiveCaipNetworkId(a?.caipNetworkId),_.PublicStateController.set({activeChain:e,selectedNetworkId:a?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;let t=M.activeChain===e.chainNamespace;t||F.setIsSwitchingNamespace(!0);let a=M.chains.get(e.chainNamespace);M.activeChain=e.chainNamespace,M.activeCaipNetwork=e,F.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=a?.accountState?.address;if(r)M.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&M.activeCaipAddress){let{address:t}=n.ParseUtil.parseCaipAddress(M.activeCaipAddress);r=t,M.activeCaipAddress=`${e.caipNetworkId}:${r}`}else M.activeCaipAddress=void 0;F.setChainAccountData(e.chainNamespace,{address:r,caipAddress:M.activeCaipAddress}),P.resetSend(),_.PublicStateController.set({activeChain:M.activeChain,selectedNetworkId:M.activeCaipNetwork?.caipNetworkId}),C.StorageUtil.setActiveCaipNetworkId(e.caipNetworkId),F.checkIfSupportedNetwork(e.chainNamespace)||!A.OptionsController.state.enableNetworkSwitch||A.OptionsController.state.allowUnsupportedChain||u.ConnectionController.state.wcBasic||F.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;let t=M.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;let t=e!==F.state.activeChain,a=F.getNetworkData(e)?.caipNetwork,r=F.getCaipNetworkByNamespace(e,a?.id);t&&r&&await F.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){let a=F.state.activeChain;if(!a)throw Error("ChainController:switchActiveNetwork - namespace is required");let o="AUTH"===g.ProviderController.getProviderId(M.activeChain),n=F.getAccountData(a)?.address,i=r.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(n&&e.chainNamespace===a||o&&i){let t=E.AdapterController.get(e.chainNamespace);if(!t)throw Error("Adapter not found");await t.switchNetwork({caipNetwork:e})}F.setActiveCaipNetwork(e)}catch(e){if(t)throw e}h.EventsController.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){let t=e||M.activeChain;if(!t)throw Error("Chain is required to get connection controller client");let a=M.chains.get(t);if(!a?.connectionControllerClient)throw Error("ConnectionController client not set");return a.connectionControllerClient},getNetworkProp(e,t){let a=M.chains.get(t)?.networkState;if(a)return a[e]},getRequestedCaipNetworks(e){let t=M.chains.get(e),{approvedCaipNetworkIds:a=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return d.CoreHelperUtil.sortRequestedNetworks(a,r).filter(e=>e?.id)},getAllRequestedCaipNetworks(){let e=[];return M.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let a=F.getRequestedCaipNetworks(t.namespace);e.push(...a)}),e},setRequestedCaipNetworks(e,t){F.setAdapterNetworkState(t,{requestedCaipNetworks:e});let a=Array.from(new Set(F.getAllRequestedCaipNetworks().map(e=>e.chainNamespace)));m.ConnectorController.filterByNamespaces(a)},getAllApprovedCaipNetworkIds(){let e=[];return M.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let a=F.getApprovedCaipNetworkIds(t.namespace);e.push(...a)}),e},getActiveCaipNetwork:e=>e?M.chains.get(e)?.networkState?.caipNetwork:M.activeCaipNetwork,getActiveCaipAddress:()=>M.activeCaipAddress,getApprovedCaipNetworkIds(e){let t=M.chains.get(e);return t?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){F.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){let a=t||M.activeCaipNetwork?.caipNetworkId,r=F.getRequestedCaipNetworks(e);return!r.length||r?.some(e=>e.caipNetworkId===a)},checkIfSupportedChainId(e){if(!M.activeChain)return!0;let t=F.getRequestedCaipNetworks(M.activeChain);return t?.some(t=>t.id===e)},checkIfSmartAccountEnabled(){let e=o.NetworkUtil.caipNetworkIdToNumber(M.activeCaipNetwork?.caipNetworkId);if(!M.activeChain||!e)return!1;let t=s.W3mFrameStorage.get(i.W3mFrameConstants.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[];return!!t?.includes(e.toString())},showUnsupportedChainUI(){S.ModalController.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let e=M.activeCaipNetwork;return!!(e?.chainNamespace&&l.ConstantsUtil.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){F.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){if(!e)throw Error("Chain is required to set account prop");let t=F.state.chains.get(e)?.accountState?.preferredAccountType,a=A.OptionsController.state.defaultAccountTypes[e];M.activeCaipAddress=void 0,F.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:a||t,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),m.ConnectorController.removeConnectorId(e)},setIsSwitchingNamespace(e){M.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){let e=[];if(M.chains.forEach(t=>{r.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>e===t.namespace)&&t.namespace&&e.push(t.namespace)}),e.length>0){let t=e[0];return t?M.chains.get(t)?.caipNetworks?.[0]:void 0}},getAccountData(e){let t=e||M.activeChain;if(t)return F.state.chains.get(t)?.accountState},getNetworkData(e){let t=e||M.activeChain;if(t)return F.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;let a=F.state.chains.get(e),r=a?.caipNetworks?.find(e=>e.id.toString()===t?.toString());return r||a?.networkState?.caipNetwork||a?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let e=m.ConnectorController.state.filterByNamespace;return(e?[M.chains.get(e)]:Array.from(M.chains.values())).flatMap(e=>e?.caipNetworks||[]).map(e=>e.caipNetworkId)},getCaipNetworks:e=>e?F.getRequestedCaipNetworks(e):F.getAllRequestedCaipNetworks(),getCaipNetworkById:(e,t)=>B.getCaipNetworks(t).find(t=>t.id.toString()===e.toString()||t.caipNetworkId.toString()===e.toString()),setLastConnectedSIWECaipNetwork(e){M.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork:()=>M.lastConnectedSIWECaipNetwork,async fetchTokenBalance(e){let t=F.getAccountData();if(!t)return[];let a=F.state.activeCaipNetwork?.caipNetworkId,r=F.state.activeCaipNetwork?.chainNamespace,o=F.state.activeCaipAddress,n=o?d.CoreHelperUtil.getPlainAddress(o):void 0;if(F.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!d.CoreHelperUtil.isAllowedRetry(t.lastRetry,30*l.ConstantsUtil.ONE_SEC_MS))return F.setAccountProp("balanceLoading",!1,r),[];try{if(n&&a&&r){let e=await c.BalanceUtil.getMyTokensWithBalance();return F.setAccountProp("tokenBalance",e,r),F.setAccountProp("lastRetry",void 0,r),F.setAccountProp("balanceLoading",!1,r),e}}catch(t){F.setAccountProp("lastRetry",Date.now(),r),e?.(t),k.SnackController.showError("Token Balance Unavailable")}finally{F.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){let t=e.chainNamespace,a=!!F.getAccountData(t)?.caipAddress,o=F.getAllApprovedCaipNetworkIds(),n=!1!==F.getNetworkProp("supportsAllNetworks",t),i=m.ConnectorController.getConnectorId(t),s=m.ConnectorController.getAuthConnector(),c=i===r.ConstantsUtil.CONNECTOR_ID.AUTH&&s;return!!a&&!n&&!c&&!o?.includes(e.caipNetworkId)}},F=(0,p.withErrorBoundary)(B)}]);