(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94517,(e,t,r)=>{"use strict";let i=e.r(218267);t.exports=c;let n=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function o(e,t){return"silent"===e?1/0:t.levels.values[e]}let s=Symbol("pino.logFuncs"),a=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function f(e,t){let r={logger:t,parent:e[a]};t[a]=r}function c(e){var t,r,i;let a,p,g;(e=e||{}).browser=e.browser||{};let w=e.browser.transmit;if(w&&"function"!=typeof w.send)throw Error("pino: transmit option must have a send function");let v=e.browser.write||n;e.browser.write&&(e.browser.asObject=!0);let x=e.serializers||{},E=(t=e.browser.serialize,Array.isArray(t)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(x)),B=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(B=!1);let A=Object.keys(e.customLevels||{}),S=["error","fatal","warn","info","debug","trace"].concat(A);"function"==typeof v&&S.forEach(function(e){v[e]=v}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");let I=e.level||"info",U=Object.create(v);U.log||(U.log=b),a={},S.forEach(e=>{a[e]=v[e]?v[e]:n[e]||n[l[e]||"log"]||b}),U[s]=a,f({},U),Object.defineProperty(U,"levelVal",{get:function(){return o(this.level,this)}}),Object.defineProperty(U,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,h(this,O,U,"error"),h(this,O,U,"fatal"),h(this,O,U,"warn"),h(this,O,U,"info"),h(this,O,U,"debug"),h(this,O,U,"trace"),A.forEach(e=>{h(this,O,U,e)})}});let O={transmit:w,serialize:E,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:S,timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?y:m,messageKey:e.messageKey||"msg",onChild:e.onChild||b};function C(t,r,i){if(!r)throw Error("missing bindings for child Pino");i=i||{},E&&r.serializers&&(i.serializers=r.serializers);let n=i.serializers;if(E&&n){var o=Object.assign({},x,n),s=!0===e.browser.serialize?Object.keys(o):E;delete r.serializers,u([r],s,o,this._stdErrSerialize)}function a(e){this._childLevel=(0|e._childLevel)+1,this.bindings=r,o&&(this.serializers=o,this._serialize=s),w&&(this._logEvent=d([].concat(e._logEvent.bindings,r)))}a.prototype=this;let l=new a(this);return f(this,l),l.child=function(...e){return C.call(this,t,...e)},l.level=i.level||this.level,t.onChild(l),l}return p=e.customLevels||{},U.levels={values:Object.assign({},c.levels.values,p),labels:Object.assign({},c.levels.labels,(g={},Object.keys(i=p).forEach(function(e){g[i[e]]=e}),g))},U.level=I,U.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},U.setMaxListeners=U.getMaxListeners=U.emit=U.addListener=U.on=U.prependListener=U.once=U.prependOnceListener=U.removeListener=U.removeAllListeners=U.listeners=U.listenerCount=U.eventNames=U.write=U.flush=b,U.serializers=x,U._serialize=E,U._stdErrSerialize=B,U.child=function(...e){return C.call(this,O,...e)},w&&(U._logEvent=d()),U}function h(e,t,r,l){var f,c,h,p,g,w,y;if(Object.defineProperty(e,l,{value:o(e.level,r)>o(l,r)?b:r[s][l],writable:!0,enumerable:!0,configurable:!0}),e[l]===b){if(!t.transmit)return;let i=o(t.transmit.level||e.level,r);if(o(l,r)<i)return}e[l]=(f=e,c=t,h=r,p=l,g=f[s][p],function(){let e=c.timestamp(),t=Array(arguments.length),r=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var s=0;s<t.length;s++)t[s]=arguments[s];var a=!1;if(c.serialize&&(u(t,this._serialize,this.serializers,this._stdErrSerialize),a=!0),c.asObject||c.formatters?g.call(r,...function(e,t,r,n,o){let{level:s,log:a=e=>e}=o.formatters||{},l=r.slice(),f=l[0],c={},h=(0|e._childLevel)+1;if(h<1&&(h=1),n&&(c.time=n),s?Object.assign(c,s(t,e.levels.values[t])):c.level=e.levels.values[t],o.asObjectBindingsOnly){if(null!==f&&"object"==typeof f)for(;h--&&"object"==typeof l[0];)Object.assign(c,l.shift());return[a(c),...l]}if(null!==f&&"object"==typeof f){for(;h--&&"object"==typeof l[0];)Object.assign(c,l.shift());f=l.length?i(l.shift(),l):void 0}else"string"==typeof f&&(f=i(l.shift(),l));return void 0!==f&&(c[o.messageKey]=f),[a(c)]}(this,p,t,e,c)):g.apply(r,t),c.transmit){let r=c.transmit.level||f._level,i=o(r,h),n=o(p,h);if(n<i)return;!function(e,t,r,i=!1){let n=t.send,o=t.ts,s=t.methodLevel,a=t.methodValue,l=t.val,f=e._logEvent.bindings;i||u(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=o,e._logEvent.messages=r.filter(function(e){return -1===f.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=a,n(s,e._logEvent,l),e._logEvent=d(f)}(this,{ts:e,methodLevel:p,methodValue:n,transmitLevel:r,transmitValue:h.levels.values[c.transmit.level||f._level],send:c.transmit.send,val:o(f._level,h)},t,a)}});let m=function(e){let t=[];e.bindings&&t.push(e.bindings);let r=e[a];for(;r.parent;)(r=r.parent).logger.bindings&&t.push(r.logger.bindings);return t.reverse()}(e);0!==m.length&&(e[l]=(w=m,y=e[l],function(){return y.apply(this,[...w,...arguments])}))}function u(e,t,r,i){for(let n in e)if(i&&e[n]instanceof Error)e[n]=c.stdSerializers.err(e[n]);else if("object"==typeof e[n]&&!Array.isArray(e[n])&&t)for(let i in e[n])t.indexOf(i)>-1&&i in r&&(e[n][i]=r[i](e[n][i]))}function d(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function p(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}function g(){return{}}function w(e){return e}function b(){}function y(){return!1}function m(){return Date.now()}c.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},c.stdSerializers={mapHttpRequest:g,mapHttpResponse:g,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:g,res:g,err:p,errWithCause:p},c.stdTimeFunctions=Object.assign({},{nullTime:y,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),t.exports.default=c,t.exports.pino=c},887287,(e,t,r)=>{function i(e){return(0x100000000+e).toString(16).substring(1)}t.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else if("string"==typeof e)t=new TextEncoder().encode(e);else throw Error("Input must be an string, Buffer or Uint8Array");return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,t,r){let n="\n"+e+" = ";for(let o=0;o<t.length;o+=2){if(32===r)n+=i(t[o]).toUpperCase(),n+=" ",n+=i(t[o+1]).toUpperCase();else if(64===r)n+=i(t[o+1]).toUpperCase(),n+=i(t[o]).toUpperCase();else throw Error("Invalid size "+r);o%6==4?n+="\n"+Array(e.length+4).join(" "):o<t.length-2&&(n+=" ")}console.log(n)},testSpeed:function(e,t,r){let i=new Date().getTime(),n=new Uint8Array(t);for(let e=0;e<t;e++)n[e]=e%256;let o=new Date().getTime();console.log("Generated random input in "+(o-i)+"ms"),i=o;for(let o=0;o<r;o++){let r=e(n),o=new Date().getTime(),s=o-i;i=o,console.log("Hashed in "+s+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/1048576/(s/1e3)*100)/100+" MB PER SECOND")}}}},483174,(e,t,r)=>{let i=e.r(887287);function n(e,t,r){let i=e[t]+e[r],n=e[t+1]+e[r+1];i>=0x100000000&&n++,e[t]=i,e[t+1]=n}function o(e,t,r,i){let n=e[t]+r;r<0&&(n+=0x100000000);let o=e[t+1]+i;n>=0x100000000&&o++,e[t]=n,e[t+1]=o}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,r,i,s,a){let l=h[s],f=h[s+1],u=h[a],d=h[a+1];n(c,e,t),o(c,e,l,f);let p=c[i]^c[e],g=c[i+1]^c[e+1];c[i]=g,c[i+1]=p,n(c,r,i),p=c[t]^c[r],g=c[t+1]^c[r+1],c[t]=p>>>24^g<<8,c[t+1]=g>>>24^p<<8,n(c,e,t),o(c,e,u,d),p=c[i]^c[e],g=c[i+1]^c[e+1],c[i]=p>>>16^g<<16,c[i+1]=g>>>16^p<<16,n(c,r,i),p=c[t]^c[r],g=c[t+1]^c[r+1],c[t]=g>>>31^p<<1,c[t+1]=p>>>31^g<<1}let l=new Uint32Array([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),f=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),c=new Uint32Array(32),h=new Uint32Array(32);function u(e,t){let r=0;for(r=0;r<16;r++)c[r]=e.h[r],c[r+16]=l[r];for(c[24]=c[24]^e.t,c[25]=c[25]^e.t/0x100000000,t&&(c[28]=~c[28],c[29]=~c[29]),r=0;r<32;r++)h[r]=s(e.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,f[16*r+0],f[16*r+1]),a(2,10,18,26,f[16*r+2],f[16*r+3]),a(4,12,20,28,f[16*r+4],f[16*r+5]),a(6,14,22,30,f[16*r+6],f[16*r+7]),a(0,10,20,30,f[16*r+8],f[16*r+9]),a(2,12,22,24,f[16*r+10],f[16*r+11]),a(4,14,16,26,f[16*r+12],f[16*r+13]),a(6,8,18,28,f[16*r+14],f[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^c[r]^c[r+16]}let d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,r,i){if(0===e||e>64)throw Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(i&&16!==i.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};d.fill(0),d[0]=e,t&&(d[1]=t.length),d[2]=1,d[3]=1,r&&d.set(r,32),i&&d.set(i,48);for(let e=0;e<16;e++)n.h[e]=l[e]^s(d,4*e);return t&&(g(n,t),n.c=128),n}function g(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,u(e,!1),e.c=0),e.b[e.c++]=t[r]}function w(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;u(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function b(e,t,r,n,o){r=r||64,e=i.normalizeInput(e),n&&(n=i.normalizeInput(n)),o&&(o=i.normalizeInput(o));let s=p(r,t,n,o);return g(s,e),w(s)}t.exports={blake2b:b,blake2bHex:function(e,t,r,n,o){let s=b(e,t,r,n,o);return i.toHex(s)},blake2bInit:p,blake2bUpdate:g,blake2bFinal:w}},491004,(e,t,r)=>{let i=e.r(887287);function n(e,t,r,i,n,s){l[e]=l[e]+l[t]+n,l[i]=o(l[i]^l[e],16),l[r]=l[r]+l[i],l[t]=o(l[t]^l[r],12),l[e]=l[e]+l[t]+s,l[i]=o(l[i]^l[e],8),l[r]=l[r]+l[i],l[t]=o(l[t]^l[r],7)}function o(e,t){return e>>>t^e<<32-t}let s=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),f=new Uint32Array(16);function c(e,t){let r=0;for(r=0;r<8;r++)l[r]=e.h[r],l[r+8]=s[r];for(l[12]^=e.t,l[13]^=e.t/0x100000000,t&&(l[14]=~l[14]),r=0;r<16;r++){var i,o;f[r]=(i=e.b)[o=4*r]^i[o+1]<<8^i[o+2]<<16^i[o+3]<<24}for(r=0;r<10;r++)n(0,4,8,12,f[a[16*r+0]],f[a[16*r+1]]),n(1,5,9,13,f[a[16*r+2]],f[a[16*r+3]]),n(2,6,10,14,f[a[16*r+4]],f[a[16*r+5]]),n(3,7,11,15,f[a[16*r+6]],f[a[16*r+7]]),n(0,5,10,15,f[a[16*r+8]],f[a[16*r+9]]),n(1,6,11,12,f[a[16*r+10]],f[a[16*r+11]]),n(2,7,8,13,f[a[16*r+12]],f[a[16*r+13]]),n(3,4,9,14,f[a[16*r+14]],f[a[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=l[r]^l[r+8]}function h(e,t){if(!(e>0&&e<=32))throw Error("Incorrect output length, should be in [1, 32]");let r=t?t.length:0;if(t&&!(r>0&&r<=32))throw Error("Incorrect key length, should be in [1, 32]");let i={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:e};return i.h[0]^=0x1010000^r<<8^e,r>0&&(u(i,t),i.c=64),i}function u(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,c(e,!1),e.c=0),e.b[e.c++]=t[r]}function d(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;c(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function p(e,t,r){r=r||32,e=i.normalizeInput(e);let n=h(r,t);return u(n,e),d(n)}t.exports={blake2s:p,blake2sHex:function(e,t,r){let n=p(e,t,r);return i.toHex(n)},blake2sInit:h,blake2sUpdate:u,blake2sFinal:d}},975879,(e,t,r)=>{let i=e.r(483174),n=e.r(491004);t.exports={blake2b:i.blake2b,blake2bHex:i.blake2bHex,blake2bInit:i.blake2bInit,blake2bUpdate:i.blake2bUpdate,blake2bFinal:i.blake2bFinal,blake2s:n.blake2s,blake2sHex:n.blake2sHex,blake2sInit:n.blake2sInit,blake2sUpdate:n.blake2sUpdate,blake2sFinal:n.blake2sFinal}},440145,927972,605222,562097,995217,e=>{"use strict";let t,r,i,n,o,s,a;e.i(161187);var l,f,c,h,u,d,p=e.i(824290);e.i(336244),e.i(693349),e.i(717425),e.i(94517),e.i(457566);Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,e.i(835207);var g=e.i(386830),w=Object.defineProperty;g.IEvents;g.IEvents,g.IEvents,g.IEvents,g.IEvents,g.IEvents,p.default,p.EventEmitter;var b=e.i(48784);e.i(183927),e.i(378990),e.i(265954),e.i(404198);var y=e.i(713511),m=e.i(405383),v=e.i(421066);let x=BigInt(0),E=BigInt(1);function B(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function A(e){if(!B(e))throw Error("Uint8Array expected")}function S(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function I(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function U(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?x:BigInt("0x"+e)}let O="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,C=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function k(e){if(A(e),O)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=C[e[r]];return t}function P(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function R(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(O)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=P(e.charCodeAt(n)),o=P(e.charCodeAt(n+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+o}return i}function N(e){return U(k(e))}function z(e){return A(e),U(k(Uint8Array.from(e).reverse()))}function L(e,t){return R(e.toString(16).padStart(2*t,"0"))}function j(e,t){return L(e,t).reverse()}function T(e,t,r){let i;if("string"==typeof t)try{i=R(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(B(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let n=i.length;if("number"==typeof r&&n!==r)throw Error(e+" of length "+r+" expected, got "+n);return i}function $(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];A(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}let F=e=>"bigint"==typeof e&&x<=e;function _(e,t,r){return F(e)&&F(t)&&F(r)&&t<=e&&e<r}function D(e,t,r,i){if(!_(t,r,i))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}let H=e=>(E<<BigInt(e))-E,M=e=>new Uint8Array(e),q={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||B(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function V(e,t,r={}){let i=(t,r,i)=>{let n=q[r];if("function"!=typeof n)throw Error("invalid validator function");let o=e[t];if((!i||void 0!==o)&&!n(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))i(e,r,!1);for(let[e,t]of Object.entries(r))i(e,t,!0);return e}function W(e){let t=new WeakMap;return(r,...i)=>{let n=t.get(r);if(void 0!==n)return n;let o=e(r,...i);return t.set(r,o),o}}let K=BigInt(0),Z=BigInt(1),Y=BigInt(2),G=BigInt(3),X=BigInt(4),J=BigInt(5),Q=BigInt(8);function ee(e,t){let r=e%t;return r>=K?r:t+r}function et(e,t,r){let i=e;for(;t-- >K;)i*=i,i%=r;return i}function er(e,t){if(e===K)throw Error("invert: expected non-zero number");if(t<=K)throw Error("invert: expected positive modulus, got "+t);let r=ee(e,t),i=t,n=K,o=Z,s=Z,a=K;for(;r!==K;){let e=i/r,t=i%r,l=n-s*e,f=o-a*e;i=r,r=t,n=s,o=a,s=l,a=f}if(i!==Z)throw Error("invert: does not exist");return ee(n,t)}function ei(e,t){let r=(e.ORDER+Z)/X,i=e.pow(t,r);if(!e.eql(e.sqr(i),t))throw Error("Cannot find square root");return i}function en(e,t){let r=(e.ORDER-J)/Q,i=e.mul(t,Y),n=e.pow(i,r),o=e.mul(t,n),s=e.mul(e.mul(o,Y),n),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let eo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function es(e){return V(e,eo.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function ea(e,t,r=!1){let i=Array(t.length).fill(r?e.ZERO:void 0),n=t.reduce((t,r,n)=>e.is0(r)?t:(i[n]=t,e.mul(t,r)),e.ONE),o=e.inv(n);return t.reduceRight((t,r,n)=>e.is0(r)?t:(i[n]=e.mul(t,i[n]),e.mul(t,r)),o),i}function el(e,t){let r=(e.ORDER-Z)/Y,i=e.pow(t,r),n=e.eql(i,e.ONE),o=e.eql(i,e.ZERO),s=e.eql(i,e.neg(e.ONE));if(!n&&!o&&!s)throw Error("invalid Legendre symbol result");return n?1:o?0:-1}function ef(e,t){void 0!==t&&(0,m.anumber)(t);let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function ec(e,t,r=!1,i={}){let n;if(e<=K)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=ef(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:H(o),ZERO:K,ONE:Z,create:t=>ee(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return K<=t&&t<e},is0:e=>e===K,isOdd:e=>(e&Z)===Z,neg:t=>ee(-t,e),eql:(e,t)=>e===t,sqr:t=>ee(t*t,e),add:(t,r)=>ee(t+r,e),sub:(t,r)=>ee(t-r,e),mul:(t,r)=>ee(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<K)throw Error("invalid exponent, negatives unsupported");if(r===K)return e.ONE;if(r===Z)return t;let i=e.ONE,n=t;for(;r>K;)r&Z&&(i=e.mul(i,n)),n=e.sqr(n),r>>=Z;return i})(a,e,t),div:(t,r)=>ee(t*er(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>er(t,e),sqrt:i.sqrt||(t=>(n||(n=e%X===G?ei:e%Q===J?en:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-Z,r=0;for(;t%Y===K;)t/=Y,r++;let i=Y,n=ec(e);for(;1===el(n,i);)if(i++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return ei;let o=n.pow(i,t),s=(t+Z)/Y;return function(e,i){if(e.is0(i))return i;if(1!==el(e,i))throw Error("Cannot find square root");let n=r,a=e.mul(e.ONE,o),l=e.pow(i,t),f=e.pow(i,s);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===n)throw Error("Cannot find square root");let i=Z<<BigInt(n-t-1),o=e.pow(a,i);n=t,a=e.sqr(o),l=e.mul(l,a),f=e.mul(f,o)}return f}}(e)),n(a,t))),toBytes:e=>r?j(e,s):L(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?z(e):N(e)},invertBatch:e=>ea(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function eh(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function eu(e){let t=eh(e);return t+Math.ceil(t/2)}let ed=BigInt(0),ep=BigInt(1);function eg(e,t){let r=t.negate();return e?r:t}function ew(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function eb(e,t){ew(e,t);let r=Math.ceil(t/e)+1,i=2**(e-1),n=2**e;return{windows:r,windowSize:i,mask:H(e),maxNumber:n,shiftBy:BigInt(e)}}function ey(e,t,r){let{windowSize:i,mask:n,maxNumber:o,shiftBy:s}=r,a=Number(e&n),l=e>>s;a>i&&(a-=o,l+=ep);let f=t*i,c=f+Math.abs(a)-1,h=0===a;return{nextN:l,offset:c,isZero:h,isNeg:a<0,isNegF:t%2!=0,offsetF:f}}let em=new WeakMap,ev=new WeakMap;function ex(e){return ev.get(e)||1}function eE(e){return es(e.Fp),V(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ef(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}function eB(e){void 0!==e.lowS&&S("lowS",e.lowS),void 0!==e.prehash&&S("prehash",e.prehash)}let eA={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=eA;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let i=t.length/2,n=I(i);if(n.length/2&128)throw new r("tlv.encode: long form length too big");let o=i>127?I(n.length/2|128):"";return I(e)+o+n+t},decode(e,t){let{Err:r}=eA,i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[i++]!==e)throw new r("tlv.decode: wrong tlv");let n=t[i++],o=0;if(128&n){let e=127&n;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(i,i+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(i+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=n;let s=t.subarray(i,i+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(i+o)}}},_int:{encode(e){let{Err:t}=eA;if(e<eS)throw new t("integer: negative integers are not allowed");let r=I(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=eA;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return N(e)}},toSig(e){let{Err:t,_int:r,_tlv:i}=eA,n=T("signature",e),{v:o,l:s}=i.decode(48,n);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:l}=i.decode(2,o),{v:f,l:c}=i.decode(2,l);if(c.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(f)}},hexFromSig(e){let{_tlv:t,_int:r}=eA,i=t.encode(2,r.encode(e.r)),n=t.encode(2,r.encode(e.s));return t.encode(48,i+n)}},eS=BigInt(0),eI=BigInt(1),eU=BigInt(2),eO=BigInt(3),eC=BigInt(4),ek=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eP=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eR=BigInt(0),eN=BigInt(1),ez=BigInt(2),eL=(e,t)=>(e+t/ez)/t,ej=ec(ek,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),i=BigInt(11),n=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),l=e*e*e%ek,f=l*l*e%ek,c=et(f,t,ek)*f%ek,h=et(c,t,ek)*f%ek,u=et(h,ez,ek)*l%ek,d=et(u,i,ek)*u%ek,p=et(d,n,ek)*d%ek,g=et(p,s,ek)*p%ek,w=et(g,a,ek)*g%ek,b=et(w,s,ek)*p%ek,y=et(b,t,ek)*f%ek,m=et(y,o,ek)*d%ek,v=et(m,r,ek)*l%ek,x=et(v,ez,ek);if(!ej.eql(ej.sqr(x),e))throw Error("Cannot find square root");return x}}),eT=(c={a:eR,b:BigInt(7),Fp:ej,n:eP,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eN*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),n=BigInt("0x100000000000000000000000000000000"),o=eL(t*e,eP),s=eL(-r*e,eP),a=ee(e-o*t-s*i,eP),l=ee(-o*r-s*t,eP),f=a>n,c=l>n;if(f&&(a=eP-a),c&&(l=eP-l),a>n||l>n)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:a,k2neg:c,k2:l}}}},h=y.sha256,{...(t=e=>(function(e){let t,r=(V(t=eE(e),{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})),{Fp:i,n:n,nByteLength:o,nBitLength:s}=r,a=i.BYTES+1,l=2*i.BYTES+1;function f(e){return ee(e,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:u,isWithinCurveOrder:d}=function(e){var t;let r=function(e){let t=eE(e);V(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:i,a:n}=t;if(r){if(!i.eql(n,i.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:i}=r,n=ec(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let n=t.toAffine();return $(Uint8Array.from([4]),i.toBytes(n.x),i.toBytes(n.y))}),s=r.fromBytes||(e=>{let t=e.subarray(1);return{x:i.fromBytes(t.subarray(0,i.BYTES)),y:i.fromBytes(t.subarray(i.BYTES,2*i.BYTES))}});function a(e){let{a:t,b:n}=r,o=i.sqr(e),s=i.mul(o,e);return i.add(i.add(s,i.mul(e,t)),n)}function l(e,t){let r=i.sqr(t),n=a(e);return i.eql(r,n)}if(!l(r.Gx,r.Gy))throw Error("bad curve params: generator point");let f=i.mul(i.pow(r.a,eO),eC),c=i.mul(i.sqr(r.b),BigInt(27));if(i.is0(i.add(f,c)))throw Error("bad curve params: a or b");function h(e){let t,{allowedPrivateKeyLengths:i,nByteLength:n,wrapPrivateKey:o,n:s}=r;if(i&&"bigint"!=typeof e){if(B(e)&&(e=k(e)),"string"!=typeof e||!i.includes(e.length))throw Error("invalid private key");e=e.padStart(2*n,"0")}try{t="bigint"==typeof e?e:N(T("private key",e,n))}catch(t){throw Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return o&&(t=ee(t,s)),D("private key",t,eI,s),t}function u(e){if(!(e instanceof g))throw Error("ProjectivePoint expected")}let d=W((e,t)=>{let{px:r,py:n,pz:o}=e;if(i.eql(o,i.ONE))return{x:r,y:n};let s=e.is0();null==t&&(t=s?i.ONE:i.inv(o));let a=i.mul(r,t),l=i.mul(n,t),f=i.mul(o,t);if(s)return{x:i.ZERO,y:i.ZERO};if(!i.eql(f,i.ONE))throw Error("invZ was invalid");return{x:a,y:l}}),p=W(e=>{if(e.is0()){if(r.allowInfinityPoint&&!i.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:n}=e.toAffine();if(!i.isValid(t)||!i.isValid(n))throw Error("bad point: x or y not FE");if(!l(t,n))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class g{constructor(e,t,r){if(null==e||!i.isValid(e))throw Error("x required");if(null==t||!i.isValid(t)||i.is0(t))throw Error("y required");if(null==r||!i.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!i.isValid(t)||!i.isValid(r))throw Error("invalid affine point");if(e instanceof g)throw Error("projective point not allowed");let n=e=>i.eql(e,i.ZERO);return n(t)&&n(r)?g.ZERO:new g(t,r,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=ea(i,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(g.fromAffine)}static fromHex(e){let t=g.fromAffine(s(T("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return g.BASE.multiply(h(e))}static msm(e,t){return function(e,t,r,i){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(i))throw Error("array of scalars expected");i.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)});let n=r.length,o=i.length;if(n!==o)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,a=function(e){let t;for(t=0;e>x;e>>=E,t+=1);return t}(BigInt(n)),l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);let f=H(l),c=Array(Number(f)+1).fill(s),h=Math.floor((t.BITS-1)/l)*l,u=s;for(let e=h;e>=0;e-=l){c.fill(s);for(let t=0;t<o;t++){let n=Number(i[t]>>BigInt(e)&f);c[n]=c[n].add(r[t])}let t=s;for(let e=c.length-1,r=s;e>0;e--)r=r.add(c[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<l;e++)u=u.double()}return u}(g,n,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){let{y:e}=this.toAffine();if(i.isOdd)return!i.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){u(e);let{px:t,py:r,pz:n}=this,{px:o,py:s,pz:a}=e,l=i.eql(i.mul(t,a),i.mul(o,n)),f=i.eql(i.mul(r,a),i.mul(s,n));return l&&f}negate(){return new g(this.px,i.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,n=i.mul(t,eO),{px:o,py:s,pz:a}=this,l=i.ZERO,f=i.ZERO,c=i.ZERO,h=i.mul(o,o),u=i.mul(s,s),d=i.mul(a,a),p=i.mul(o,s);return p=i.add(p,p),c=i.mul(o,a),c=i.add(c,c),l=i.mul(e,c),f=i.mul(n,d),f=i.add(l,f),l=i.sub(u,f),f=i.add(u,f),f=i.mul(l,f),l=i.mul(p,l),c=i.mul(n,c),d=i.mul(e,d),p=i.sub(h,d),p=i.mul(e,p),p=i.add(p,c),c=i.add(h,h),h=i.add(c,h),h=i.add(h,d),h=i.mul(h,p),f=i.add(f,h),d=i.mul(s,a),d=i.add(d,d),h=i.mul(d,p),l=i.sub(l,h),c=i.mul(d,u),c=i.add(c,c),new g(l,f,c=i.add(c,c))}add(e){u(e);let{px:t,py:n,pz:o}=this,{px:s,py:a,pz:l}=e,f=i.ZERO,c=i.ZERO,h=i.ZERO,d=r.a,p=i.mul(r.b,eO),w=i.mul(t,s),b=i.mul(n,a),y=i.mul(o,l),m=i.add(t,n),v=i.add(s,a);m=i.mul(m,v),v=i.add(w,b),m=i.sub(m,v),v=i.add(t,o);let x=i.add(s,l);return v=i.mul(v,x),x=i.add(w,y),v=i.sub(v,x),x=i.add(n,o),f=i.add(a,l),x=i.mul(x,f),f=i.add(b,y),x=i.sub(x,f),h=i.mul(d,v),f=i.mul(p,y),h=i.add(f,h),f=i.sub(b,h),h=i.add(b,h),c=i.mul(f,h),b=i.add(w,w),b=i.add(b,w),y=i.mul(d,y),v=i.mul(p,v),b=i.add(b,y),y=i.sub(w,y),y=i.mul(d,y),v=i.add(v,y),w=i.mul(b,v),c=i.add(c,w),w=i.mul(x,v),f=i.mul(m,f),f=i.sub(f,w),w=i.mul(m,b),h=i.mul(x,h),new g(f,c,h=i.add(h,w))}subtract(e){return this.add(e.negate())}is0(){return this.equals(g.ZERO)}wNAF(e){return y.wNAFCached(this,e,g.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:n}=r;D("scalar",e,eS,n);let o=g.ZERO;if(e===eS)return o;if(this.is0()||e===eI)return this;if(!t||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,g.normalizeZ);let{k1neg:s,k1:a,k2neg:l,k2:f}=t.splitScalar(e),c=o,h=o,u=this;for(;a>eS||f>eS;)a&eI&&(c=c.add(u)),f&eI&&(h=h.add(u)),u=u.double(),a>>=eI,f>>=eI;return s&&(c=c.negate()),l&&(h=h.negate()),h=new g(i.mul(h.px,t.beta),h.py,h.pz),c.add(h)}multiply(e){let t,n,{endo:o,n:s}=r;if(D("scalar",e,eI,s),o){let{k1neg:r,k1:s,k2neg:a,k2:l}=o.splitScalar(e),{p:f,f:c}=this.wNAF(s),{p:h,f:u}=this.wNAF(l);f=y.constTimeNegate(r,f),h=y.constTimeNegate(a,h),h=new g(i.mul(h.px,o.beta),h.py,h.pz),t=f.add(h),n=c.add(u)}else{let{p:r,f:i}=this.wNAF(e);t=r,n=i}return g.normalizeZ([t,n])[0]}multiplyAndAddUnsafe(e,t,r){let i=g.BASE,n=(e,t)=>t!==eS&&t!==eI&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t),o=n(this,t).add(n(e,r));return o.is0()?void 0:o}toAffine(e){return d(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===eI)return!0;if(t)return t(g,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===eI?this:t?t(g,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return S("isCompressed",e),this.assertValidity(),o(g,this,e)}toHex(e=!0){return S("isCompressed",e),k(this.toRawBytes(e))}}g.BASE=new g(r.Gx,r.Gy,i.ONE),g.ZERO=new g(i.ZERO,i.ONE,i.ZERO);let{endo:w,nBitLength:b}=r,y=(t=w?Math.ceil(b/2):b,{constTimeNegate:eg,hasPrecomputes:e=>1!==ex(e),unsafeLadder(e,t,r=g.ZERO){let i=e;for(;t>ed;)t&ep&&(r=r.add(i)),i=i.double(),t>>=ep;return r},precomputeWindow(e,r){let{windows:i,windowSize:n}=eb(r,t),o=[],s=e,a=s;for(let e=0;e<i;e++){a=s,o.push(a);for(let e=1;e<n;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,r,i){let n=g.ZERO,o=g.BASE,s=eb(e,t);for(let e=0;e<s.windows;e++){let{nextN:t,offset:a,isZero:l,isNeg:f,isNegF:c,offsetF:h}=ey(i,e,s);i=t,l?o=o.add(eg(c,r[h])):n=n.add(eg(f,r[a]))}return{p:n,f:o}},wNAFUnsafe(e,r,i,n=g.ZERO){let o=eb(e,t);for(let e=0;e<o.windows&&i!==ed;e++){let{nextN:t,offset:s,isZero:a,isNeg:l}=ey(i,e,o);if(i=t,!a){let e=r[s];n=n.add(l?e.negate():e)}}return n},getPrecomputes(e,t,r){let i=em.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&em.set(t,r(i))),i},wNAFCached(e,t,r){let i=ex(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)},wNAFCachedUnsafe(e,t,r,i){let n=ex(e);return 1===n?this.unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)},setWindowSize(e,r){ew(r,t),ev.set(e,r),em.delete(e)}});return{CURVE:r,ProjectivePoint:g,normPrivateKeyToScalar:h,weierstrassEquation:a,isWithinCurveOrder:function(e){return _(e,eI,r.n)}}}({...r,toBytes(e,t,r){let n=t.toAffine(),o=i.toBytes(n.x);return(S("isCompressed",r),r)?$(Uint8Array.from([t.hasEvenY()?2:3]),o):$(Uint8Array.from([4]),o,i.toBytes(n.y))},fromBytes(e){let t=e.length,r=e[0],n=e.subarray(1);if(t===a&&(2===r||3===r)){let e,t=N(n);if(!_(t,eI,i.ORDER))throw Error("Point is not on curve");let o=u(t);try{e=i.sqrt(o)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&r)==1!=((e&eI)===eI)&&(e=i.neg(e)),{x:t,y:e}}if(t===l&&4===r)return{x:i.fromBytes(n.subarray(0,i.BYTES)),y:i.fromBytes(n.subarray(i.BYTES,2*i.BYTES))};throw Error("invalid Point, expected length of "+a+", or uncompressed "+l+", got "+t)}}),p=(e,t,r)=>N(e.slice(t,r));class g{constructor(e,t,r){D("r",e,eI,n),D("s",t,eI,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new g(p(e=T("compactSignature",e,2*o),0,o),p(e,o,2*o))}static fromDER(e){let{r:t,s:r}=eA.toSig(T("DER",e));return new g(t,r)}assertValidity(){}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){let{r:t,s:o,recovery:s}=this,a=y(T("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let l=2===s||3===s?t+r.n:t;if(l>=i.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&s)==0?"02":"03",u=c.fromHex(h+k(L(l,i.BYTES))),d=er(l,n),p=f(-a*d),g=f(o*d),w=c.BASE.multiplyAndAddUnsafe(u,p,g);if(!w)throw Error("point at infinify");return w.assertValidity(),w}hasHighS(){return this.s>n>>eI}normalizeS(){return this.hasHighS()?new g(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return R(this.toDERHex())}toDERHex(){return eA.hexFromSig(this)}toCompactRawBytes(){return R(this.toCompactHex())}toCompactHex(){return k(L(this.r,o))+k(L(this.s,o))}}function w(e){if("bigint"==typeof e)return!1;if(e instanceof c)return!0;let t=T("key",e).length,n=i.BYTES,s=n+1;if(!r.allowedPrivateKeyLengths&&o!==s)return t===s||t===2*n+1}let b=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=N(e),r=8*e.length-s;return r>0?t>>BigInt(r):t},y=r.bits2int_modN||function(e){return f(b(e))},m=H(s);function v(e){return D("num < 2^"+s,e,eS,m),L(e,o)}let A={lowS:r.lowS,prehash:!1},I={lowS:r.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===w(e))throw Error("first arg must be private key");if(!1===w(t))throw Error("second arg must be public key");return c.fromHex(t).multiply(h(e)).toRawBytes(r)},sign:function(e,t,o=A){let{seed:s,k2sig:a}=function(e,t,o=A){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:a}=r,{lowS:l,prehash:u,extraEntropy:p}=o;null==l&&(l=!0),e=T("msgHash",e),eB(o),u&&(e=T("prehashed msgHash",s(e)));let w=y(e),m=h(t),x=[v(m),v(w)];if(null!=p&&!1!==p){let e=!0===p?a(i.BYTES):p;x.push(T("extraEntropy",e))}return{seed:$(...x),k2sig:function(e){var t;let r=b(e);if(!d(r))return;let i=er(r,n),o=c.BASE.multiply(r).toAffine(),s=f(o.x);if(s===eS)return;let a=f(i*f(w+s*m));if(a===eS)return;let h=2*(o.x!==s)|Number(o.y&eI),u=a;return l&&a>n>>eI&&(u=(t=a)>n>>eI?f(-t):t,h^=1),new g(s,u,h)}}}(e,t,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let i=M(e),n=M(e),o=0,s=()=>{i.fill(1),n.fill(0),o=0},a=(...e)=>r(n,i,...e),l=(e=M(0))=>{let t;if(n=a((t=[0],Uint8Array.from(t)),e),i=a(),0!==e.length){let t;n=a((t=[1],Uint8Array.from(t)),e),i=a()}},f=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(i=a()).slice();r.push(t),e+=i.length}return $(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(f()));)l();return s(),r}})(r.hash.outputLen,r.nByteLength,r.hmac)(s,a)},verify:function(e,t,i,o=I){let s,a;t=T("msgHash",t),i=T("publicKey",i);let{lowS:l,prehash:h,format:u}=o;if(eB(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==u&&"compact"!==u&&"der"!==u)throw Error("format must be compact or der");let d="string"==typeof e||B(e),p=!d&&!u&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!d&&!p)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(p&&(a=new g(e.r,e.s)),d){try{"compact"!==u&&(a=g.fromDER(e))}catch(e){if(!(e instanceof eA.Err))throw e}a||"der"===u||(a=g.fromCompact(e))}s=c.fromHex(i)}catch(e){return!1}if(!a||l&&a.hasHighS())return!1;h&&(t=r.hash(t));let{r:w,s:b}=a,m=y(t),v=er(b,n),x=f(m*v),E=f(w*v),A=c.BASE.multiplyAndAddUnsafe(s,x,E)?.toAffine();return!!A&&f(A.x)===w},ProjectivePoint:c,Signature:g,utils:{isValidPrivateKey(e){try{return h(e),!0}catch(e){return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let e=eu(r.n);return function(e,t,r=!1){let i=e.length,n=eh(t),o=eu(t);if(i<16||i<o||i>1024)throw Error("expected "+o+"-1024 bytes of input, got "+i);let s=ee(r?z(e):N(e),t-Z)+Z;return r?j(s,n):L(s,n)}(r.randomBytes(e),r.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...c,...{hash:e,hmac:(t,...r)=>(0,v.hmac)(e,t,(0,m.concatBytes)(...r)),randomBytes:m.randomBytes}}))(h),create:t});eT.ProjectivePoint;let e$=(r=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[i,n,o,s]=r.map(t=>t.reduce((t,r)=>ej.add(ej.mul(t,e),r))),[a,l]=ea(ej,[n,s],!0);return e=ej.mul(i,a),t=ej.mul(t,ej.mul(o,l)),{x:e,y:t}}),eF=function(e,t){if(es(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(e,t){let r=e.ORDER,i=eS;for(let e=r-eI;e%eU===eS;e/=eU)i+=eI;let n=i,o=eU<<n-eI-eI,s=o*eU,a=(r-eI)/s,l=(a-eI)/eU,f=s-eI,c=e.pow(t,a),h=e.pow(t,(a+eI)/eU),u=(t,r)=>{let i=c,s=e.pow(r,f),a=e.sqr(s);a=e.mul(a,r);let u=e.mul(t,a);u=e.pow(u,l),u=e.mul(u,s),s=e.mul(u,r),a=e.mul(u,t);let d=e.mul(a,s);u=e.pow(d,o);let p=e.eql(u,e.ONE);s=e.mul(a,h),u=e.mul(d,i),a=e.cmov(s,a,p),d=e.cmov(u,d,p);for(let t=n;t>eI;t--){let r=t-eU;r=eU<<r-eI;let n=e.pow(d,r),o=e.eql(n,e.ONE);s=e.mul(a,i),i=e.mul(i,i),n=e.mul(d,i),a=e.cmov(s,a,o),d=e.cmov(n,d,o)}return{isValid:p,value:a}};if(e.ORDER%eC===eO){let r=(e.ORDER-eO)/eC,i=e.sqrt(e.neg(t));u=(t,n)=>{let o=e.sqr(n),s=e.mul(t,n);o=e.mul(o,s);let a=e.pow(o,r);a=e.mul(a,s);let l=e.mul(a,i),f=e.mul(e.sqr(a),n),c=e.eql(f,t),h=e.cmov(l,a,c);return{isValid:c,value:h}}}return u}(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return i=>{let n,o,s,a,l,f,c,h;n=e.sqr(i),n=e.mul(n,t.Z),o=e.sqr(n),o=e.add(o,n),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),f=e.sqr(a),l=e.mul(f,t.A),o=e.add(o,l),o=e.mul(o,s),f=e.mul(f,a),l=e.mul(f,t.B),o=e.add(o,l),c=e.mul(n,s);let{isValid:u,value:d}=r(o,f);h=e.mul(n,i),h=e.mul(h,d),c=e.cmov(c,s,u),h=e.cmov(h,d,u);let p=e.isOdd(i)===e.isOdd(h);h=e.cmov(e.neg(h),h,p);let g=ea(e,[a],!0)[0];return{x:c=e.mul(c,g),y:h}}}(ej,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ej.create(BigInt("-11"))});!function(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined")}(eT.ProjectivePoint,e=>{let{x:t,y:r}=eF(ej.create(e[0]));return e$(t,r)},(ej.ORDER,y.sha256));class e_ extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof e_){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof e_&&t.cause.docsPath||t.docsPath,n=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${n}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=n,this.docsPath=i,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function eD(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function eH(e,t){if(eJ(e)>t)throw new e3({givenSize:eJ(e),maxSize:t})}function eM(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;let n=e.replace("0x","");if(n.length>2*i)throw new e6({size:Math.ceil(n.length/2),targetSize:i,type:"Hex"});return`0x${n["right"===r?"padEnd":"padStart"](2*i,"0")}`}function eq(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}let eV=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eW(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function eK(e){return e instanceof Uint8Array?eZ(e):Array.isArray(e)?eZ(new Uint8Array(e)):e}function eZ(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=eV[e[t]];let i=`0x${r}`;return"number"==typeof t.size?(eH(i,t.size),eG(i,t.size)):i}function eY(e,t={}){var r;let i,{signed:n,size:o}=t,s=BigInt(e);o?i=n?(1n<<8n*BigInt(o)-1n)-1n:2n**(8n*BigInt(o))-1n:"number"==typeof e&&(i=BigInt(Number.MAX_SAFE_INTEGER));let a="bigint"==typeof i&&n?-i-1n:0;if(i&&s>i||s<a){let t="bigint"==typeof e?"n":"";throw new e0({max:i?`${i}${t}`:void 0,min:`${a}${t}`,signed:n,size:o,value:`${e}${t}`})}let l=(n&&s<0?(1n<<BigInt(8*o))+BigInt(s):s).toString(16),f=`0x${l}`;return o?(r=f,eM(r,{dir:"left",size:o})):f}function eG(e,t){return eM(e,{dir:"right",size:t})}function eX(e,t,r,i={}){let{strict:n}=i;if("number"==typeof t&&t>0&&t>eJ(e)-1)throw new e8({offset:t,position:"start",size:eJ(e)});let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&function(e,t,r){if("number"==typeof t&&"number"==typeof r&&eJ(e)!==r-t)throw new e8({offset:r,position:"end",size:eJ(e)})}(o,t,r),o}function eJ(e){return Math.ceil((e.length-2)/2)}function eQ(e){return function(e,t={}){let{dir:r="left"}=t,i=e.replace("0x",""),n=0;for(let e=0;e<i.length-1;e++)if("0"===i["left"===r?e:i.length-e-1].toString())n++;else break;return"0"===(i="left"===r?i.slice(n):i.slice(0,i.length-n))?"0x":"right"===r&&i.length%2==1?`0x${i}0`:`0x${i}`}(e,{dir:"left"})}class e0 extends e_{constructor({max:e,min:t,signed:r,size:i,value:n}){super(`Number \`${n}\` is not in safe${i?` ${8*i}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class e1 extends e_{constructor(e){super(`Value \`${"object"==typeof e?eq(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class e2 extends e_{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class e3 extends e_{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class e8 extends e_{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class e6 extends e_{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}let e4=new TextEncoder;function e5(e){var t;return e instanceof Uint8Array?e:"string"==typeof e?e9(e):(t=e)instanceof Uint8Array?t:new Uint8Array(t)}function e9(e,t={}){let{size:r}=t,i=e;r&&(eH(e,r),i=eG(e,r));let n=i.slice(2);n.length%2&&(n=`0${n}`);let o=n.length/2,s=new Uint8Array(o);for(let e=0,t=0;e<o;e++){let r=eD(n.charCodeAt(t++)),i=eD(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new e_(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);s[e]=16*r+i}return s}class e7 extends e_{constructor(e){super(`Value \`${"object"==typeof e?eq(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class te extends e_{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class tt extends e_{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}let tr=2n**256n-1n;function ti(e,t={}){let{recovered:r}=t;if(void 0===e.r||void 0===e.s||r&&void 0===e.yParity)throw new tA({signature:e});if(e.r<0n||e.r>tr)throw new tS({value:e.r});if(e.s<0n||e.s>tr)throw new tI({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new tU({value:e.yParity})}function tn(e){return to(eZ(e))}function to(e){if(130!==e.length&&132!==e.length)throw new tB({signature:e});let t=BigInt(eX(e,0,32)),r=BigInt(eX(e,32,64)),i=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return tx(t)}catch{throw new tU({value:t})}})();return void 0===i?{r:t,s:r}:{r:t,s:r,yParity:i}}function ts(e){if(void 0!==e.r&&void 0!==e.s)return ta(e)}function ta(e){let t="string"==typeof e?to(e):e instanceof Uint8Array?tn(e):"string"==typeof e.r?th(e):e.v?tc(e):{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}};return ti(t),t}function tl(e){return tf(eZ(e))}function tf(e){let{r:t,s:r}=eT.Signature.fromDER(eK(e).slice(2));return{r:t,s:r}}function tc(e){return{r:e.r,s:e.s,yParity:tx(e.v)}}function th(e){let t=(()=>{let t=e.v?Number(e.v):void 0,r=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof r&&(r=tx(t)),"number"!=typeof r)throw new tU({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function tu(e){let[t,r,i]=e;return ta({r:"0x"===r?0n:BigInt(r),s:"0x"===i?0n:BigInt(i),yParity:"0x"===t?0:Number(t)})}function td(e){return e9(tp(e))}function tp(e){ti(e);let t=e.r,r=e.s;return eW(eY(t,{size:32}),eY(r,{size:32}),"number"==typeof e.yParity?eY(tE(e.yParity),{size:1}):"0x")}function tg(e){return new eT.Signature(e.r,e.s).toDERRawBytes()}function tw(e){let t=new eT.Signature(e.r,e.s);return`0x${t.toDERHex()}`}function tb(e){return{r:e.r,s:e.s,v:tE(e.yParity)}}function ty(e){let{r:t,s:r,yParity:i}=e;return{r:eY(t,{size:32}),s:eY(r,{size:32}),yParity:0===i?"0x0":"0x1"}}function tm(e){let{r:t,s:r,yParity:i}=e;return[i?"0x01":"0x",0n===t?"0x":eQ(eY(t)),0n===r?"0x":eQ(eY(r))]}function tv(e,t={}){try{return ti(e,t),!0}catch{return!1}}function tx(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return+(e%2==0);throw new tO({value:e})}function tE(e){if(0===e)return 27;if(1===e)return 28;throw new tU({value:e})}class tB extends e_{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${eJ(eK(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class tA extends e_{constructor({signature:e}){super(`Signature \`${eq(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class tS extends e_{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class tI extends e_{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class tU extends e_{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class tO extends e_{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}e.s(["InvalidRError",()=>tS,"InvalidSError",()=>tI,"InvalidSerializedSizeError",()=>tB,"InvalidVError",()=>tO,"InvalidYParityError",()=>tU,"MissingPropertiesError",()=>tA,"assert",()=>ti,"extract",()=>ts,"from",()=>ta,"fromBytes",()=>tn,"fromDerBytes",()=>tl,"fromDerHex",()=>tf,"fromHex",()=>to,"fromLegacy",()=>tc,"fromRpc",()=>th,"fromTuple",()=>tu,"toBytes",()=>td,"toDerBytes",()=>tg,"toDerHex",()=>tw,"toHex",()=>tp,"toLegacy",()=>tb,"toRpc",()=>ty,"toTuple",()=>tm,"vToYParity",()=>tx,"validate",()=>tv,"yParityToV",()=>tE],920762),e.i(920762);class tC extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let tk={checksum:new tC(8192)}.checksum;e.i(815368);var tP=e.i(120089);function tR(e,t={}){let{as:r="string"==typeof e?"Hex":"Bytes"}=t,i=(0,tP.keccak_256)(e5(e));return"Bytes"===r?i:eZ(i)}function tN(e,t={}){let{compressed:r}=t,{prefix:i,x:n,y:o}=e;if(!1===r||"bigint"==typeof n&&"bigint"==typeof o){if(4!==i)throw new t$({prefix:i,cause:new t_});return}if(!0===r||"bigint"==typeof n&&void 0===o){if(3!==i&&2!==i)throw new t$({prefix:i,cause:new tF});return}throw new tT({publicKey:e})}function tz(e){let t=(()=>{if(function(e,t={}){let{strict:r=!1}=t;try{return!function(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new e1(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new e2(e)}(e,{strict:r}),!0}catch{return!1}}(e))return tL(e);if(function(e){try{if(!(e instanceof Uint8Array)&&(!e||"object"!=typeof e||!("BYTES_PER_ELEMENT"in e)||1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name))throw new e7(e);return!0}catch{return!1}}(e))return tL(eZ(e));let{prefix:t,x:r,y:i}=e;return"bigint"==typeof r&&"bigint"==typeof i?{prefix:t??4,x:r,y:i}:{prefix:t,x:r}})();return tN(t),t}function tL(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new tD({publicKey:e});if(130===e.length)return{prefix:4,x:BigInt(eX(e,0,32)),y:BigInt(eX(e,32,64))};if(132===e.length){let t=Number(eX(e,0,1));return{prefix:t,x:BigInt(eX(e,1,33)),y:BigInt(eX(e,33,65))}}return{prefix:Number(eX(e,0,1)),x:BigInt(eX(e,1,33))}}function tj(e,t={}){tN(e);let{prefix:r,x:i,y:n}=e,{includePrefix:o=!0}=t;return eW(o?eY(r,{size:1}):"0x",eY(i,{size:32}),"bigint"==typeof n?eY(n,{size:32}):"0x")}e.i(62600);class tT extends e_{constructor({publicKey:e}){super(`Value \`${eq(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class t$ extends e_{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class tF extends e_{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class t_ extends e_{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class tD extends e_{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${eJ(eK(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}let tH=/^0x[a-fA-F0-9]{40}$/;function tM(e,t={}){let{strict:r=!0}=t;if(!tH.test(e))throw new tV({address:e,cause:new tW});if(r){if(e.toLowerCase()===e)return;if(tq(e)!==e)throw new tV({address:e,cause:new tK})}}function tq(e){if(tk.has(e))return tk.get(e);tM(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=tR(function(e,t={}){let{size:r}=t,i=e4.encode(e);if("number"==typeof r){var n;if(i.length>r)throw new te({givenSize:i.length,maxSize:r});return n=i,function(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;if(e.length>i)throw new tt({size:e.length,targetSize:i,type:"Bytes"});let n=new Uint8Array(i);for(let t=0;t<i;t++){let o="right"===r;n[o?t:i-t-1]=e[o?t:e.length-t-1]}return n}(n,{dir:"right",size:r})}return i}(t),{as:"Bytes"}),i=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&r[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());let n=`0x${i.join("")}`;return tk.set(e,n),n}class tV extends e_{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class tW extends e_{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class tK extends e_{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function tZ(e={}){let{as:t="Hex"}=e,r=tX({as:t}),i=tY({privateKey:r});return{privateKey:r,publicKey:i}}function tY(e){let{privateKey:t}=e;return tz(eT.ProjectivePoint.fromPrivateKey(eK(t).slice(2)))}function tG(e){let{as:t="Hex",privateKey:r,publicKey:i}=e,n=eT.ProjectivePoint.fromHex(tj(i).slice(2)).multiply(eT.utils.normPrivateKeyToScalar(eK(r).slice(2))).toRawBytes(!0);return"Hex"===t?eZ(n):n}function tX(e={}){let{as:t="Hex"}=e,r=eT.utils.randomPrivateKey();return"Hex"===t?eZ(r):r}function tJ(e){return function(e,t={}){let r=tR(`0x${tj(e).slice(4)}`).substring(26);return function(e,t={}){let{checksum:r=!1}=t;return(tM(e),r)?tq(e):e}(`0x${r}`,t)}(tQ(e))}function tQ(e){let{payload:t,signature:r}=e,{r:i,s:n,yParity:o}=r;return tz(new eT.Signature(BigInt(i),BigInt(n)).addRecoveryBit(o).recoverPublicKey(eK(t).substring(2)))}function t0(e){let{extraEntropy:t=!1,hash:r,payload:i,privateKey:n}=e,{r:o,s,recovery:a}=eT.sign(e5(i),e5(n),{extraEntropy:"boolean"==typeof t?t:eK(t).slice(2),lowS:!0,...r?{prehash:!0}:{}});return{r:o,s,yParity:a}}function t1(e){let{address:t,hash:r,payload:i,publicKey:n,signature:o}=e;if(t){var s;return s=tJ({payload:i,signature:o}),tM(t,{strict:!1}),tM(s,{strict:!1}),t.toLowerCase()===s.toLowerCase()}return eT.verify(o,e5(i),function(e,t={}){return e9(tj(e,t))}(n),...r?[{prehash:!0,lowS:!0}]:[])}function t2(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}e.s(["createKeyPair",()=>tZ,"getPublicKey",()=>tY,"getSharedSecret",()=>tG,"noble",0,eT,"randomPrivateKey",()=>tX,"recoverAddress",()=>tJ,"recoverPublicKey",()=>tQ,"sign",()=>t0,"verify",()=>t1],562953),e.i(562953),!function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let i=e.charAt(r),n=i.charCodeAt(0);if(255!==t[n])throw TypeError(i+" is ambiguous");t[n]=r}let r=e.length,i=e.charAt(0),n=Math.log(r)/Math.log(256)}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");class t3{constructor(e,t){this.type=e,this.data=t}}class t8 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Object.create(t8.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:t8.name})}}function t6(e,t,r){let i=Math.floor(r/0x100000000);e.setUint32(t,i),e.setUint32(t+4,r)}function t4(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}let t5={type:-1,encode:function(e){if(!(e instanceof Date))return null;{let t,r,i,n;return function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=0x3ffffffff)if(0===t&&e<=0xffffffff){let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}else{let r=e/0x100000000,i=new Uint8Array(8),n=new DataView(i.buffer);return n.setUint32(0,t<<2|3&r),n.setUint32(4,0|e),i}{let r=new Uint8Array(12),i=new DataView(r.buffer);return i.setUint32(0,t),t6(i,4,e),r}}((r=Math.floor((t=e.getTime())/1e3),n=Math.floor((i=(t-1e3*r)*1e6)/1e9),{sec:r+n,nsec:i-1e9*n}))}},decode:function(e){let t=function(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let e=t.getUint32(0);return{sec:(3&e)*0x100000000+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:t4(t,4),nsec:t.getUint32(0)};default:throw new t8(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class t9{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(t5)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{let i=-1-e;this.builtInEncoders[i]=t,this.builtInDecoders[i]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){let i=this.builtInEncoders[r];if(null!=i){let n=i(e,t);if(null!=n)return new t3(-1-r,n)}}for(let r=0;r<this.encoders.length;r++){let i=this.encoders[r];if(null!=i){let n=i(e,t);if(null!=n)return new t3(r,n)}}return e instanceof t3?e:null}decode(e,t,r){let i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new t3(t,e)}}t9.defaultCodec=new t9;let t7=new TextEncoder;function re(e,t,r){let i=t,n=i+r,o=[],s="";for(;i<n;){let t=e[i++];if((128&t)==0)o.push(t);else if((224&t)==192){let r=63&e[i++];o.push((31&t)<<6|r)}else if((240&t)==224){let r=63&e[i++],n=63&e[i++];o.push((31&t)<<12|r<<6|n)}else if((248&t)==240){let r=(7&t)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++];r>65535&&(r-=65536,o.push(r>>>10&1023|55296),r=56320|1023&r),o.push(r)}else o.push(t);o.length>=4096&&(s+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(s+=String.fromCharCode(...o)),s}let rt=new TextDecoder;function rr(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}let ri="array",rn="map_key",ro="map_value",rs=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new t8("The type of key must be string or number but "+typeof e)};class ra{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let t=this.getUninitializedStateFromPool();t.type=ri,t.position=0,t.size=e,t.array=Array(e)}pushMapState(e){let t=this.getUninitializedStateFromPool();t.type=rn,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw Error("Invalid stack state. Released state is not on top of the stack.");e.type===ri&&(e.size=0,e.array=void 0,e.position=0,e.type=void 0),(e.type===rn||e.type===ro)&&(e.size=0,e.map=void 0,e.readCount=0,e.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let rl=new DataView(new ArrayBuffer(0)),rf=new Uint8Array(rl.buffer);try{rl.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let rc=RangeError("Insufficient data"),rh=new class{constructor(e=16,t=16){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){let i=this.caches[r-1];e:for(let n of i){let i=n.bytes;for(let n=0;n<r;n++)if(i[n]!==e[t+n])continue e;return n.str}return null}store(e,t){let r=this.caches[e.length-1],i={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,t,r){let i=this.find(e,t,r);if(null!=i)return this.hit++,i;this.miss++;let n=re(e,t,r),o=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(o,n),n}};class ru{constructor(e){this.totalPos=0,this.pos=0,this.view=rl,this.bytes=rf,this.headByte=-1,this.stack=new ra,this.entered=!1,this.extensionCodec=e?.extensionCodec??t9.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??0xffffffff,this.maxBinLength=e?.maxBinLength??0xffffffff,this.maxArrayLength=e?.maxArrayLength??0xffffffff,this.maxMapLength=e?.maxMapLength??0xffffffff,this.maxExtLength=e?.maxExtLength??0xffffffff,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:rh,this.mapKeyConverter=e?.mapKeyConverter??rs}clone(){return new ru({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){let t=rr(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){let t=this.bytes.subarray(this.pos),r=rr(e),i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),this.setBuffer(i)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:t,pos:r}=this;return RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){let t=this.clone();yield*t.decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{let t;this.entered=!0;let r=!1;for await(let i of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(i);try{t=this.doDecodeSync(),r=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}let{headByte:i,pos:n,totalPos:o}=this;throw RangeError(`Insufficient data in parsing ${t2(i)} at ${o} (${n} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async *decodeMultiAsync(e,t){if(this.entered){let r=this.clone();yield*r.decodeMultiAsync(e,t);return}try{this.entered=!0;let r=t,i=-1;for await(let n of e){if(t&&0===i)throw this.createExtraByteError(this.totalPos);this.appendBuffer(n),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--i;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){t:for(;;){let e,t=this.readHeadByte();if(t>=224)e=t-256;else if(t<192)if(t<128)e=t;else if(t<144){let r=t-128;if(0!==r){this.pushMapState(r),this.complete();continue}e={}}else if(t<160){let r=t-144;if(0!==r){this.pushArrayState(r),this.complete();continue}e=[]}else{let r=t-160;e=this.decodeString(r,0)}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){let t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){let t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){let t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){let t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(221===t){let t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(222===t){let t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(223===t){let t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(196===t){let t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){let t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){let t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){let t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){let t=this.lookU16();e=this.decodeExtension(t,2)}else if(201===t){let t=this.lookU32();e=this.decodeExtension(t,4)}else throw new t8(`Unrecognized type byte: ${t2(t)}`);this.complete();let r=this.stack;for(;r.length>0;){let t=r.top();if(t.type===ri)if(t.array[t.position]=e,t.position++,t.position===t.size)e=t.array,r.release(t);else continue t;else if(t.type===rn){if("__proto__"===e)throw new t8("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=ro;continue t}else if(t.map[t.key]=e,t.readCount++,t.readCount===t.size)e=t.map,r.release(t);else{t.key=null,t.type=rn;continue t}}return e}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new t8(`Unrecognized array type byte: ${t2(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new t8(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new t8(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){let r;if(e>this.maxStrLength)throw new t8(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw rc;let i=this.pos+t;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,i,e):function(e,t,r){let i;if(!(r>200))return re(e,t,r);return i=e.subarray(t,t+r),rt.decode(i)}(this.bytes,i,e),this.pos+=t+e,r}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===rn}decodeBinary(e,t){if(e>this.maxBinLength)throw new t8(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw rc;let r=this.pos+t,i=this.bytes.subarray(r,r+e);return this.pos+=t+e,i}decodeExtension(e,t){if(e>this.maxExtLength)throw new t8(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let r=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){var e,t;let r=(e=this.view,t=this.pos,0x100000000*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r}readI64(){let e=t4(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function rd(e,t){return new ru(t).decode(e)}e.s(["decode",()=>rd],927972);class rp{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??t9.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new rp({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){let t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){let t=new ArrayBuffer(e),r=new Uint8Array(t),i=new DataView(t);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let t=function(e){let t=e.length,r=0,i=0;for(;i<t;){let n=e.charCodeAt(i++);if((0xffffff80&n)==0){r++;continue}if((0xfffff800&n)==0)r+=2;else{if(n>=55296&&n<=56319&&i<t){let t=e.charCodeAt(i);(64512&t)==56320&&(++i,n=((1023&n)<<10)+(1023&t)+65536)}(0xffff0000&n)==0?r+=3:r+=4}}return r}(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){if(e.length>50)t7.encodeInto(e,t.subarray(r));else!function(e,t,r){let i=e.length,n=r,o=0;for(;o<i;){let r=e.charCodeAt(o++);if((0xffffff80&r)==0){t[n++]=r;continue}if((0xfffff800&r)==0)t[n++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&o<i){let t=e.charCodeAt(o);(64512&t)==56320&&(++o,r=((1023&r)<<10)+(1023&t)+65536)}(0xffff0000&r)==0?t[n++]=r>>12&15|224:(t[n++]=r>>18&7|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128}t[n++]=63&r|128}}(e,t,r)}(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){let r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error(`Too large binary: ${t}`);let r=rr(e);this.writeU8a(r)}encodeArray(e,t){let r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<0x100000000)this.writeU8(221),this.writeU32(r);else throw Error(`Too large array: ${r}`);for(let r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(let i of t)void 0!==e[i]&&r++;return r}encodeMap(e,t){let r=Object.keys(e);this.sortKeys&&r.sort();let i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<0x100000000)this.writeU8(223),this.writeU32(i);else throw Error(`Too large map object: ${i}`);for(let i of r){let r=e[i];this.ignoreUndefined&&void 0===r||(this.encodeString(i),this.doEncode(r,t+1))}}encodeExtension(e){if("function"==typeof e.data){let t=e.data(this.pos+6),r=t.length;if(r>=0x100000000)throw Error(`Too large extension object: ${r}`);this.writeU8(201),this.writeU32(r),this.writeI8(e.type),this.writeU8a(t);return}let t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<0x100000000)this.writeU8(201),this.writeU32(t);else throw Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){var t,r;this.ensureBufferSizeToWrite(8),t=this.view,r=this.pos,t.setUint32(r,e/0x100000000),t.setUint32(r+4,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),t6(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function rg(e,t){return new rp(t).encodeSharedRef(e)}function rw(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function rb(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function ry(e){if("function"!=typeof e)throw Error("function expected");return!0}function rm(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function rv(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function rx(e){if(!Array.isArray(e))throw Error("array expected")}function rE(e,t){if(!rb(!0,t))throw Error(`${e}: array of strings expected`)}function rB(e,t){if(!rb(!1,t))throw Error(`${e}: array of numbers expected`)}function rA(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function rS(e){let t="string"==typeof e?e.split(""):e,r=t.length;rE("alphabet",t);let i=new Map(t.map((e,t)=>[e,t]));return{encode:i=>(rx(i),i.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=r)throw Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${e}`);return t[i]})),decode:t=>(rx(t),t.map(t=>{rm("alphabet.decode",t);let r=i.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function rI(e=""){return rm("join",e),{encode:t=>(rE("join.decode",t),t.join(e)),decode:t=>(rm("join.decode",t),t.split(e))}}function rU(e,t,r){if(t<2)throw Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(rx(e),!e.length)return[];let i=0,n=[],o=Array.from(e,e=>{if(rv(e),e<0||e>=t)throw Error(`invalid integer: ${e}`);return e}),s=o.length;for(;;){let e=0,a=!0;for(let n=i;n<s;n++){let s=o[n],l=t*e,f=l+s;if(!Number.isSafeInteger(f)||l/t!==e||f-s!==l)throw Error("convertRadix: carry overflow");let c=f/r;e=f%r;let h=Math.floor(c);if(o[n]=h,!Number.isSafeInteger(h)||h*r+e!==f)throw Error("convertRadix: carry overflow");a&&(h?a=!1:i=n)}if(n.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)n.push(0);return n.reverse()}e.s(["encode",()=>rg],605222);let rO=(e,t)=>0===t?e:rO(t,e%t),rC=(e,t)=>e+(t-rO(e,t)),rk=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function rP(e,t,r,i){if(rx(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(rC(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${rC(t,r)}`);let n=0,o=0,s=rk[t],a=rk[r]-1,l=[];for(let i of e){if(rv(i),i>=s)throw Error(`convertRadix2: invalid data word=${i} from=${t}`);if(n=n<<t|i,o+t>32)throw Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)l.push((n>>o-r&a)>>>0);let e=rk[o];if(void 0===e)throw Error("invalid carry");n&=e-1}if(n=n<<r-o&a,!i&&o>=t)throw Error("Excess padding");if(!i&&n>0)throw Error(`Non-zero padding: ${n}`);return i&&o>0&&l.push(n>>>0),l}let rR=rA(function(e,t=!1){rv(5),!1;if(rC(8,5)>32||rC(5,8)>32)throw Error("radix2: carry overflow");return{encode:e=>{if(!rw(e))throw Error("radix2.encode input should be Uint8Array");return rP(Array.from(e),8,5,!t)},decode:e=>(rB("radix2.decode",e),Uint8Array.from(rP(e,5,8,t)))}}(5),rS("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),function(e,t="="){return rv(5),rm("padding",t),{encode(e){for(rE("padding.encode",e);5*e.length%8;)e.push(t);return e},decode(e){rE("padding.decode",e);let r=e.length;if(5*r%8)throw Error("padding: invalid, string should have whole number of bytes");for(;r>0&&e[r-1]===t;r--)if((r-1)*5%8==0)throw Error("padding: invalid, string has too much padding");return e.slice(0,r)}}}(5),rI("")),rN="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64;rv(58);"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex||ry(e=>{if("string"!=typeof e||e.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}),e.s(["base32",0,rR],562097);var rz=e.i(306908);function rL(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}rL("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),rL("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){if(null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe){var t;return t=globalThis.Buffer.allocUnsafe(e),null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}return new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),rz.bases.base16,rz.bases,e.i(754572),e.i(975879),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let rj=BigInt(0x100000000-1),rT=BigInt(32);function r$(e,t=!1){return t?{h:Number(e&rj),l:Number(e>>rT&rj)}:{h:0|Number(e>>rT&rj),l:0|Number(e&rj)}}function rF(e,t=!1){let r=e.length,i=new Uint32Array(r),n=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:s}=r$(e[o],t);[i[o],n[o]]=[r,s]}return[i,n]}let r_=(e,t,r)=>e>>>r,rD=(e,t,r)=>e<<32-r|t>>>r,rH=(e,t,r)=>e>>>r|t<<32-r,rM=(e,t,r)=>e<<32-r|t>>>r,rq=(e,t,r)=>e<<64-r|t>>>r-32,rV=(e,t,r)=>e>>>r-32|t<<64-r;function rW(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/0x100000000|0)|0,l:0|n}}let rK=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),rZ=(e,t,r,i)=>t+r+i+(e/0x100000000|0)|0,rY=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),rG=(e,t,r,i,n)=>t+r+i+n+(e/0x100000000|0)|0,rX=(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0),rJ=(e,t,r,i,n,o)=>t+r+i+n+o+(e/0x100000000|0)|0,rQ="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function r0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function r1(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function r2(e,...t){if(!r0(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function r3(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");r1(e.outputLen),r1(e.blockLen)}function r8(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function r6(e,t){r2(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function r4(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function r5(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function r9(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function r7(e,t){return e<<32-t|e>>>t}let ie=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function it(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}let ir=ie?e=>e:e=>it(e),ii=ie?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=it(e[t]);return e},io="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,is=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ia(e){if(r2(e),io)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=is[e[r]];return t}function il(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function ic(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(io)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=il(e.charCodeAt(n)),o=il(e.charCodeAt(n+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+o}return i}function ih(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function iu(e){return"string"==typeof e&&(e=ih(e)),r2(e),e}function id(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];r2(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}class ip{}function ig(e){let t=t=>e().update(iu(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function iw(e=32){if(rQ&&"function"==typeof rQ.getRandomValues)return rQ.getRandomValues(new Uint8Array(e));if(rQ&&"function"==typeof rQ.randomBytes)return Uint8Array.from(rQ.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let ib=BigInt(0),iy=BigInt(1),im=BigInt(2),iv=BigInt(7),ix=BigInt(256),iE=BigInt(113),iB=[],iA=[],iS=[];for(let e=0,t=iy,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],iB.push(2*(5*i+r)),iA.push((e+1)*(e+2)/2%64);let n=ib;for(let e=0;e<7;e++)(t=(t<<iy^(t>>iv)*iE)%ix)&im&&(n^=iy<<(iy<<BigInt(e))-iy);iS.push(n)}let iI=rF(iS,!0),iU=iI[0],iO=iI[1],iC=(e,t,r)=>r>32?t<<r-32|e>>>64-r:e<<r|t>>>32-r,ik=(e,t,r)=>r>32?e<<r-32|t>>>64-r:t<<r|e>>>32-r;class iP extends ip{constructor(e,t,r,i=!1,n=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=n,r1(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=r4(this.state)}clone(){return this._cloneInto()}keccak(){ii(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let i=(t+8)%10,n=(t+2)%10,o=r[n],s=r[n+1],a=iC(o,s,1)^r[i],l=ik(o,s,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],n=e[3];for(let r=0;r<24;r++){let i=iA[r],o=iC(t,n,i),s=ik(t,n,i),a=iB[r];t=e[a],n=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=iU[i],e[1]^=iO[i]}r5(r)}(this.state32,this.rounds),ii(this.state32),this.posOut=0,this.pos=0}update(e){r8(this),r2(e=iu(e));let{blockLen:t,state:r}=this,i=e.length;for(let n=0;n<i;){let o=Math.min(t-this.pos,i-n);for(let t=0;t<o;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(128&t)!=0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){r8(this,!1),r2(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return r1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(r6(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,r5(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:o}=this;return e||(e=new iP(t,r,i,o,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}ig(()=>new iP(136,1,32));class iR extends ip{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=r9(this.buffer)}update(e){r8(this),r2(e=iu(e));let{view:t,buffer:r,blockLen:i}=this,n=e.length;for(let o=0;o<n;){let s=Math.min(i-this.pos,n-o);if(s===i){let t=r9(e);for(;i<=n-o;o+=i)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){r8(this),r6(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:o}=this;t[o++]=128,r5(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let e=o;e<i;e++)t[e]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>n&o),a=Number(r&o),l=4*!!i,f=4*!i;e.setUint32(t+l,s,i),e.setUint32(t+f,a,i)})(r,i-8,BigInt(8*this.length),n),this.process(r,0);let s=r9(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,f=this.get();if(l>f.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,f[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:o,pos:s}=this;return e.destroyed=o,e.finished=n,e.length=i,e.pos=s,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let iN=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),iz=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),iL=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),ij=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),iT=new Uint32Array(64);class i$ extends iR{constructor(e=32){super(64,e,8,!1),this.A=0|iN[0],this.B=0|iN[1],this.C=0|iN[2],this.D=0|iN[3],this.E=0|iN[4],this.F=0|iN[5],this.G=0|iN[6],this.H=0|iN[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:o,G:s,H:a}=this;return[e,t,r,i,n,o,s,a]}set(e,t,r,i,n,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)iT[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=iT[e-15],r=iT[e-2],i=r7(t,7)^r7(t,18)^t>>>3,n=r7(r,17)^r7(r,19)^r>>>10;iT[e]=n+iT[e-7]+i+iT[e-16]|0}let{A:r,B:i,C:n,D:o,E:s,F:a,G:l,H:f}=this;for(let e=0;e<64;e++){var c,h,u,d;let t=f+(r7(s,6)^r7(s,11)^r7(s,25))+((c=s)&a^~c&l)+ij[e]+iT[e]|0,p=(r7(r,2)^r7(r,13)^r7(r,22))+((h=r)&(u=i)^h&(d=n)^u&d)|0;f=l,l=a,a=s,s=o+t|0,o=n,n=i,i=r,r=t+p|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(r,i,n,o,s,a,l,f)}roundClean(){r5(iT)}destroy(){this.set(0,0,0,0,0,0,0,0),r5(this.buffer)}}let iF=rF(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),i_=iF[0],iD=iF[1],iH=new Uint32Array(80),iM=new Uint32Array(80);class iq extends iR{constructor(e=64){super(128,e,16,!1),this.Ah=0|iL[0],this.Al=0|iL[1],this.Bh=0|iL[2],this.Bl=0|iL[3],this.Ch=0|iL[4],this.Cl=0|iL[5],this.Dh=0|iL[6],this.Dl=0|iL[7],this.Eh=0|iL[8],this.El=0|iL[9],this.Fh=0|iL[10],this.Fl=0|iL[11],this.Gh=0|iL[12],this.Gl=0|iL[13],this.Hh=0|iL[14],this.Hl=0|iL[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:o,Dh:s,Dl:a,Eh:l,El:f,Fh:c,Fl:h,Gh:u,Gl:d,Hh:p,Hl:g}=this;return[e,t,r,i,n,o,s,a,l,f,c,h,u,d,p,g]}set(e,t,r,i,n,o,s,a,l,f,c,h,u,d,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|l,this.El=0|f,this.Fh=0|c,this.Fl=0|h,this.Gh=0|u,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)iH[r]=e.getUint32(t),iM[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|iH[e-15],r=0|iM[e-15],i=rH(t,r,1)^rH(t,r,8)^r_(t,r,7),n=rM(t,r,1)^rM(t,r,8)^rD(t,r,7),o=0|iH[e-2],s=0|iM[e-2],a=rH(o,s,19)^rq(o,s,61)^r_(o,s,6),l=rY(n,rM(o,s,19)^rV(o,s,61)^rD(o,s,6),iM[e-7],iM[e-16]),f=rG(l,i,a,iH[e-7],iH[e-16]);iH[e]=0|f,iM[e]=0|l}let{Ah:r,Al:i,Bh:n,Bl:o,Ch:s,Cl:a,Dh:l,Dl:f,Eh:c,El:h,Fh:u,Fl:d,Gh:p,Gl:g,Hh:w,Hl:b}=this;for(let e=0;e<80;e++){let t=rH(c,h,14)^rH(c,h,18)^rq(c,h,41),y=rM(c,h,14)^rM(c,h,18)^rV(c,h,41),m=c&u^~c&p,v=rX(b,y,h&d^~h&g,iD[e],iM[e]),x=rJ(v,w,t,m,i_[e],iH[e]),E=0|v,B=rH(r,i,28)^rq(r,i,34)^rq(r,i,39),A=rM(r,i,28)^rV(r,i,34)^rV(r,i,39),S=r&n^r&s^n&s,I=i&o^i&a^o&a;w=0|p,b=0|g,p=0|u,g=0|d,u=0|c,d=0|h,({h:c,l:h}=rW(0|l,0|f,0|x,0|E)),l=0|s,f=0|a,s=0|n,a=0|o,n=0|r,o=0|i;let U=rK(E,A,I);r=rZ(U,x,B,S),i=0|U}({h:r,l:i}=rW(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:o}=rW(0|this.Bh,0|this.Bl,0|n,0|o)),({h:s,l:a}=rW(0|this.Ch,0|this.Cl,0|s,0|a)),({h:l,l:f}=rW(0|this.Dh,0|this.Dl,0|l,0|f)),({h:c,l:h}=rW(0|this.Eh,0|this.El,0|c,0|h)),({h:u,l:d}=rW(0|this.Fh,0|this.Fl,0|u,0|d)),({h:p,l:g}=rW(0|this.Gh,0|this.Gl,0|p,0|g)),({h:w,l:b}=rW(0|this.Hh,0|this.Hl,0|w,0|b)),this.set(r,i,n,o,s,a,l,f,c,h,u,d,p,g,w,b)}roundClean(){r5(iH,iM)}destroy(){r5(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class iV extends iq{constructor(){super(48),this.Ah=0|iz[0],this.Al=0|iz[1],this.Bh=0|iz[2],this.Bl=0|iz[3],this.Ch=0|iz[4],this.Cl=0|iz[5],this.Dh=0|iz[6],this.Dl=0|iz[7],this.Eh=0|iz[8],this.El=0|iz[9],this.Fh=0|iz[10],this.Fl=0|iz[11],this.Gh=0|iz[12],this.Gl=0|iz[13],this.Hh=0|iz[14],this.Hl=0|iz[15]}}let iW=Uint32Array.from([0x22312194,0xfc2bf72c,0x9f555fa3,0xc84c64c2,0x2393b86b,0x6f53b151,0x96387719,0x5940eabd,0x96283ee2,0xa88effe3,0xbe5e1e25,0x53863992,0x2b0199fc,0x2c85b8aa,0xeb72ddc,0x81c52ca2]);class iK extends iq{constructor(){super(32),this.Ah=0|iW[0],this.Al=0|iW[1],this.Bh=0|iW[2],this.Bl=0|iW[3],this.Ch=0|iW[4],this.Cl=0|iW[5],this.Dh=0|iW[6],this.Dl=0|iW[7],this.Eh=0|iW[8],this.El=0|iW[9],this.Fh=0|iW[10],this.Fl=0|iW[11],this.Gh=0|iW[12],this.Gl=0|iW[13],this.Hh=0|iW[14],this.Hl=0|iW[15]}}let iZ=ig(()=>new i$),iY=ig(()=>new iq),iG=ig(()=>new iV),iX=(ig(()=>new iK),Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9])),iJ=Uint32Array.from([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),iQ=new Uint32Array(32);function i0(e,t,r,i,n,o){let s=n[o],a=n[o+1],l=iQ[2*e],f=iQ[2*e+1],c=iQ[2*t],h=iQ[2*t+1],u=iQ[2*r],d=iQ[2*r+1],p=iQ[2*i],g=iQ[2*i+1],w=rK(l,c,s);f=rZ(w,f,h,a),l=0|w,({Dh:g,Dl:p}={Dh:g^f,Dl:p^l}),({Dh:g,Dl:p}={Dh:p,Dl:g}),({h:d,l:u}=rW(d,u,g,p)),({Bh:h,Bl:c}={Bh:h^d,Bl:c^u}),({Bh:h,Bl:c}={Bh:rH(h,c,24),Bl:rM(h,c,24)}),iQ[2*e]=l,iQ[2*e+1]=f,iQ[2*t]=c,iQ[2*t+1]=h,iQ[2*r]=u,iQ[2*r+1]=d,iQ[2*i]=p,iQ[2*i+1]=g}function i1(e,t,r,i,n,o){let s=n[o],a=n[o+1],l=iQ[2*e],f=iQ[2*e+1],c=iQ[2*t],h=iQ[2*t+1],u=iQ[2*r],d=iQ[2*r+1],p=iQ[2*i],g=iQ[2*i+1],w=rK(l,c,s);f=rZ(w,f,h,a),l=0|w,({Dh:g,Dl:p}={Dh:g^f,Dl:p^l}),({Dh:g,Dl:p}={Dh:rH(g,p,16),Dl:rM(g,p,16)}),({h:d,l:u}=rW(d,u,g,p)),({Bh:h,Bl:c}={Bh:h^d,Bl:c^u}),({Bh:h,Bl:c}={Bh:rq(h,c,63),Bl:rV(h,c,63)}),iQ[2*e]=l,iQ[2*e+1]=f,iQ[2*t]=c,iQ[2*t+1]=h,iQ[2*r]=u,iQ[2*r+1]=d,iQ[2*i]=p,iQ[2*i+1]=g}class i2 extends ip{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,r1(e),r1(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=r4(this.buffer)}update(e){r8(this),r2(e=iu(e));let{blockLen:t,buffer:r,buffer32:i}=this,n=e.length,o=e.byteOffset,s=e.buffer;for(let a=0;a<n;){this.pos===t&&(ii(i),this.compress(i,0,!1),ii(i),this.pos=0);let l=Math.min(t-this.pos,n-a),f=o+a;if(l===t&&!(f%4)&&a+l<n){let e=new Uint32Array(s,f,Math.floor((n-a)/4));ii(e);for(let r=0;a+t<n;r+=i.length,a+=t)this.length+=t,this.compress(e,r,!1);ii(e);continue}r.set(e.subarray(a,a+l),this.pos),this.pos+=l,this.length+=l,a+=l}return this}digestInto(e){r8(this),r6(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,r5(this.buffer.subarray(t)),ii(r),this.compress(r,0,!0),ii(r);let i=r4(e);this.get().forEach((e,t)=>i[t]=ir(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:i,destroyed:n,outputLen:o,pos:s}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(t),e.destroyed=n,e.finished=i,e.length=r,e.pos=s,e.outputLen=o,e}clone(){return this._cloneInto()}}class i3 extends i2{constructor(e={}){const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|iJ[0],this.v0h=0|iJ[1],this.v1l=0|iJ[2],this.v1h=0|iJ[3],this.v2l=0|iJ[4],this.v2h=0|iJ[5],this.v3l=0|iJ[6],this.v3h=0|iJ[7],this.v4l=0|iJ[8],this.v4h=0|iJ[9],this.v5l=0|iJ[10],this.v5h=0|iJ[11],this.v6l=0|iJ[12],this.v6h=0|iJ[13],this.v7l=0|iJ[14],this.v7h=0|iJ[15],function(e,t={},r,i,n){if(r1(64),e<0||e>64)throw Error("outputLen bigger than keyLen");let{key:o,salt:s,personalization:a}=t;if(void 0!==o&&(o.length<1||o.length>64))throw Error("key length must be undefined or 1..64");if(void 0!==s&&16!==s.length)throw Error("salt must be undefined or 16");if(void 0!==a&&16!==a.length)throw Error("personalization must be undefined or 16")}(t,e,0,0,0);let{key:r,personalization:i,salt:n}=e,o=0;if(void 0!==r&&(o=(r=iu(r)).length),this.v0l^=this.outputLen|o<<8|0x1010000,void 0!==n){const e=r4(n=iu(n));this.v4l^=ir(e[0]),this.v4h^=ir(e[1]),this.v5l^=ir(e[2]),this.v5h^=ir(e[3])}if(void 0!==i){const e=r4(i=iu(i));this.v6l^=ir(e[0]),this.v6h^=ir(e[1]),this.v7l^=ir(e[2]),this.v7h^=ir(e[3])}if(void 0!==r){const e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:i,v2l:n,v2h:o,v3l:s,v3h:a,v4l:l,v4h:f,v5l:c,v5h:h,v6l:u,v6h:d,v7l:p,v7h:g}=this;return[e,t,r,i,n,o,s,a,l,f,c,h,u,d,p,g]}set(e,t,r,i,n,o,s,a,l,f,c,h,u,d,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|i,this.v2l=0|n,this.v2h=0|o,this.v3l=0|s,this.v3h=0|a,this.v4l=0|l,this.v4h=0|f,this.v5l=0|c,this.v5h=0|h,this.v6l=0|u,this.v6h=0|d,this.v7l=0|p,this.v7h=0|g}compress(e,t,r){this.get().forEach((e,t)=>iQ[t]=e),iQ.set(iJ,16);let{h:i,l:n}=r$(BigInt(this.length));iQ[24]=iJ[8]^n,iQ[25]=iJ[9]^i,r&&(iQ[28]=~iQ[28],iQ[29]=~iQ[29]);let o=0;for(let r=0;r<12;r++)i0(0,4,8,12,e,t+2*iX[o++]),i1(0,4,8,12,e,t+2*iX[o++]),i0(1,5,9,13,e,t+2*iX[o++]),i1(1,5,9,13,e,t+2*iX[o++]),i0(2,6,10,14,e,t+2*iX[o++]),i1(2,6,10,14,e,t+2*iX[o++]),i0(3,7,11,15,e,t+2*iX[o++]),i1(3,7,11,15,e,t+2*iX[o++]),i0(0,5,10,15,e,t+2*iX[o++]),i1(0,5,10,15,e,t+2*iX[o++]),i0(1,6,11,12,e,t+2*iX[o++]),i1(1,6,11,12,e,t+2*iX[o++]),i0(2,7,8,13,e,t+2*iX[o++]),i1(2,7,8,13,e,t+2*iX[o++]),i0(3,4,9,14,e,t+2*iX[o++]),i1(3,4,9,14,e,t+2*iX[o++]);this.v0l^=iQ[0]^iQ[16],this.v0h^=iQ[1]^iQ[17],this.v1l^=iQ[2]^iQ[18],this.v1h^=iQ[3]^iQ[19],this.v2l^=iQ[4]^iQ[20],this.v2h^=iQ[5]^iQ[21],this.v3l^=iQ[6]^iQ[22],this.v3h^=iQ[7]^iQ[23],this.v4l^=iQ[8]^iQ[24],this.v4h^=iQ[9]^iQ[25],this.v5l^=iQ[10]^iQ[26],this.v5h^=iQ[11]^iQ[27],this.v6l^=iQ[12]^iQ[28],this.v6h^=iQ[13]^iQ[29],this.v7l^=iQ[14]^iQ[30],this.v7h^=iQ[15]^iQ[31],r5(iQ)}destroy(){this.destroyed=!0,r5(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}function i8(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i6(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function i4(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function i5(e,...t){if(!i8(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function i9(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function i7(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ne(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}u=e=>new i3(e),(i=(e,t)=>u(t).update(iu(e)).digest()).outputLen=(n=u({})).outputLen,i.blockLen=n.blockLen,i.create=e=>u(e),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let nt=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function nr(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(i8(e))e=no(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function ni(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function nn(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>n&o),a=Number(r&o),l=4*!!i,f=4*!i;e.setUint32(t+l,s,i),e.setUint32(t+f,a,i)}function no(e){return Uint8Array.from(e)}let ns=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),na=ns("expand 16-byte k"),nl=ns("expand 32-byte k"),nf=i7(na),nc=i7(nl);function nh(e,t){return e<<t|e>>>32-t}function nu(e){return e.byteOffset%4==0}let nd=0x100000000-1,np=new Uint32Array,ng=(e,t)=>255&e[t++]|(255&e[t++])<<8;class nw{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,i5(e=nr(e),32);const t=ng(e,0),r=ng(e,2),i=ng(e,4),n=ng(e,6),o=ng(e,8),s=ng(e,10),a=ng(e,12),l=ng(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|n<<9)&8191,this.r[4]=(n>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|s<<2)&8191,this.r[7]=(s>>>11|a<<5)&8065,this.r[8]=(a>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=ng(e,16+2*t)}process(e,t,r=!1){let{h:i,r:n}=this,o=n[0],s=n[1],a=n[2],l=n[3],f=n[4],c=n[5],h=n[6],u=n[7],d=n[8],p=n[9],g=ng(e,t+0),w=ng(e,t+2),b=ng(e,t+4),y=ng(e,t+6),m=ng(e,t+8),v=ng(e,t+10),x=ng(e,t+12),E=ng(e,t+14),B=i[0]+(8191&g),A=i[1]+((g>>>13|w<<3)&8191),S=i[2]+((w>>>10|b<<6)&8191),I=i[3]+((b>>>7|y<<9)&8191),U=i[4]+((y>>>4|m<<12)&8191),O=i[5]+(m>>>1&8191),C=i[6]+((m>>>14|v<<2)&8191),k=i[7]+((v>>>11|x<<5)&8191),P=i[8]+((x>>>8|E<<8)&8191),R=i[9]+(E>>>5|2048*!r),N=0,z=0+B*o+5*p*A+5*d*S+5*u*I+5*h*U;N=z>>>13,z&=8191,z+=5*c*O+5*f*C+5*l*k+5*a*P+5*s*R,N+=z>>>13,z&=8191;let L=N+B*s+A*o+5*p*S+5*d*I+5*u*U;N=L>>>13,L&=8191,L+=5*h*O+5*c*C+5*f*k+5*l*P+5*a*R,N+=L>>>13,L&=8191;let j=N+B*a+A*s+S*o+5*p*I+5*d*U;N=j>>>13,j&=8191,j+=5*u*O+5*h*C+5*c*k+5*f*P+5*l*R,N+=j>>>13,j&=8191;let T=N+B*l+A*a+S*s+I*o+5*p*U;N=T>>>13,T&=8191,T+=5*d*O+5*u*C+5*h*k+5*c*P+5*f*R,N+=T>>>13,T&=8191;let $=N+B*f+A*l+S*a+I*s+U*o;N=$>>>13,$&=8191,$+=5*p*O+5*d*C+5*u*k+5*h*P+5*c*R,N+=$>>>13,$&=8191;let F=N+B*c+A*f+S*l+I*a+U*s;N=F>>>13,F&=8191,F+=O*o+5*p*C+5*d*k+5*u*P+5*h*R,N+=F>>>13,F&=8191;let _=N+B*h+A*c+S*f+I*l+U*a;N=_>>>13,_&=8191,_+=O*s+C*o+5*p*k+5*d*P+5*u*R,N+=_>>>13,_&=8191;let D=N+B*u+A*h+S*c+I*f+U*l;N=D>>>13,D&=8191,D+=O*a+C*s+k*o+5*p*P+5*d*R,N+=D>>>13,D&=8191;let H=N+B*d+A*u+S*h+I*c+U*f;N=H>>>13,H&=8191,H+=O*l+C*a+k*s+P*o+5*p*R,N+=H>>>13,H&=8191;let M=N+B*p+A*d+S*u+I*h+U*c;N=M>>>13,M&=8191,M+=O*f+C*l+k*a+P*s+R*o,N+=M>>>13,M&=8191,z=8191&(N=(N=(N<<2)+N|0)+z|0),N>>>=13,L+=N,i[0]=z,i[1]=L,i[2]=j,i[3]=T,i[4]=$,i[5]=F,i[6]=_,i[7]=D,i[8]=H,i[9]=M}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=i,i=e[t]>>>13,e[t]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+i,i=r[t]>>>13,r[t]&=8191;r[9]-=8192;let n=(1^i)-1;for(let e=0;e<10;e++)r[e]&=n;n=~n;for(let t=0;t<10;t++)e[t]=e[t]&n|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=65535&o;for(let r=1;r<8;r++)o=(e[r]+t[r]|0)+(o>>>16)|0,e[r]=65535&o;ne(r)}update(e){i9(this),i5(e=nr(e));let{buffer:t,blockLen:r}=this,i=e.length;for(let n=0;n<i;){let o=Math.min(r-this.pos,i-n);if(o===r){for(;r<=i-n;n+=r)this.process(e,n);continue}t.set(e.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){ne(this.h,this.r,this.buffer,this.pad)}digestInto(e){i9(this),function(e,t){i5(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let n=0;for(let t=0;t<8;t++)e[n++]=r[t]>>>0,e[n++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let nb=(d=e=>new nw(e),(o=(e,t)=>d(t).update(nr(e)).digest()).outputLen=(s=d(new Uint8Array(32))).outputLen,o.blockLen=s.blockLen,o.create=e=>d(e),o),ny=function(e,t){let{allowShortKeys:r,extendNonceFn:i,counterLength:n,counterRight:o,rounds:s}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return i4(n),i4(s),i6(o),i6(r),(t,a,l,f,c=0)=>{i5(t),i5(a),i5(l);let h=l.length;if(void 0===f&&(f=new Uint8Array(h)),i5(f),i4(c),c<0||c>=nd)throw Error("arx: counter overflow");if(f.length<h)throw Error(`arx: output (${f.length}) is shorter than data (${h})`);let u=[],d=t.length,p,g;if(32===d)u.push(p=no(t)),g=nc;else if(16===d&&r)(p=new Uint8Array(32)).set(t),p.set(t,16),g=nf,u.push(p);else throw Error(`arx: invalid 32-byte key, got length=${d}`);nu(a)||u.push(a=no(a));let w=i7(p);if(i){if(24!==a.length)throw Error("arx: extended nonce must be 24 bytes");i(g,w,i7(a.subarray(0,16)),w),a=a.subarray(16)}let b=16-n;if(b!==a.length)throw Error(`arx: nonce must be ${b} or 16 bytes`);if(12!==b){let e=new Uint8Array(12);e.set(a,o?0:12-a.length),a=e,u.push(a)}return function(e,t,r,i,n,o,s,a){let l=n.length,f=new Uint8Array(64),c=i7(f),h=nu(n)&&nu(o),u=h?i7(n):np,d=h?i7(o):np;for(let p=0;p<l;s++){if(e(t,r,i,c,s,a),s>=nd)throw Error("arx: counter overflow");let g=Math.min(64,l-p);if(h&&64===g){let e=p/4;if(p%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)d[r=e+t]=u[r]^c[t];p+=64;continue}for(let e=0,t;e<g;e++)o[t=p+e]=n[t]^f[e];p+=g}}(e,g,w,i7(a),l,f,c,s),ne(...u),f}}(function(e,t,r,i,n,o=20){let s=e[0],a=e[1],l=e[2],f=e[3],c=t[0],h=t[1],u=t[2],d=t[3],p=t[4],g=t[5],w=t[6],b=t[7],y=r[0],m=r[1],v=r[2],x=s,E=a,B=l,A=f,S=c,I=h,U=u,O=d,C=p,k=g,P=w,R=b,N=n,z=y,L=m,j=v;for(let e=0;e<o;e+=2)C=C+(N=nh(N^(x=x+S|0),16))|0,x=x+(S=nh(S^C,12))|0,C=C+(N=nh(N^x,8))|0,S=nh(S^C,7),k=k+(z=nh(z^(E=E+I|0),16))|0,E=E+(I=nh(I^k,12))|0,k=k+(z=nh(z^E,8))|0,I=nh(I^k,7),P=P+(L=nh(L^(B=B+U|0),16))|0,B=B+(U=nh(U^P,12))|0,P=P+(L=nh(L^B,8))|0,U=nh(U^P,7),R=R+(j=nh(j^(A=A+O|0),16))|0,A=A+(O=nh(O^R,12))|0,R=R+(j=nh(j^A,8))|0,O=nh(O^R,7),P=P+(j=nh(j^(x=x+I|0),16))|0,x=x+(I=nh(I^P,12))|0,P=P+(j=nh(j^x,8))|0,I=nh(I^P,7),R=R+(N=nh(N^(E=E+U|0),16))|0,E=E+(U=nh(U^R,12))|0,R=R+(N=nh(N^E,8))|0,U=nh(U^R,7),C=C+(z=nh(z^(B=B+O|0),16))|0,B=B+(O=nh(O^C,12))|0,C=C+(z=nh(z^B,8))|0,O=nh(O^C,7),k=k+(L=nh(L^(A=A+S|0),16))|0,A=A+(S=nh(S^k,12))|0,k=k+(L=nh(L^A,8))|0,S=nh(S^k,7);let T=0;i[T++]=s+x|0,i[T++]=a+E|0,i[T++]=l+B|0,i[T++]=f+A|0,i[T++]=c+S|0,i[T++]=h+I|0,i[T++]=u+U|0,i[T++]=d+O|0,i[T++]=p+C|0,i[T++]=g+k|0,i[T++]=w+P|0,i[T++]=b+R|0,i[T++]=n+N|0,i[T++]=y+z|0,i[T++]=m+L|0,i[T++]=v+j|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),nm=new Uint8Array(16),nv=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(nm.subarray(r))},nx=new Uint8Array(32);function nE(e,t,r,i,n){var o,s;let a,l,f=e(t,r,nx),c=nb.create(f);n&&nv(c,n),nv(c,i);let h=(o=i.length,s=n?n.length:0,i6(!0),nn(l=new DataView((a=new Uint8Array(16)).buffer,a.byteOffset,a.byteLength),0,BigInt(s),!0),nn(l,8,BigInt(o),!0),a);c.update(h);let u=c.digest();return ne(f,h),u}l={blockSize:64,nonceLength:12,tagLength:16},f=(e,t,r)=>({encrypt(i,n){let o=i.length;(n=ni(o+16,n,!1)).set(i);let s=n.subarray(0,-16);ny(e,t,s,s,1);let a=nE(ny,e,t,s,r);return n.set(a,o),ne(a),n},decrypt(i,n){n=ni(i.length-16,n,!1);let o=i.subarray(0,-16),s=i.subarray(-16),a=nE(ny,e,t,o,r);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}(s,a))throw Error("invalid tag");return n.set(i.subarray(0,-16)),ny(e,t,n,n,1),ne(a),n}}),Object.assign(function(e,...t){if(i5(e),!nt)throw Error("Non little-endian hardware is not yet supported");if(void 0!==l.nonceLength){let e=t[0];if(!e)throw Error("nonce / iv required");l.varSizeNonce?i5(e):i5(e,l.nonceLength)}let r=l.tagLength;r&&void 0!==t[1]&&i5(t[1]);let i=f(e,...t),n=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");i5(t)}},o=!1;return{encrypt(e,t){if(o)throw Error("cannot encrypt() twice with same key + nonce");return o=!0,i5(e),n(i.encrypt.length,t),i.encrypt(e,t)},decrypt(e,t){if(i5(e),r&&e.length<r)throw Error("invalid ciphertext length: smaller than tagLength="+r);return n(i.decrypt.length,t),i.decrypt(e,t)}}},l);class nB extends ip{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,r3(e);const r=iu(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),r5(n)}update(e){return r8(this),this.iHash.update(e),this}digestInto(e){r8(this),r2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:o,outputLen:s}=this;return e.finished=i,e.destroyed=n,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let nA=(e,t,r)=>new nB(e,t).update(r).digest();nA.create=(e,t)=>new nB(e,t),Uint8Array.from([0]),Uint8Array.of();let nS=BigInt(0),nI=BigInt(1);function nU(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function nO(e,t,r=""){let i=r0(e),n=e?.length,o=void 0!==t;if(!i||o&&n!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(o?` of length ${t}`:"")+", got "+(i?`length=${n}`:`type=${typeof e}`));return e}function nC(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function nk(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?nS:BigInt("0x"+e)}function nP(e){return r2(e),nk(ia(Uint8Array.from(e).reverse()))}function nR(e,t){return ic(e.toString(16).padStart(2*t,"0"))}function nN(e,t){return nR(e,t).reverse()}function nz(e,t,r){let i;if("string"==typeof t)try{i=ic(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(r0(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let n=i.length;if("number"==typeof r&&n!==r)throw Error(e+" of length "+r+" expected, got "+n);return i}let nL=e=>"bigint"==typeof e&&nS<=e;function nj(e,t,r,i){if(!(nL(t)&&nL(r)&&nL(i))||!(r<=t)||!(t<i))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}function nT(e){let t;for(t=0;e>nS;e>>=nI,t+=1);return t}let n$=e=>(nI<<BigInt(e))-nI;function nF(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function i(t,r,i){let n=e[t];if(i&&void 0===n)return;let o=typeof n;if(o!==r||null===n)throw Error(`param "${t}" is invalid: expected ${r}, got ${o}`)}Object.entries(t).forEach(([e,t])=>i(e,t,!1)),Object.entries(r).forEach(([e,t])=>i(e,t,!0))}function n_(e){let t=new WeakMap;return(r,...i)=>{let n=t.get(r);if(void 0!==n)return n;let o=e(r,...i);return t.set(r,o),o}}let nD=BigInt(0),nH=BigInt(1),nM=BigInt(2),nq=BigInt(3),nV=BigInt(4),nW=BigInt(5),nK=BigInt(7),nZ=BigInt(8),nY=BigInt(9),nG=BigInt(16);function nX(e,t){let r=e%t;return r>=nD?r:t+r}function nJ(e,t,r){let i=e;for(;t-- >nD;)i*=i,i%=r;return i}function nQ(e,t){if(e===nD)throw Error("invert: expected non-zero number");if(t<=nD)throw Error("invert: expected positive modulus, got "+t);let r=nX(e,t),i=t,n=nD,o=nH;for(;r!==nD;){let e=i/r,t=i%r,s=n-o*e;i=r,r=t,n=o,o=s}if(i!==nH)throw Error("invert: does not exist");return nX(n,t)}function n0(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function n1(e,t){let r=(e.ORDER+nH)/nV,i=e.pow(t,r);return n0(e,i,t),i}function n2(e,t){let r=(e.ORDER-nW)/nZ,i=e.mul(t,nM),n=e.pow(i,r),o=e.mul(t,n),s=e.mul(e.mul(o,nM),n),a=e.mul(o,e.sub(s,e.ONE));return n0(e,a,t),a}function n3(e){if(e<nq)throw Error("sqrt is not defined for small field");let t=e-nH,r=0;for(;t%nM===nD;)t/=nM,r++;let i=nM,n=n9(e);for(;1===n4(n,i);)if(i++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return n1;let o=n.pow(i,t),s=(t+nH)/nM;return function(e,i){if(e.is0(i))return i;if(1!==n4(e,i))throw Error("Cannot find square root");let n=r,a=e.mul(e.ONE,o),l=e.pow(i,t),f=e.pow(i,s);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===n)throw Error("Cannot find square root");let i=nH<<BigInt(n-t-1),o=e.pow(a,i);n=t,a=e.sqr(o),l=e.mul(l,a),f=e.mul(f,o)}return f}}let n8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function n6(e,t,r=!1){let i=Array(t.length).fill(r?e.ZERO:void 0),n=t.reduce((t,r,n)=>e.is0(r)?t:(i[n]=t,e.mul(t,r)),e.ONE),o=e.inv(n);return t.reduceRight((t,r,n)=>e.is0(r)?t:(i[n]=e.mul(t,i[n]),e.mul(t,r)),o),i}function n4(e,t){let r=(e.ORDER-nH)/nM,i=e.pow(t,r),n=e.eql(i,e.ONE),o=e.eql(i,e.ZERO),s=e.eql(i,e.neg(e.ONE));if(!n&&!o&&!s)throw Error("invalid Legendre symbol result");return n?1:o?0:-1}function n5(e,t){void 0!==t&&r1(t);let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function n9(e,t,r=!1,i={}){let n;if(e<=nD)throw Error("invalid field: expected ORDER > 0, got "+e);let o,s,a=!1,l;if("object"==typeof t&&null!=t){if(i.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(o=t.BITS),t.sqrt&&(s=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(a=t.modFromBytes),l=t.allowedLengths}else"number"==typeof t&&(o=t),i.sqrt&&(s=i.sqrt);let{nBitLength:f,nByteLength:c}=n5(e,o);if(c>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:e,isLE:r,BITS:f,BYTES:c,MASK:n$(f),ZERO:nD,ONE:nH,allowedLengths:l,create:t=>nX(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return nD<=t&&t<e},is0:e=>e===nD,isValidNot0:e=>!h.is0(e)&&h.isValid(e),isOdd:e=>(e&nH)===nH,neg:t=>nX(-t,e),eql:(e,t)=>e===t,sqr:t=>nX(t*t,e),add:(t,r)=>nX(t+r,e),sub:(t,r)=>nX(t-r,e),mul:(t,r)=>nX(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<nD)throw Error("invalid exponent, negatives unsupported");if(r===nD)return e.ONE;if(r===nH)return t;let i=e.ONE,n=t;for(;r>nD;)r&nH&&(i=e.mul(i,n)),n=e.sqr(n),r>>=nH;return i})(h,e,t),div:(t,r)=>nX(t*nQ(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>nQ(t,e),sqrt:s||(t=>{let r,i,o,s,a,l;return n||(n=e%nV===nq?n1:e%nZ===nW?n2:e%nG===nY?(r=n9(e),o=(i=n3(e))(r,r.neg(r.ONE)),s=i(r,o),a=i(r,r.neg(o)),l=(e+nK)/nG,(e,t)=>{let r=e.pow(t,l),i=e.mul(r,o),n=e.mul(r,s),f=e.mul(r,a),c=e.eql(e.sqr(i),t),h=e.eql(e.sqr(n),t);r=e.cmov(r,i,c),i=e.cmov(f,n,h);let u=e.eql(e.sqr(i),t),d=e.cmov(r,i,u);return n0(e,d,t),d}):n3(e)),n(h,t)}),toBytes:e=>r?nN(e,c):nR(e,c),fromBytes:(t,i=!0)=>{if(l){if(!l.includes(t.length)||t.length>c)throw Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let e=new Uint8Array(c);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==c)throw Error("Field.fromBytes: expected "+c+" bytes, got "+t.length);let n=r?nP(t):nk(ia(t));if(a&&(n=nX(n,e)),!i&&!h.isValid(n))throw Error("invalid field element: outside of range 0..ORDER");return n},invertBatch:e=>n6(h,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(h)}function n7(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function oe(e){let t=n7(e);return t+Math.ceil(t/2)}let ot=BigInt(0),or=BigInt(1);function oi(e,t){let r=t.negate();return e?r:t}function on(e,t){let r=n6(e.Fp,t.map(e=>e.Z));return t.map((t,i)=>e.fromAffine(t.toAffine(r[i])))}function oo(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function os(e,t){oo(e,t);let r=Math.ceil(t/e)+1,i=2**(e-1),n=2**e;return{windows:r,windowSize:i,mask:n$(e),maxNumber:n,shiftBy:BigInt(e)}}function oa(e,t,r){let{windowSize:i,mask:n,maxNumber:o,shiftBy:s}=r,a=Number(e&n),l=e>>s;a>i&&(a-=o,l+=or);let f=t*i;return{nextN:l,offset:f+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:f}}let ol=new WeakMap,of=new WeakMap;function oc(e){return of.get(e)||1}function oh(e){if(e!==ot)throw Error("invalid wNAF")}class ou{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>ot;)t&or&&(r=r.add(i)),i=i.double(),t>>=or;return r}precomputeWindow(e,t){let{windows:r,windowSize:i}=os(t,this.bits),n=[],o=e,s=o;for(let e=0;e<r;e++){s=o,n.push(s);for(let e=1;e<i;e++)s=s.add(o),n.push(s);o=s.double()}return n}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let i=this.ZERO,n=this.BASE,o=os(e,this.bits);for(let e=0;e<o.windows;e++){let{nextN:s,offset:a,isZero:l,isNeg:f,isNegF:c,offsetF:h}=oa(r,e,o);r=s,l?n=n.add(oi(c,t[h])):i=i.add(oi(f,t[a]))}return oh(r),{p:i,f:n}}wNAFUnsafe(e,t,r,i=this.ZERO){let n=os(e,this.bits);for(let e=0;e<n.windows&&r!==ot;e++){let{nextN:o,offset:s,isZero:a,isNeg:l}=oa(r,e,n);if(r=o,!a){let e=t[s];i=i.add(l?e.negate():e)}}return oh(r),i}getPrecomputes(e,t,r){let i=ol.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(i=r(i)),ol.set(t,i))),i}cached(e,t,r){let i=oc(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){let n=oc(e);return 1===n?this._unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)}createCache(e,t){oo(t,this.bits),of.set(e,t),ol.delete(e)}hasCache(e){return 1!==oc(e)}}function od(e,t,r){if(!t)return n9(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return nF(t,n8.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}BigInt(0),BigInt(1),BigInt(2),BigInt(8),ih("HashToScalar-");let op=BigInt(0),og=BigInt(1),ow=BigInt(2),ob=BigInt(1),oy=BigInt(2),om=BigInt(3),ov=BigInt(5),ox=BigInt(8),oE=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),oB={p:oE,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:ox,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},oA=(function(e){let{P:t,type:r,adjustScalarBytes:i,powPminus2:n,randomBytes:o}=(nF(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),s="x25519"===r;if(!s&&"x448"!==r)throw Error("invalid type");let a=s?32:56,l=BigInt(s?9:5),f=BigInt(s?121665:39081),c=s?ow**BigInt(254):ow**BigInt(447),h=c+(s?BigInt(8)*ow**BigInt(251)-og:BigInt(4)*ow**BigInt(445)-og)+og,u=e=>nX(e,t),d=nN(u(l),a);d.slice()}({P:a=n9(oB.p,{isLE:!0}).ORDER,type:"x25519",powPminus2:e=>{let t,r,i,n,o,s,l,f,c,h,u,d,p,g,{pow_p_5_8:w,b2:b}=(t=BigInt(10),r=BigInt(20),i=BigInt(40),n=BigInt(80),s=nJ(o=e*e%oE*e%oE,oy,oE)*o%oE,l=nJ(s,ob,oE)*e%oE,f=nJ(l,ov,oE)*l%oE,c=nJ(f,t,oE)*f%oE,h=nJ(c,r,oE)*c%oE,u=nJ(h,i,oE)*h%oE,d=nJ(u,n,oE)*u%oE,p=nJ(d,n,oE)*u%oE,g=nJ(p,t,oE)*f%oE,{pow_p_5_8:nJ(g,oy,oE)*e%oE,b2:o});return nX(nJ(w,om,a)*b,a)},adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}}),(e,t)=>(e+(e>=0?t:-t)/ok)/t);function oS(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function oI(e,t){let r={};for(let i of Object.keys(t))r[i]=void 0===e[i]?t[i]:e[i];return nU(r.lowS,"lowS"),nU(r.prehash,"prehash"),void 0!==r.format&&oS(r.format),r}let oU={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=oU;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let i=t.length/2,n=nC(i);if(n.length/2&128)throw new r("tlv.encode: long form length too big");let o=i>127?nC(n.length/2|128):"";return nC(e)+o+n+t},decode(e,t){let{Err:r}=oU,i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[i++]!==e)throw new r("tlv.decode: wrong tlv");let n=t[i++],o=0;if(128&n){let e=127&n;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(i,i+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(i+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=n;let s=t.subarray(i,i+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(i+o)}}},_int:{encode(e){let{Err:t}=oU;if(e<oO)throw new t("integer: negative integers are not allowed");let r=nC(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=oU;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return nk(ia(e))}},toSig(e){let{Err:t,_int:r,_tlv:i}=oU,n=nz("signature",e),{v:o,l:s}=i.decode(48,n);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:l}=i.decode(2,o),{v:f,l:c}=i.decode(2,l);if(c.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(f)}},hexFromSig(e){let{_tlv:t,_int:r}=oU,i=t.encode(2,r.encode(e.r)),n=t.encode(2,r.encode(e.s));return t.encode(48,i+n)}},oO=BigInt(0),oC=BigInt(1),ok=BigInt(2),oP=BigInt(3),oR=BigInt(4);function oN(e,t){let r,{BYTES:i}=e;if("bigint"==typeof t)r=t;else{let n=nz("private key",t);try{r=e.fromBytes(n)}catch{throw Error(`invalid private key: expected ui8a of size ${i}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw Error("invalid private key: out of range [1..N-1]");return r}function oz(e){return Uint8Array.of(e?2:3)}function oL(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function oj(e,t){let r=t=>(function(e){let t,{CURVE:r,curveOpts:i,hash:n,ecdsaOpts:o}=function(e){let t,r,i,n,{CURVE:o,curveOpts:s}=(t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,i=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,n={Fp:r,Fn:n9(t.n,{BITS:e.nBitLength,allowedLengths:i,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes},{CURVE:t,curveOpts:n}),a={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:o,curveOpts:s,hash:e.hash,ecdsaOpts:a}}(e),s=function(e,t,r={}){r3(t),nF(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let i=r.randomBytes||iw,n=r.hmac||((e,...r)=>nA(t,e,id(...r))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:l}=s,{keygen:f,getPublicKey:c,getSharedSecret:h,utils:u,lengths:d}=function(e,t={}){let{Fn:r}=e,i=t.randomBytes||iw,n=Object.assign(oL(e.Fp,r),{seed:oe(r.ORDER)});function o(e){try{return!!oN(r,e)}catch{return!1}}function s(e=i(n.seed)){return function(e,t,r=!1){let i=e.length,n=n7(t),o=oe(t);if(i<16||i<o||i>1024)throw Error("expected "+o+"-1024 bytes of input, got "+i);let s=nX(r?nP(e):nk(ia(e)),t-nH)+nH;return r?nN(s,n):nR(s,n)}(nO(e,n.seed,"seed"),r.ORDER)}function a(t,i=!0){return e.BASE.multiply(oN(r,t)).toBytes(i)}function l(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let{secretKey:i,publicKey:o,publicKeyUncompressed:s}=n;if(r.allowedLengths||i===o)return;let a=nz("key",t).length;return a===o||a===s}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,i,n=!0){if(!0===l(t))throw Error("first arg must be private key");if(!1===l(i))throw Error("second arg must be public key");let o=oN(r,t);return e.fromHex(i).multiply(o).toBytes(n)},keygen:function(e){let t=s(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:o,isValidPublicKey:function(t,r){let{publicKey:i,publicKeyUncompressed:o}=n;try{let n=t.length;return(!0!==r||n===i)&&(!1!==r||n===o)&&!!e.fromBytes(t)}catch{return!1}},randomSecretKey:s,isValidPrivateKey:o,randomPrivateKey:s,normPrivateKeyToScalar:e=>oN(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:n})}(e,r),p={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},g="compact";function w(e,t){if(!s.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class b{constructor(e,t,r){this.r=w("r",e),this.s=w("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=g){var r,i;let n,o;if(r=e,oS(i=t),o=d.signature,nO(r,"compact"===i?o:"recovered"===i?o+1:void 0,`${i} signature`),"der"===t){let{r:t,s:r}=oU.toSig(nO(e));return new b(t,r)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));let a=s.BYTES,l=e.subarray(0,a),f=e.subarray(a,2*a);return new b(s.fromBytes(l),s.fromBytes(f),n)}static fromHex(e,t){return this.fromBytes(ic(e),t)}addRecoveryBit(e){return new b(this.r,this.s,e)}recoverPublicKey(t){let r=o.ORDER,{r:i,s:n,recovery:l}=this;if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");if(a*ok<r&&l>1)throw Error("recovery id is ambiguous for h>1 curve");let f=2===l||3===l?i+a:i;if(!o.isValid(f))throw Error("recovery id 2 or 3 invalid");let c=o.toBytes(f),h=e.fromBytes(id(oz((1&l)==0),c)),u=s.inv(f),d=m(nz("msgHash",t)),p=s.create(-d*u),g=s.create(n*u),w=e.BASE.multiplyUnsafe(p).add(h.multiplyUnsafe(g));if(w.is0())throw Error("point at infinify");return w.assertValidity(),w}hasHighS(){return this.s>a>>oC}toBytes(e=g){if(oS(e),"der"===e)return ic(oU.hexFromSig(this));let t=s.toBytes(this.r),r=s.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw Error("recovery bit must be present");return id(Uint8Array.of(this.recovery),t,r)}return id(t,r)}toHex(e){return ia(this.toBytes(e))}assertValidity(){}static fromCompact(e){return b.fromBytes(nz("sig",e),"compact")}static fromDER(e){return b.fromBytes(nz("sig",e),"der")}normalizeS(){return this.hasHighS()?new b(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ia(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ia(this.toBytes("compact"))}}let y=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=nk(ia(e)),r=8*e.length-l;return r>0?t>>BigInt(r):t},m=r.bits2int_modN||function(e){return s.create(y(e))},v=n$(l);function x(e){return nj("num < 2^"+l,e,oO,v),s.toBytes(e)}function E(e,r){return nO(e,void 0,"message"),r?nO(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:f,getPublicKey:c,getSharedSecret:h,utils:u,lengths:d,Point:e,sign:function(r,o,l={}){let{seed:f,k2sig:c}=function(t,r,n){if(["recovered","canonical"].some(e=>e in n))throw Error("sign() legacy options not supported");let{lowS:o,prehash:l,extraEntropy:f}=oI(n,p),c=m(t=E(t,l)),h=oN(s,r),u=[x(h),x(c)];if(null!=f&&!1!==f){let e=!0===f?i(d.secretKey):f;u.push(nz("extraEntropy",e))}return{seed:id(...u),k2sig:function(t){let r=y(t);if(!s.isValidNot0(r))return;let i=s.inv(r),n=e.BASE.multiply(r).toAffine(),l=s.create(n.x);if(l===oO)return;let f=s.create(i*s.create(c+l*h));if(f===oO)return;let u=2*(n.x!==l)|Number(n.y&oC),d=f;return o&&f>a>>oC&&(d=s.neg(f),u^=1),new b(l,d,u)}}}(r=nz("message",r),o,l);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let i=e=>new Uint8Array(e),n=i(e),o=i(e),s=0,a=()=>{n.fill(1),o.fill(0),s=0},l=(...e)=>r(o,n,...e),f=(e=i(0))=>{o=l(Uint8Array.of(0),e),n=l(),0!==e.length&&(o=l(Uint8Array.of(1),e),n=l())},c=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=l()).slice();r.push(t),e+=n.length}return id(...r)};return(e,t)=>{let r;for(a(),f(e);!(r=t(c()));)f();return a(),r}})(t.outputLen,s.BYTES,n)(f,c)},verify:function(t,r,i,n={}){let{lowS:o,prehash:a,format:l}=oI(n,p);if(i=nz("publicKey",i),r=E(nz("message",r),a),"strict"in n)throw Error("options.strict was renamed to lowS");let f=void 0===l?function(e){let t,r="string"==typeof e||r0(e),i=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!i)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(i)t=new b(e.r,e.s);else if(r){try{t=b.fromBytes(nz("sig",e),"der")}catch(e){if(!(e instanceof oU.Err))throw e}if(!t)try{t=b.fromBytes(nz("sig",e),"compact")}catch{return!1}}return t||!1}(t):b.fromBytes(nz("sig",t),l);if(!1===f)return!1;try{let t=e.fromBytes(i);if(o&&f.hasHighS())return!1;let{r:n,s:a}=f,l=m(r),c=s.inv(a),h=s.create(l*c),u=s.create(n*c),d=e.BASE.multiplyUnsafe(h).add(t.multiplyUnsafe(u));return!d.is0()&&s.create(d.x)===n}catch{return!1}},recoverPublicKey:function(e,t,r={}){let{prehash:i}=oI(r,p);return t=E(t,i),b.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:b,hash:t})}(function(e,t={}){let r=function(e,t,r={},i){if(void 0===i&&(i="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>ot))throw Error(`CURVE.${e} must be positive bigint`)}let n=od(t.p,r.Fp,i),o=od(t.n,r.Fn,i);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:n,Fn:o}}("weierstrass",e,t),{Fp:i,Fn:n}=r,o=r.CURVE,{h:s,n:a}=o;nF(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=t;if(l&&(!i.is0(o.a)||"bigint"!=typeof l.beta||!Array.isArray(l.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let f=oL(i,n);function c(){if(!i.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let h=t.toBytes||function(e,t,r){let{x:n,y:o}=t.toAffine(),s=i.toBytes(n);return(nU(r,"isCompressed"),r)?(c(),id(oz(!i.isOdd(o)),s)):id(Uint8Array.of(4),s,i.toBytes(o))},u=t.fromBytes||function(e){nO(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=f,n=e.length,o=e[0],s=e.subarray(1);if(n===t&&(2===o||3===o)){let e,t=i.fromBytes(s);if(!i.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=d(t);try{e=i.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return c(),(1&o)==1!==i.isOdd(e)&&(e=i.neg(e)),{x:t,y:e}}if(n===r&&4===o){let e=i.BYTES,t=i.fromBytes(s.subarray(0,e)),r=i.fromBytes(s.subarray(e,2*e));if(!p(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${n}, expected compressed=${t} or uncompressed=${r}`)};function d(e){let t=i.sqr(e),r=i.mul(t,e);return i.add(i.add(r,i.mul(e,o.a)),o.b)}function p(e,t){let r=i.sqr(t),n=d(e);return i.eql(r,n)}if(!p(o.Gx,o.Gy))throw Error("bad curve params: generator point");let g=i.mul(i.pow(o.a,oP),oR),w=i.mul(i.sqr(o.b),BigInt(27));if(i.is0(i.add(g,w)))throw Error("bad curve params: a or b");function b(e,t,r=!1){if(!i.isValid(t)||r&&i.is0(t))throw Error(`bad point coordinate ${e}`);return t}function y(e){if(!(e instanceof B))throw Error("ProjectivePoint expected")}function m(e){if(!l||!l.basises)throw Error("no endo");return function(e,t,r){let[[i,n],[o,s]]=t,a=oA(s*e,r),l=oA(-n*e,r),f=e-a*i-l*o,c=-a*n-l*s,h=f<oO,u=c<oO;h&&(f=-f),u&&(c=-c);let d=n$(Math.ceil(nT(r)/2))+oC;if(f<oO||f>=d||c<oO||c>=d)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:h,k1:f,k2neg:u,k2:c}}(e,l.basises,n.ORDER)}let v=n_((e,t)=>{let{X:r,Y:n,Z:o}=e;if(i.eql(o,i.ONE))return{x:r,y:n};let s=e.is0();null==t&&(t=s?i.ONE:i.inv(o));let a=i.mul(r,t),l=i.mul(n,t),f=i.mul(o,t);if(s)return{x:i.ZERO,y:i.ZERO};if(!i.eql(f,i.ONE))throw Error("invZ was invalid");return{x:a,y:l}}),x=n_(e=>{if(e.is0()){if(t.allowInfinityPoint&&!i.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:n}=e.toAffine();if(!i.isValid(r)||!i.isValid(n))throw Error("bad point: x or y not field elements");if(!p(r,n))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function E(e,t,r,n,o){return r=new B(i.mul(r.X,e),r.Y,r.Z),t=oi(n,t),r=oi(o,r),t.add(r)}class B{constructor(e,t,r){this.X=b("x",e),this.Y=b("y",t,!0),this.Z=b("z",r),Object.freeze(this)}static CURVE(){return o}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!i.isValid(t)||!i.isValid(r))throw Error("invalid affine point");if(e instanceof B)throw Error("projective point not allowed");return i.is0(t)&&i.is0(r)?B.ZERO:new B(t,r,i.ONE)}static fromBytes(e){let t=B.fromAffine(u(nO(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return B.fromBytes(nz("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return S.createCache(this,e),t||this.multiply(oP),this}assertValidity(){x(this)}hasEvenY(){let{y:e}=this.toAffine();if(!i.isOdd)throw Error("Field doesn't support isOdd");return!i.isOdd(e)}equals(e){y(e);let{X:t,Y:r,Z:n}=this,{X:o,Y:s,Z:a}=e,l=i.eql(i.mul(t,a),i.mul(o,n)),f=i.eql(i.mul(r,a),i.mul(s,n));return l&&f}negate(){return new B(this.X,i.neg(this.Y),this.Z)}double(){let{a:e,b:t}=o,r=i.mul(t,oP),{X:n,Y:s,Z:a}=this,l=i.ZERO,f=i.ZERO,c=i.ZERO,h=i.mul(n,n),u=i.mul(s,s),d=i.mul(a,a),p=i.mul(n,s);return p=i.add(p,p),c=i.mul(n,a),c=i.add(c,c),l=i.mul(e,c),f=i.mul(r,d),f=i.add(l,f),l=i.sub(u,f),f=i.add(u,f),f=i.mul(l,f),l=i.mul(p,l),c=i.mul(r,c),d=i.mul(e,d),p=i.sub(h,d),p=i.mul(e,p),p=i.add(p,c),c=i.add(h,h),h=i.add(c,h),h=i.add(h,d),h=i.mul(h,p),f=i.add(f,h),d=i.mul(s,a),d=i.add(d,d),h=i.mul(d,p),l=i.sub(l,h),c=i.mul(d,u),c=i.add(c,c),new B(l,f,c=i.add(c,c))}add(e){y(e);let{X:t,Y:r,Z:n}=this,{X:s,Y:a,Z:l}=e,f=i.ZERO,c=i.ZERO,h=i.ZERO,u=o.a,d=i.mul(o.b,oP),p=i.mul(t,s),g=i.mul(r,a),w=i.mul(n,l),b=i.add(t,r),m=i.add(s,a);b=i.mul(b,m),m=i.add(p,g),b=i.sub(b,m),m=i.add(t,n);let v=i.add(s,l);return m=i.mul(m,v),v=i.add(p,w),m=i.sub(m,v),v=i.add(r,n),f=i.add(a,l),v=i.mul(v,f),f=i.add(g,w),v=i.sub(v,f),h=i.mul(u,m),f=i.mul(d,w),h=i.add(f,h),f=i.sub(g,h),h=i.add(g,h),c=i.mul(f,h),g=i.add(p,p),g=i.add(g,p),w=i.mul(u,w),m=i.mul(d,m),g=i.add(g,w),w=i.sub(p,w),w=i.mul(u,w),m=i.add(m,w),p=i.mul(g,m),c=i.add(c,p),p=i.mul(v,m),f=i.mul(b,f),f=i.sub(f,p),p=i.mul(b,g),h=i.mul(v,h),new B(f,c,h=i.add(h,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(B.ZERO)}multiply(e){let r,i,{endo:o}=t;if(!n.isValidNot0(e))throw Error("invalid scalar: out of range");let s=e=>S.cached(this,e,e=>on(B,e));if(o){let{k1neg:t,k1:n,k2neg:a,k2:l}=m(e),{p:f,f:c}=s(n),{p:h,f:u}=s(l);i=c.add(u),r=E(o.beta,f,h,t,a)}else{let{p:t,f:n}=s(e);r=t,i=n}return on(B,[r,i])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!n.isValid(e))throw Error("invalid scalar: out of range");if(e===oO||this.is0())return B.ZERO;if(e===oC)return this;if(S.hasCache(this))return this.multiply(e);if(!r)return S.unsafe(this,e);{let{k1neg:t,k1:i,k2neg:n,k2:o}=m(e),{p1:s,p2:a}=function(e,t,r,i){let n=t,o=e.ZERO,s=e.ZERO;for(;r>ot||i>ot;)r&or&&(o=o.add(n)),i&or&&(s=s.add(n)),n=n.double(),r>>=or,i>>=or;return{p1:o,p2:s}}(B,this,i,o);return E(r.beta,s,a,t,n)}}multiplyAndAddUnsafe(e,t,r){let i=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return i.is0()?void 0:i}toAffine(e){return v(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return s===oC||(e?e(B,this):S.unsafe(this,a).is0())}clearCofactor(){let{clearCofactor:e}=t;return s===oC?this:e?e(B,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(e=!0){return nU(e,"isCompressed"),this.assertValidity(),h(B,this,e)}toHex(e=!0){return ia(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return on(B,e)}static msm(e,t){return function(e,t,r,i){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(i,t);let n=r.length,o=i.length;if(n!==o)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,a=nT(BigInt(n)),l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);let f=n$(l),c=Array(Number(f)+1).fill(s),h=Math.floor((t.BITS-1)/l)*l,u=s;for(let e=h;e>=0;e-=l){c.fill(s);for(let t=0;t<o;t++){let n=Number(i[t]>>BigInt(e)&f);c[n]=c[n].add(r[t])}let t=s;for(let e=c.length-1,r=s;e>0;e--)r=r.add(c[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<l;e++)u=u.double()}return u}(B,n,e,t)}static fromPrivateKey(e){return B.BASE.multiply(oN(n,e))}}B.BASE=new B(o.Gx,o.Gy,i.ONE),B.ZERO=new B(i.ZERO,i.ONE,i.ZERO),B.Fp=i,B.Fn=n;let A=n.BITS,S=new ou(B,t.endo?Math.ceil(A/2):A);return B.BASE.precompute(8),B}(r,i),n,o);return t=s.Point,Object.assign({},s,{ProjectivePoint:t,CURVE:Object.assign({},e,n5(t.Fn.ORDER,t.Fn.BITS))})})({...e,hash:t});return{...r(t),create:r}}let oT={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},o$={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},oF={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},o_=n9(oT.p),oD=n9(o$.p),oH=n9(oF.p);oj({...oT,Fp:o_,lowS:!1},iZ),oj({...o$,Fp:oD,lowS:!1},iG),oj({...oF,Fp:oH,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},iY),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,e.i(636855),e.i(646647),e.i(496084),e.i(284929),e.i(374696),b.ONE_DAY,b.SIX_HOURS,b.THIRTY_DAYS,b.FIVE_SECONDS,b.THIRTY_DAYS,b.ONE_DAY,b.ONE_DAY,b.THIRTY_SECONDS,b.THIRTY_SECONDS,b.ONE_DAY,b.ONE_DAY,b.ONE_DAY;var oM=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=n}var a=e.length,l=e.charAt(0),f=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,n=0;e[t]===l;)i++,t++;for(var o=(e.length-t)*f+1>>>0,s=new Uint8Array(o);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var h=0,u=o-1;(0!==c||h<n)&&-1!==u;u--,h++)c+=a*s[u]>>>0,s[u]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var d=o-n;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(i+(o-d)),g=i;d!==o;)p[g++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*c+1>>>0,f=new Uint8Array(s);n!==o;){for(var h=t[n],u=0,d=s-1;(0!==h||u<i)&&-1!==d;d--,u++)h+=256*f[d]>>>0,f[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");i=u,n++}for(var p=s-i;p!==s&&0===f[p];)p++;for(var g=l.repeat(r);p<s;++p)g+=e.charAt(f[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};let oq=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class oV{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class oW{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return oZ(this,e)}}class oK{constructor(e){this.decoders=e}or(e){return oZ(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let oZ=(e,t)=>new oK({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class oY{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new oV(e,t,r),this.decoder=new oW(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let oG=({name:e,prefix:t,encode:r,decode:i})=>new oY(e,t,r,i),oX=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:n}=oM(r,t);return oG({prefix:e,name:t,encode:i,decode:e=>oq(n(e))})},oJ=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>oG({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],n=(1<<r)-1,o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{let n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,l=0,f=0;for(let t=0;t<o;++t){let o=n[e[t]];if(void 0===o)throw SyntaxError(`Non-${i} character`);l=l<<r|o,(a+=r)>=8&&(a-=8,s[f++]=255&l>>a)}if(a>=r||255&l<<8-a)throw SyntaxError("Unexpected end of data");return s})(t,i,r,e)});var oQ=Object.freeze({__proto__:null,identity:oG({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),o0=Object.freeze({__proto__:null,base2:oJ({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),o1=Object.freeze({__proto__:null,base8:oJ({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),o2=Object.freeze({__proto__:null,base10:oX({prefix:"9",name:"base10",alphabet:"0123456789"})}),o3=Object.freeze({__proto__:null,base16:oJ({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:oJ({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),o8=Object.freeze({__proto__:null,base32:oJ({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper:oJ({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad:oJ({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper:oJ({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex:oJ({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper:oJ({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad:oJ({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:oJ({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:oJ({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),o6=Object.freeze({__proto__:null,base36:oX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:oX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),o4=Object.freeze({__proto__:null,base58btc:oX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:oX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),o5=Object.freeze({__proto__:null,base64:oJ({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad:oJ({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:oJ({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:oJ({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let o9=Array.from(""),o7=o9.reduce((e,t,r)=>(e[r]=t,e),[]),se=o9.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var st=Object.freeze({__proto__:null,base256emoji:oG({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=o7[t],"")},decode:function(e){let t=[];for(let r of e){let e=se[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function sr(e,t,r){t=t||[],r=r||0;for(var i=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,sr.bytes=r-i+1,t}var si=function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10};let sn=(e,t,r=0)=>(sr(e,t,r),t),so=(e,t)=>{let r=t.byteLength,i=si(e),n=i+si(r),o=new Uint8Array(n+r);return sn(e,o,0),sn(r,o,i),o.set(t,n),new ss(e,r,t,o)};class ss{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let sa=({name:e,code:t,encode:r})=>new sl(e,t,r);class sl{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?so(this.code,t):t.then(e=>so(this.code,e))}throw Error("Unknown type, must be binary type")}}let sf=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var sc=Object.freeze({__proto__:null,sha256:sa({name:"sha2-256",code:18,encode:sf("SHA-256")}),sha512:sa({name:"sha2-512",code:19,encode:sf("SHA-512")})}),sh=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:oq,digest:e=>so(0,oq(e))}});new TextEncoder,new TextDecoder;let su={...oQ,...o0,...o1,...o2,...o3,...o8,...o6,...o4,...o5,...st};function sd(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...sc,...sh}),sd("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),sd("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){var t;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(t=globalThis.Buffer.allocUnsafe(e),null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),su.base16,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,b.THIRTY_DAYS,b.SEVEN_DAYS,b.FIVE_MINUTES,b.FIVE_MINUTES,b.FIVE_MINUTES,b.FIVE_MINUTES,b.FIVE_MINUTES,b.FIVE_MINUTES,b.ONE_DAY,b.ONE_DAY,b.ONE_DAY,b.ONE_DAY,b.FIVE_MINUTES,b.FIVE_MINUTES,b.FIVE_MINUTES,b.FIVE_MINUTES,b.ONE_DAY,b.ONE_DAY,b.ONE_DAY,b.ONE_DAY,b.ONE_HOUR,b.ONE_HOUR,b.FIVE_MINUTES,b.FIVE_MINUTES,b.FIVE_MINUTES,b.SEVEN_DAYS,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,e.i(411247),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,e.s([],995217);var sp=e.i(150169),sg=e.i(972487),sw=e.i(45471),sb=e.i(729289),sy=e.i(804499),sm=e.i(374182),sv=e.i(914139),sx=e.i(455137),sE=e.i(380970),sB=e.i(904670),sA=e.i(234696),sS=e.i(843175),sI=e.i(232674);let sU=null,sO={getSIWX:()=>sE.OptionsController.state.siwx,async initializeIfEnabled(e=sb.ChainController.getActiveCaipAddress()){let t=sE.OptionsController.state.siwx;if(!(t&&e))return;let[r,i,n]=e.split(":");if(sb.ChainController.checkIfSupportedNetwork(r,`${r}:${i}`))try{if(sE.OptionsController.state.remoteFeatures?.emailCapture){let e=sb.ChainController.getAccountData(r)?.user;await sx.ModalController.open({view:"DataCapture",data:{email:e?.email??void 0}});return}if(sU&&await sU,(await t.getSessions(`${r}:${i}`,n)).length)return;await sx.ModalController.open({view:"SIWXSignMessage"})}catch(e){console.error("SIWXUtil:initializeIfEnabled",e),sv.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(e)}),await sy.ConnectionController._getClient()?.disconnect().catch(console.error),sB.RouterController.reset("Connect"),sA.SnackController.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(e=sb.ChainController.getActiveCaipAddress()){if(!sE.OptionsController.state.siwx||!e)return!0;let{chainNamespace:t,chainId:r,address:i}=sg.ParseUtil.parseCaipAddress(e),n=`${t}:${r}`;return(await sO.getSessions({address:i,caipNetworkId:n})).length>0},async requestSignMessage(){let e=sE.OptionsController.state.siwx,t=sI.CoreHelperUtil.getPlainAddress(sb.ChainController.getActiveCaipAddress()),r=(0,sS.getActiveCaipNetwork)();if(!e)throw Error("SIWX is not enabled");if(!t)throw Error("No ActiveCaipAddress found");if(!r)throw Error("No ActiveCaipNetwork or client found");try{let i=await e.createMessage({chainId:r.caipNetworkId,accountAddress:t}),n=i.toString(),o="";e.signMessage?o=await e.signMessage({message:n,chainId:r.caipNetworkId,accountAddress:t}):(sm.ConnectorController.getConnectorId(r.chainNamespace)===sp.ConstantsUtil.CONNECTOR_ID.AUTH&&sB.RouterController.pushTransactionStack({}),o=await sy.ConnectionController.signMessage(n)||""),await e.addSession({data:i,message:n,signature:o}),sb.ChainController.setLastConnectedSIWECaipNetwork(r),sx.ModalController.close(),sv.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(e){sx.ModalController.state.open&&"ApproveTransaction"!==sB.RouterController.state.view||await sx.ModalController.open({view:"SIWXSignMessage"}),sA.SnackController.showError("Error signing message"),sv.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(e)}),console.error("SWIXUtil:requestSignMessage",e)}},async cancelSignMessage(){try{let e=this.getSIWX();if(e?.getRequired?.()){let t=sb.ChainController.getLastConnectedSIWECaipNetwork();if(t){let r=await e?.getSessions(t?.caipNetworkId,sI.CoreHelperUtil.getPlainAddress(sb.ChainController.getActiveCaipAddress())||"");r&&r.length>0?await sb.ChainController.switchActiveNetwork(t):await sy.ConnectionController.disconnect()}else await sy.ConnectionController.disconnect()}else sx.ModalController.close();sx.ModalController.close(),sv.EventsController.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){let e=this.getSIWX(),t=sb.ChainController.getAllRequestedCaipNetworks(),r=[];return await Promise.all(t.map(async t=>{let i=await e?.getSessions(t.caipNetworkId,sI.CoreHelperUtil.getPlainAddress(sb.ChainController.getActiveCaipAddress())||"");i&&r.push(...i)})),r},async getSessions(e){let t=sE.OptionsController.state.siwx,r=e?.address;if(!r){let e=sb.ChainController.getActiveCaipAddress();r=sI.CoreHelperUtil.getPlainAddress(e)}let i=e?.caipNetworkId;if(!i){let e=sb.ChainController.getActiveCaipNetwork();i=e?.caipNetworkId}return t&&r&&i?t.getSessions(i,r):[]},async isSIWXCloseDisabled(){let e=this.getSIWX();if(e){let t="ApproveTransaction"===sB.RouterController.state.view,r="SIWXSignMessage"===sB.RouterController.state.view;if(t||r)return e.getRequired?.()&&0===(await this.getSessions()).length}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:r,preferredAccountType:i,chainNamespace:n}){let o=sO.getSIWX(),s=(0,sS.getActiveCaipNetwork)();if(!o||!n.includes(sp.ConstantsUtil.CHAIN.EVM)||sE.OptionsController.state.remoteFeatures?.emailCapture){let n=await e.connect({chainId:t,socialUri:r,preferredAccountType:i});return{address:n.address,chainId:n.chainId,accounts:n.accounts}}let a=`${n}:${t}`,l=await o.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),f={accountAddress:l.accountAddress,chainId:l.chainId,domain:l.domain,uri:l.uri,version:l.version,nonce:l.nonce,notBefore:l.notBefore,statement:l.statement,resources:l.resources,requestId:l.requestId,issuedAt:l.issuedAt,expirationTime:l.expirationTime,serializedMessage:l.toString()},c=await e.connect({chainId:t,socialUri:r,siwxMessage:f,preferredAccountType:i});if(f.accountAddress=c.address,f.serializedMessage=c.message||"",c.signature&&c.message){let e=sO.addEmbeddedWalletSession(f,c.message,c.signature);await e}return sb.ChainController.setLastConnectedSIWECaipNetwork(s),{address:c.address,chainId:c.chainId,accounts:c.accounts}},async addEmbeddedWalletSession(e,t,r){if(sU)return sU;let i=sO.getSIWX();return i?sU=i.addSession({data:e,message:t,signature:r}).finally(()=>{sU=null}):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:r}){let i=sO.getSIWX(),n=(0,sS.getActiveCaipNetwork)(),o=new Set(t.map(e=>e.split(":")[0]));if(!i||1!==o.size||!o.has("eip155"))return!1;let s=await i.createMessage({chainId:(0,sS.getActiveCaipNetwork)()?.caipNetworkId||"",accountAddress:""}),a=await e.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:r,chains:[s.chainId,...t.filter(e=>e!==s.chainId)]});sA.SnackController.showLoading("Authenticating...",{autoClose:!1});let l={...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(sb.ChainController.setAccountProp("connectedWalletInfo",l,Array.from(o)[0]),a?.auths?.length){let t=a.auths.map(t=>{let r=e.client.formatAuthMessage({request:t.p,iss:t.p.iss});return{data:{...t.p,accountAddress:t.p.iss.split(":").slice(-1).join(""),chainId:t.p.iss.split(":").slice(2,4).join(":"),uri:t.p.aud,version:t.p.version||s.version,expirationTime:t.p.exp,issuedAt:t.p.iat,notBefore:t.p.nbf},message:r,signature:t.s.s,cacao:t}});try{await i.setSessions(t),n&&sb.ChainController.setLastConnectedSIWECaipNetwork(n),sv.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:sO.getSIWXEventProperties()})}catch(t){throw console.error("SIWX:universalProviderAuth - failed to set sessions",t),sv.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:sO.getSIWXEventProperties(t)}),await e.disconnect().catch(console.error),t}finally{sA.SnackController.hide()}}return!0},getSIWXEventProperties(e){let t=sb.ChainController.state.activeChain;if(!t)throw Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:sb.ChainController.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:(0,sS.getPreferredAccountType)(t)===sw.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,message:e?sI.CoreHelperUtil.parseError(e):void 0}},async clearSessions(){let e=this.getSIWX();e&&await e.setSessions([])}};e.s(["SIWXUtil",0,sO],440145)},534281,613523,e=>{"use strict";e.i(930017);var t=e.i(154747),r=e.i(668503);e.i(55906);var i=e.i(27926),n=e.i(904670);e.i(707294);var o=e.i(411521),s=t,a=e.i(914139);e.i(539363),e.i(440984);var l=e.i(222101),f=e.i(638403);let c=f.css`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`;var h=function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};let u=class extends s.LitElement{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=n.RouterController.state.view}firstUpdated(){this.status=l.HelpersUtil.hasFooter()?"show":"hide",this.unsubscribe.push(n.RouterController.subscribeKey("view",e=>{this.view=e,this.status=l.HelpersUtil.hasFooter()?"show":"hide","hide"===this.status&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(e=>{for(let t of e)if(t.target===this.getWrapper()){let e=`${t.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",e)}}),this.resizeObserver.observe(this.getWrapper())}render(){return r.html`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return l.HelpersUtil.hasFooter()?r.html` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return r.html`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return r.html`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return r.html` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){a.EventsController.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),n.RouterController.push("WhatIsANetwork")}getWrapper(){return this.shadowRoot?.querySelector("div.container")}};u.styles=[c],h([(0,i.state)()],u.prototype,"status",void 0),h([(0,i.state)()],u.prototype,"view",void 0),u=h([(0,o.customElement)("w3m-footer")],u),e.s(["W3mFooter",()=>u],613523);let d=f.css`
  :host {
    display: block;
    width: inherit;
  }
`;var p=function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};let g=class extends t.LitElement{constructor(){super(),this.unsubscribe=[],this.viewState=n.RouterController.state.view,this.history=n.RouterController.state.history.join(","),this.unsubscribe.push(n.RouterController.subscribeKey("view",()=>{this.history=n.RouterController.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return r.html`${this.templatePageContainer()}`}templatePageContainer(){return r.html`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=n.RouterController.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(e){switch(e){case"AccountSettings":return r.html`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return r.html`<w3m-account-view></w3m-account-view>`;case"AllWallets":return r.html`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return r.html`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return r.html`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return r.html`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":default:return r.html`<w3m-connect-view></w3m-connect-view>`;case"Create":return r.html`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return r.html`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return r.html`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return r.html`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return r.html`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return r.html`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return r.html`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return r.html`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return r.html`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return r.html`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return r.html`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return r.html`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return r.html`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return r.html`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return r.html`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return r.html`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return r.html`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return r.html`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return r.html`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return r.html`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return r.html`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return r.html`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return r.html`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return r.html`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return r.html`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return r.html`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return r.html`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return r.html`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return r.html`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return r.html`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return r.html`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return r.html`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return r.html`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return r.html`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return r.html`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return r.html`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return r.html`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return r.html`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return r.html`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return r.html`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return r.html`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return r.html`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return r.html`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return r.html`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return r.html`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return r.html`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return r.html`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return r.html`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return r.html`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"FundWallet":return r.html`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return r.html`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return r.html`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;case"UsageExceeded":return r.html`<w3m-usage-exceeded-view></w3m-usage-exceeded-view>`}}};g.styles=[d],p([(0,i.state)()],g.prototype,"viewState",void 0),p([(0,i.state)()],g.prototype,"history",void 0),g=p([(0,o.customElement)("w3m-router")],g),e.s(["W3mRouter",()=>g],534281)},196056,e=>{"use strict";e.i(475506),e.s([])},435261,e=>{"use strict";e.i(930017);var t=e.i(154747),r=e.i(668503);e.i(55906);var i=e.i(798975);e.i(996690);var n=e.i(344912);e.i(72454),e.i(22662),e.i(221829);var o=e.i(903181),s=e.i(411521),a=t;e.i(722690);var l=e.i(638403);let f=l.css`
  :host {
    position: relative;
    border-radius: ${({borderRadius:e})=>e[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:e})=>e.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`;var c=function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};let h=class extends a.LitElement{constructor(){super(...arguments),this.walletImages=[]}render(){let e=this.walletImages.length<4;return r.html`${this.walletImages.slice(0,4).map(({src:e,walletName:t})=>r.html`
          <wui-wallet-image
            size="sm"
            imageSrc=${e}
            name=${(0,n.ifDefined)(t)}
          ></wui-wallet-image>
        `)}
    ${e?[...Array(4-this.walletImages.length)].map(()=>r.html` <wui-wallet-image size="sm" name=""></wui-wallet-image>`):null} `}};h.styles=[o.resetStyles,f],c([(0,i.property)({type:Array})],h.prototype,"walletImages",void 0),h=c([(0,s.customElement)("wui-all-wallets-image")],h),e.i(475506);let u=l.css`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:e})=>e.core.glass010};
    color: ${({tokens:e})=>e.theme.foregroundTertiary};
  }
`;var d=function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};let p=class extends t.LitElement{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,r.html`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${(0,n.ifDefined)(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?r.html` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?r.html` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?r.html`<wui-wallet-image
        size=${(0,n.ifDefined)("sm"===this.size?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:this.showAllWallets||this.imageSrc?null:r.html`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`}templateStatus(){return this.loading?r.html`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?r.html`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};p.styles=[o.resetStyles,o.elementStyles,u],d([(0,i.property)({type:Array})],p.prototype,"walletImages",void 0),d([(0,i.property)()],p.prototype,"imageSrc",void 0),d([(0,i.property)()],p.prototype,"name",void 0),d([(0,i.property)()],p.prototype,"size",void 0),d([(0,i.property)()],p.prototype,"tagLabel",void 0),d([(0,i.property)()],p.prototype,"tagVariant",void 0),d([(0,i.property)()],p.prototype,"walletIcon",void 0),d([(0,i.property)()],p.prototype,"tabIdx",void 0),d([(0,i.property)({type:Boolean})],p.prototype,"disabled",void 0),d([(0,i.property)({type:Boolean})],p.prototype,"showAllWallets",void 0),d([(0,i.property)({type:Boolean})],p.prototype,"loading",void 0),d([(0,i.property)({type:String})],p.prototype,"loadingSpinnerColor",void 0),p=d([(0,s.customElement)("wui-list-wallet")],p),e.s([],435261)}]);