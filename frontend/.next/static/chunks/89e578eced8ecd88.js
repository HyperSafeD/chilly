(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,556934,e=>{"use strict";let t,i;e.s([],883283),e.i(883283);var n,r,a,o,s,c,d,h,u,l,g=e.i(556254),m=e.i(599376),M=e.i(692577),w=e.i(312425),p=e.i(645910),y=e.i(574744),f=e.i(399228),I=e.i(105097),D=e.i(501408),N=e.i(682511),C=e.i(263622);function v(e){let t,i=new Map,n=e.features??{defaultConnected:!1},r=n.defaultConnected;return(0,C.createConnector)(a=>({id:"mock",name:"Mock Connector",type:v.type,async setup(){t=a.chains[0].id},async connect({chainId:e,withCapabilities:t}={}){if(n.connectError){if("boolean"==typeof n.connectError)throw new I.UserRejectedRequestError(Error("Failed to connect."));throw n.connectError}let i=await this.getProvider(),a=await i.request({method:"eth_requestAccounts"}),o=await this.getChainId();return e&&o!==e&&(o=(await this.switchChain({chainId:e})).id),r=!0,{accounts:t?a.map(e=>({address:(0,w.getAddress)(e),capabilities:{foo:{bar:e}}})):a.map(e=>(0,w.getAddress)(e)),chainId:o}},async disconnect(){r=!1},async getAccounts(){if(!r)throw new N.ConnectorNotConnectedError;let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,w.getAddress)(e))},async getChainId(){let e=await this.getProvider(),t=await e.request({method:"eth_chainId"});return(0,M.fromHex)(t,"number")},async isAuthorized(){return!!n.reconnect&&!!r&&!!(await this.getAccounts()).length},async switchChain({chainId:e}){let t=await this.getProvider(),i=a.chains.find(t=>t.id===e);if(!i)throw new I.SwitchChainError(new N.ChainNotConfiguredError);return await t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,y.numberToHex)(e)}]}),i},onAccountsChanged(e){0===e.length?this.onDisconnect():a.emitter.emit("change",{accounts:e.map(e=>(0,w.getAddress)(e))})},onChainChanged(e){let t=Number(e);a.emitter.emit("change",{chainId:t})},async onDisconnect(e){a.emitter.emit("disconnect"),r=!1},async getProvider({chainId:o}={}){let s=(a.chains.find(e=>e.id===o)??a.chains[0]).rpcUrls.default.http[0],c=async({method:a,params:o})=>{if("eth_chainId"===a)return(0,y.numberToHex)(t);if("eth_requestAccounts"===a)return e.accounts;if("eth_signTypedData_v4"===a&&n.signTypedDataError){if("boolean"==typeof n.signTypedDataError)throw new I.UserRejectedRequestError(Error("Failed to sign typed data."));throw n.signTypedDataError}if("wallet_switchEthereumChain"===a){if(n.switchChainError){if("boolean"==typeof n.switchChainError)throw new I.UserRejectedRequestError(Error("Failed to switch chain."));throw n.switchChainError}t=(0,M.fromHex)(o[0].chainId,"number"),this.onChainChanged(t.toString());return}if("wallet_watchAsset"===a){if(n.watchAssetError){if("boolean"==typeof n.watchAssetError)throw new I.UserRejectedRequestError(Error("Failed to switch chain."));throw n.watchAssetError}return r}if("wallet_getCapabilities"===a)return{"0x2105":{paymasterService:{supported:"0x95132632579b073D12a6673e18Ab05777a6B86f8"===o[0]},sessionKeys:{supported:!0}},"0x14A34":{paymasterService:{supported:"0x95132632579b073D12a6673e18Ab05777a6B86f8"===o[0]}}};if("wallet_sendCalls"===a){let e=[],t=o[0].calls,n=o[0].from;for(let i of t){let{result:t,error:r}=await D.rpc.http(s,{body:{method:"eth_sendTransaction",params:[{...i,...void 0!==n?{from:n}:{}}]}});if(r)throw new f.RpcRequestError({body:{method:a,params:o},error:r,url:s});e.push(t)}let r=(0,p.keccak256)((0,y.stringToHex)(JSON.stringify(t)));return i.set(r,e),{id:r}}if("wallet_getCallsStatus"===a){let e=i.get(o[0]);if(!e)return{atomic:!1,chainId:"0x1",id:o[0],status:100,receipts:[],version:"2.0.0"};let t=(await Promise.all(e.map(async e=>{let{result:t,error:i}=await D.rpc.http(s,{body:{method:"eth_getTransactionReceipt",params:[e],id:0}});if(i)throw new f.RpcRequestError({body:{method:a,params:o},error:i,url:s});return t?{blockHash:t.blockHash,blockNumber:t.blockNumber,gasUsed:t.gasUsed,logs:t.logs,status:t.status,transactionHash:t.transactionHash}:null}))).filter(e=>null!==e);return 0===t.length?{atomic:!1,chainId:"0x1",id:o[0],status:100,receipts:[],version:"2.0.0"}:{atomic:!1,chainId:"0x1",id:o[0],status:200,receipts:t,version:"2.0.0"}}if("wallet_showCallsStatus"===a)return;if("personal_sign"===a){if(n.signMessageError){if("boolean"==typeof n.signMessageError)throw new I.UserRejectedRequestError(Error("Failed to sign message."));throw n.signMessageError}a="eth_sign",o=[o[1],o[0]]}let c={method:a,params:o},{error:d,result:h}=await D.rpc.http(s,{body:c});if(d)throw new f.RpcRequestError({body:c,error:d,url:s});return h};return(0,m.custom)({request:c})({retryCount:0})}}))}function j(t={}){let i,n,r,a;return(0,C.createConnector)(o=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:e,withCapabilities:t}={}){try{let i=await this.getProvider(),o=(await i.request({method:"eth_requestAccounts",params:[]})).map(e=>(0,w.getAddress)(e));n||(n=this.onAccountsChanged.bind(this),i.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),i.on("chainChanged",r)),a||(a=this.onDisconnect.bind(this),i.on("disconnect",a));let s=await this.getChainId();if(e&&s!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===I.UserRejectedRequestError.code)throw e;return{id:s}});s=t?.id??s}return{accounts:t?o.map(e=>({address:e,capabilities:{}})):o,chainId:s}}catch(e){if(/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(e.message))throw new I.UserRejectedRequestError(e);throw e}},async disconnect(){let e=await this.getProvider();n&&(e.removeListener("accountsChanged",n),n=void 0),r&&(e.removeListener("chainChanged",r),r=void 0),a&&(e.removeListener("disconnect",a),a=void 0),e.disconnect()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,w.getAddress)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},async getProvider(){if(!i){let n="string"==typeof t.preference?{options:t.preference}:{...t.preference,options:t.preference?.options??"all"},{createBaseAccountSDK:r}=await e.A(727218);i=r({...t,appChainIds:o.chains.map(e=>e.id),preference:n}).getProvider()}return i},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:t}){let i=o.chains.find(e=>e.id===t);if(!i)throw new I.SwitchChainError(new N.ChainNotConfiguredError);let n=await this.getProvider();try{return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,y.numberToHex)(i.id)}]}),i}catch(r){if(4902===r.code)try{let r,a;r=e?.blockExplorerUrls?e.blockExplorerUrls:i.blockExplorers?.default.url?[i.blockExplorers?.default.url]:[],a=e?.rpcUrls?.length?e.rpcUrls:[i.rpcUrls.default?.http[0]??""];let o={blockExplorerUrls:r,chainId:(0,y.numberToHex)(t),chainName:e?.chainName??i.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??i.nativeCurrency,rpcUrls:a};return await n.request({method:"wallet_addEthereumChain",params:[o]}),i}catch(e){throw new I.UserRejectedRequestError(e)}throw new I.SwitchChainError(r)}},onAccountsChanged(e){0===e.length?this.onDisconnect():o.emitter.emit("change",{accounts:e.map(e=>(0,w.getAddress)(e))})},onChainChanged(e){let t=Number(e);o.emitter.emit("change",{chainId:t})},async onDisconnect(e){o.emitter.emit("disconnect");let t=await this.getProvider();n&&(t.removeListener("accountsChanged",n),n=void 0),r&&(t.removeListener("chainChanged",r),r=void 0),a&&(t.removeListener("disconnect",a),a=void 0)}}))}function A(t={}){var i,n;let r,a,o,s,c,d,h,u,l;return"3"===t.version||t.headlessMode?(i=t,(0,C.createConnector)(t=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:A.type,async connect({chainId:e,withCapabilities:t}={}){try{let i=await this.getProvider(),n=(await i.request({method:"eth_requestAccounts"})).map(e=>(0,w.getAddress)(e));o||(o=this.onAccountsChanged.bind(this),i.on("accountsChanged",o)),s||(s=this.onChainChanged.bind(this),i.on("chainChanged",s)),c||(c=this.onDisconnect.bind(this),i.on("disconnect",c));let r=await this.getChainId();if(e&&r!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===I.UserRejectedRequestError.code)throw e;return{id:r}});r=t?.id??r}return{accounts:t?n.map(e=>({address:e,capabilities:{}})):n,chainId:r}}catch(e){if(/(user closed modal|accounts received is empty|user denied account)/i.test(e.message))throw new I.UserRejectedRequestError(e);throw e}},async disconnect(){let e=await this.getProvider();o&&(e.removeListener("accountsChanged",o),o=void 0),s&&(e.removeListener("chainChanged",s),s=void 0),c&&(e.removeListener("disconnect",c),c=void 0),e.disconnect(),e.close()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,w.getAddress)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},async getProvider(){if(!a){r=new(await (async()=>{let{default:t}=await e.A(523375);return"function"!=typeof t&&"function"==typeof t.default?t.default:t})())({...i,reloadOnDisconnect:!1});let n=r.walletExtension?.getChainId(),o=t.chains.find(e=>i.chainId?e.id===i.chainId:e.id===n)||t.chains[0],s=i.chainId||o?.id,c=i.jsonRpcUrl||o?.rpcUrls.default.http[0];a=r.makeWeb3Provider(c,s)}return a},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:i}){let n=t.chains.find(e=>e.id===i);if(!n)throw new I.SwitchChainError(new N.ChainNotConfiguredError);let r=await this.getProvider();try{return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,y.numberToHex)(n.id)}]}),n}catch(t){if(4902===t.code)try{let t,a;t=e?.blockExplorerUrls?e.blockExplorerUrls:n.blockExplorers?.default.url?[n.blockExplorers?.default.url]:[],a=e?.rpcUrls?.length?e.rpcUrls:[n.rpcUrls.default?.http[0]??""];let o={blockExplorerUrls:t,chainId:(0,y.numberToHex)(i),chainName:e?.chainName??n.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??n.nativeCurrency,rpcUrls:a};return await r.request({method:"wallet_addEthereumChain",params:[o]}),n}catch(e){throw new I.UserRejectedRequestError(e)}throw new I.SwitchChainError(t)}},onAccountsChanged(e){0===e.length?this.onDisconnect():t.emitter.emit("change",{accounts:e.map(e=>(0,w.getAddress)(e))})},onChainChanged(e){let i=Number(e);t.emitter.emit("change",{chainId:i})},async onDisconnect(e){t.emitter.emit("disconnect");let i=await this.getProvider();o&&(i.removeListener("accountsChanged",o),o=void 0),s&&(i.removeListener("chainChanged",s),s=void 0),c&&(i.removeListener("disconnect",c),c=void 0)}}))):(n=t,(0,C.createConnector)(t=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:A.type,async connect({chainId:e,withCapabilities:t,...i}={}){try{let n=await this.getProvider(),r=(await n.request({method:"eth_requestAccounts",params:"instantOnboarding"in i&&i.instantOnboarding?[{onboarding:"instant"}]:[]})).map(e=>(0,w.getAddress)(e));h||(h=this.onAccountsChanged.bind(this),n.on("accountsChanged",h)),u||(u=this.onChainChanged.bind(this),n.on("chainChanged",u)),l||(l=this.onDisconnect.bind(this),n.on("disconnect",l));let a=await this.getChainId();if(e&&a!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===I.UserRejectedRequestError.code)throw e;return{id:a}});a=t?.id??a}return{accounts:t?r.map(e=>({address:e,capabilities:{}})):r,chainId:a}}catch(e){if(/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(e.message))throw new I.UserRejectedRequestError(e);throw e}},async disconnect(){let e=await this.getProvider();h&&(e.removeListener("accountsChanged",h),h=void 0),u&&(e.removeListener("chainChanged",u),u=void 0),l&&(e.removeListener("disconnect",l),l=void 0),e.disconnect(),e.close?.()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,w.getAddress)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},async getProvider(){if(!d){let i="string"==typeof n.preference?{options:n.preference}:{...n.preference,options:n.preference?.options??"all"},{createCoinbaseWalletSDK:r}=await e.A(961105);d=r({...n,appChainIds:t.chains.map(e=>e.id),preference:i}).getProvider()}return d},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:i}){let n=t.chains.find(e=>e.id===i);if(!n)throw new I.SwitchChainError(new N.ChainNotConfiguredError);let r=await this.getProvider();try{return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,y.numberToHex)(n.id)}]}),n}catch(t){if(4902===t.code)try{let t,a;t=e?.blockExplorerUrls?e.blockExplorerUrls:n.blockExplorers?.default.url?[n.blockExplorers?.default.url]:[],a=e?.rpcUrls?.length?e.rpcUrls:[n.rpcUrls.default?.http[0]??""];let o={blockExplorerUrls:t,chainId:(0,y.numberToHex)(i),chainName:e?.chainName??n.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??n.nativeCurrency,rpcUrls:a};return await r.request({method:"wallet_addEthereumChain",params:[o]}),n}catch(e){throw new I.UserRejectedRequestError(e)}throw new I.SwitchChainError(t)}},onAccountsChanged(e){0===e.length?this.onDisconnect():t.emitter.emit("change",{accounts:e.map(e=>(0,w.getAddress)(e))})},onChainChanged(e){let i=Number(e);t.emitter.emit("change",{chainId:i})},async onDisconnect(e){t.emitter.emit("disconnect");let i=await this.getProvider();h&&(i.removeListener("accountsChanged",h),h=void 0),u&&(i.removeListener("chainChanged",u),u=void 0),l&&(i.removeListener("disconnect",l),l=void 0)}})))}v.type="mock",A.type="coinbaseWallet";var b=e.i(336244);function E(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}e.i(161187);let z=(e,t)=>Object.hasOwnProperty.call(e,t);(n=l=l||(l={}))[n.Null=4]="Null",n[n.Comma=1]="Comma",n[n.Wrapper=1]="Wrapper",n[n.True=4]="True",n[n.False=5]="False",n[n.Quote=1]="Quote",n[n.Colon=1]="Colon",n[n.Date=24]="Date";var O=e.i(694849);class S extends TypeError{constructor(e,t){let i;const{message:n,explanation:r,...a}=e,{path:o}=e,s=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(r??s),null!=r&&(this.cause=s),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>i??(i=[e,...t()])}}function T(e){return"object"==typeof e&&null!==e}function U(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*P(e,t,i,n){var r;for(let a of(T(r=e)&&"function"==typeof r[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,i,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:r,branch:a}=t,{type:o}=i,{refinement:s,message:c=`Expected a value of type \`${o}\`${s?` with refinement \`${s}\``:""}, but received: \`${U(n)}\``}=e;return{value:n,type:o,refinement:s,key:r[r.length-1],path:r,branch:a,...e,message:c}}(a,t,i,n);e&&(yield e)}}function*L(e,t,i={}){let{path:n=[],branch:r=[e],coerce:a=!1,mask:o=!1}=i,s={path:n,branch:r};if(a&&(e=t.coercer(e,s),o&&"type"!==t.type&&T(t.schema)&&T(e)&&!Array.isArray(e)))for(let i in e)void 0===t.schema[i]&&delete e[i];let c="valid";for(let n of t.validator(e,s))n.explanation=i.message,c="not_valid",yield[n,void 0];for(let[d,h,u]of t.entries(e,s))for(let t of L(h,u,{path:void 0===d?n:[...n,d],branch:void 0===d?r:[...r,h],coerce:a,mask:o,message:i.message}))t[0]?(c=null===t[0].refinement||void 0===t[0].refinement?"not_valid":"not_refined",yield[t[0],void 0]):a&&(h=t[1],void 0===d?e=h:e instanceof Map?e.set(d,h):e instanceof Set?e.add(h):T(e)&&(void 0!==h||d in e)&&(e[d]=h));if("not_valid"!==c)for(let n of t.refiner(e,s))n.explanation=i.message,c="not_refined",yield[n,void 0];"valid"===c&&(yield[void 0,e])}class x{constructor(e){const{type:t,schema:i,validator:n,refiner:r,coercer:a=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=i,this.entries=o,this.coercer=a,n?this.validator=(e,t)=>P(n(e,t),t,this,e):this.validator=()=>[],r?this.refiner=(e,t)=>P(r(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){var i=e,n=this,r=t;let a=q(i,n,{message:r});if(a[0])throw a[0]}create(e,t){return _(e,this,t)}is(e){return R(e,this)}mask(e,t){var i=e,n=this,r=t;let a=q(i,n,{coerce:!0,mask:!0,message:r});if(!a[0])return a[1];throw a[0]}validate(e,t={}){return q(e,this,t)}}let k="EXACT_OPTIONAL";class Z extends x{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=k}static isExactOptional(e){return T(e)&&"brand"in e&&e.brand===k}}function _(e,t,i){let n=q(e,t,{coerce:!0,message:i});if(!n[0])return n[1];throw n[0]}function R(e,t){return!q(e,t)[0]}function q(e,t,i={}){let n=L(e,t,i),r=function(e){let{done:t,value:i}=e.next();return t?void 0:i}(n);return r[0]?[new S(r[0],function*(){for(let e of n)e[0]&&(yield e[0])}),void 0]:[void 0,r[1]]}function Y(e,t){return new x({type:e,schema:null,validator:t})}function Q(e){let t=e?Object.keys(e):[],i=Y("never",()=>!1);return new x({type:"object",schema:e??null,*entries(n){if(e&&T(n)){let r=new Set(Object.keys(n));for(let i of t){r.delete(i);let t=e[i];(!Z.isExactOptional(t)||Object.prototype.hasOwnProperty.call(n,i))&&(yield[i,n[i],e[i]])}for(let e of r)yield[e,n[e],i]}},validator:e=>T(e)||`Expected an object, but received: ${U(e)}`,coercer:e=>T(e)?{...e}:e})}function W(e){return new x({...e,validator:(t,i)=>void 0===t||e.validator(t,i),refiner:(t,i)=>void 0===t||e.refiner(t,i)})}function F(){return Y("string",e=>"string"==typeof e||`Expected a string, but received: ${U(e)}`)}function G(e){let t=e.map(e=>e.type).join(" | ");return new x({type:"union",schema:null,coercer(t){for(let i of e){let[e,n]=i.validate(t,{coerce:!0});if(!e)return n}return t},validator(i,n){let r=[];for(let t of e){let[...e]=L(i,t,n),[a]=e;if(!a?.[0])return[];for(let[t]of e)t&&r.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${U(i)}`,...r]}})}function J({path:e,branch:t}){let i=e[e.length-1];return z(t[t.length-2],i)}function H(e){return new x({...e,type:`optional ${e.type}`,validator:(t,i)=>!J(i)||e.validator(t,i),refiner:(t,i)=>!J(i)||e.refiner(t,i)})}let K=Y("JSON",e=>(function e(t){if(null===t||"boolean"==typeof t||"string"==typeof t||"number"==typeof t&&Number.isFinite(t))return!0;if("object"==typeof t){let i=!0;if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(!e(t[n])){i=!1;break}return i}let n=Object.entries(t);for(let t=0;t<n.length;t++)if("string"!=typeof n[t][0]||!e(n[t][1])){i=!1;break}return i}return!1})(e)),B=(r=Y("any",()=>!0),a=e=>R(e,K),o=new x({...r,*refiner(e,t){for(let i of(yield*r.refiner(e,t),P(a(e,t),t,r,e)))yield{...i,refinement:"JSON"}}}),s=e=>JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})),new x({...K,coercer:(e,t)=>R(e,o)?K.coercer(s(e,t),t):K.coercer(e,t)}));function $(e){try{var t;return t=e,_(t,B),!0}catch{return!1}}let V=(t=U("2.0"),new x({type:"literal",schema:"string"==(i="string")?"2.0":null,validator:e=>"2.0"===e||`Expected the literal \`${t}\`, but received: ${U(e)}`})),X=new x({...c=G([Y("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${U(e)}`),F()]),validator:(e,t)=>null===e||c.validator(e,t),refiner:(e,t)=>null===e||c.refiner(e,t)}),ee=Q({code:Y("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${U(e)}`),message:F(),data:H(B),stack:H(F())}),et=G([(d=F(),new x({type:"record",schema:null,*entries(e){if(T(e))for(let t in e){let i=e[t];yield[t,t,d],yield[t,i,B]}},validator:e=>T(e)||`Expected an object, but received: ${U(e)}`})),new x({type:"array",schema:B,*entries(e){if(B&&Array.isArray(e))for(let[t,i]of e.entries())yield[t,i,B]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${U(e)}`})]);Q({id:X,jsonrpc:V,method:F(),params:H(et)}),Q({jsonrpc:V,method:F(),params:H(et)}),Q({id:X,jsonrpc:V,result:W(Y("unknown",()=>!0)),error:W(ee)});let ei=Q({id:X,jsonrpc:V,result:B});G([ei,Q({id:X,jsonrpc:V,error:ee})]);let en=-32003,er=-32004,ea=-32602,eo=-32603,es=4001,ec=4100,ed={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},eh=eo,eu={code:eh,message:el(eh)};function el(e,t="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){var i;let t=e.toString();if(z(ed,t))return ed[t].message;if((i=e)>=-32099&&i<=-32e3)return"Unspecified server error."}return t}function eg(e){return Array.isArray(e)?e.map(e=>$(e)?e:E(e)?em(e):null):E(e)?em(e):$(e)?e:null}function em(e){return Object.getOwnPropertyNames(e).reduce((t,i)=>{let n=e[i];return $(n)&&(t[i]=n),t},{})}let eM=(h=O.default,h?.__esModule?h.default:h);class ew extends Error{constructor(e,t,i){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a non-empty string.');!function(e){return E(e)&&z(e,"cause")&&E(e.cause)}(i)?super(t):(super(t,{cause:i.cause}),z(this,"cause")||Object.assign(this,{cause:i.cause})),void 0!==i&&(this.data=i),this.code=e}serialize(){let e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=eg(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return eM(this.serialize(),ey,2)}}class ep extends ew{constructor(e,t,i){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,i)}}function ey(e,t){if("[Circular]"!==t)return t}function ef(e,t){let[i,n]=eD(t);return new ew(e,i??el(e),n)}function eI(e,t){let[i,n]=eD(t);return new ep(e,i??el(e),n)}function eD(e){if(e){if("string"==typeof e)return[e];else if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:i}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t??void 0,i]}}return[]}var eN=e.i(687730),eC=e.i(248272),ev=e.i(112753),ej=e.i(695966),eA=e.i(30034),eb=e.i(811034),eE=e.i(42171),ez=e.i(877652),eO=e.i(634621),eS=e.i(552996);e.i(823414);var eT=e.i(495411);e.i(491854),e.i(230612),e.i(20427),e.i(993382);var eU=e.i(7729),eP=void 0!==b.default&&"undefined"||"https://keys.gemini.com",eL=[...Object.values({ARBITRUM_ONE:42161,BASE:8453,ETHEREUM:1,OP_MAINNET:10,POLYGON:137}),...Object.values({ARBITRUM_SEPOLIA:421614,BASE_SEPOLIA:84532,OP_SEPOLIA:0xaa37dc,POLYGON_AMOY:80002,SEPOLIA:0xaa36a7})];function ex(e){return({[eA.mainnet.id]:eA.mainnet.rpcUrls.default.http[0],[eN.arbitrum.id]:eN.arbitrum.rpcUrls.default.http[0],[eb.optimism.id]:eb.optimism.rpcUrls.default.http[0],[ev.base.id]:ev.base.rpcUrls.default.http[0],[ez.polygon.id]:ez.polygon.rpcUrls.default.http[0],[eS.sepolia.id]:eS.sepolia.rpcUrls.default.http[0],[eC.arbitrumSepolia.id]:eC.arbitrumSepolia.rpcUrls.default.http[0],[eE.optimismSepolia.id]:eE.optimismSepolia.rpcUrls.default.http[0],[ej.baseSepolia.id]:ej.baseSepolia.rpcUrls.default.http[0],[eO.polygonAmoy.id]:eO.polygonAmoy.rpcUrls.default.http[0]})[e]}var ek=((u=ek||{}).POPUP_LOADED="POPUP_LOADED",u.POPUP_UNLOADED="POPUP_UNLOADED",u.POPUP_APP_CONTEXT="POPUP_APP_CONTEXT",u.SDK_CONNECT="SDK_CONNECT",u.SDK_DISCONNECT="SDK_DISCONNECT",u.SDK_SEND_TRANSACTION="SDK_SEND_TRANSACTION",u.SDK_SIGN_DATA="SDK_SIGN_DATA",u.SDK_SIGN_TYPED_DATA="SDK_SIGN_TYPED_DATA",u.SDK_SWITCH_CHAIN="SDK_SWITCH_CHAIN",u.SDK_OPEN_SETTINGS="SDK_OPEN_SETTINGS",u.SDK_CURRENT_ACCOUNT="SDK_CURRENT_ACCOUNT",u),eZ=class extends eT.EventEmitter{},e_=e=>`0x${BigInt(e).toString(16)}`,eR=class{constructor({appMetadata:e,onDisconnectCallback:t}){this.popup=null,this.listeners=new Map,this.postMessage=async e=>{(await this.waitForPopupLoaded()).postMessage(e,this.url.origin)},this.postRequestAndWaitForResponse=async e=>{let t=this.onMessage(({requestId:t})=>t===e.requestId);return this.postMessage(e),await t},this.onMessage=e=>new Promise((t,i)=>{let n=i=>{if(i.origin!==this.url.origin)return;let r=i.data;e(r)&&(t(r),window.removeEventListener("message",n),this.listeners.delete(n))};window.addEventListener("message",n),this.listeners.set(n,{reject:i})}),this.onRequestCancelled=()=>{var e;(e=this.popup)&&!e.closed&&(e.opener?.focus(),e.close()),this.popup=null,this.listeners.forEach(({reject:e},t)=>{e(eI(es,void 0)),window.removeEventListener("message",t)}),this.listeners.clear()},this.waitForPopupLoaded=()=>this.popup&&!this.popup.closed?(this.popup.focus(),Promise.resolve(this.popup)):(this.popup=(e=>{let t=(window.innerWidth-420)/2+window.screenX,i=(window.innerHeight-650)/2+window.screenY,n=`wallet_${window?.crypto?.randomUUID()}`,r=window.open(e,n,`width=420, height=650, left=${t}, top=${i}`);if(r?.focus(),!r){let e;throw e="Pop up window failed to open",ef(eo,e)}return r})(this.url),this.onMessage(({event:e})=>"POPUP_UNLOADED"===e).then(this.onRequestCancelled).catch(()=>{}),this.onMessage(({event:e})=>"SDK_DISCONNECT"===e).then(()=>{this.onDisconnectCallback?.(),this.onRequestCancelled()}).catch(()=>{}),this.onMessage(({event:e})=>"POPUP_LOADED"===e).then(e=>{this.postMessage({chainId:42161,data:{appMetadata:this.appMetadata,origin:window.location.origin,sdkVersion:"0.3.1"},event:"POPUP_APP_CONTEXT",origin:window.location.origin,requestId:e.requestId})}).then(()=>{if(!this.popup)throw ef(eo,void 0);return this.popup})),this.url=new URL(eP),this.appMetadata=e,this.onDisconnectCallback=t}},eq={},eY=class{constructor({scope:e="@gemini",module:t="wallet"}={}){this.scope=e,this.module=t}scopedKey(e){return`${this.scope}.${this.module}.${e}`}async storeObject(e,t){let i=JSON.stringify(t,(e,t)=>"bigint"==typeof t?t.toString()+"n":t,2);await this.setItem(e,i)}async loadObject(e,t){let i=await this.getItem(e);if(!i)return await this.storeObject(e,t),t;try{return JSON.parse(i)}catch(i){return console.error(`Error parsing JSON for key ${e}:`,i),t}}async setItem(e,t){let i=this.scopedKey(e);try{localStorage.setItem(i,t)}catch(e){console.warn("localStorage not available, using memory storage",e),eq[i]=t}}async getItem(e){let t=this.scopedKey(e);try{return localStorage.getItem(t)}catch(e){return console.warn("localStorage not available, using memory storage",e),eq[t]||null}}async removeItem(e){let t=this.scopedKey(e);try{localStorage.removeItem(t)}catch(e){console.warn("localStorage not available, using memory storage",e),delete eq[t]}}async removeItems(e){await Promise.all(e.map(e=>this.removeItem(e)))}},eQ="eth-accounts",eW="eth-active-chain",eF=class{constructor({appMetadata:e,chain:t,onDisconnectCallback:i,storage:n}){this.accounts=[],this.chain={id:42161},this.communicator=new eR({appMetadata:e,onDisconnectCallback:i}),this.storage=n||new eY;const r=t?.id??42161,a=t?.rpcUrl??ex(r);this.initPromise=this.initializeFromStorage({id:r,rpcUrl:a})}async initializeFromStorage(e){let t={...e,rpcUrl:e.rpcUrl||ex(e.id)},[i,n]=await Promise.all([this.storage.loadObject(eW,t),this.storage.loadObject(eQ,this.accounts)]);this.chain={...i,rpcUrl:i.rpcUrl||ex(i.id)},this.accounts=n}async ensureInitialized(){await this.initPromise}async connect(){await this.ensureInitialized();let e=await this.sendMessageToPopup({chainId:this.chain.id,event:"SDK_CONNECT",origin:window.location.origin});return this.accounts=e.data.address?[e.data.address]:[],await this.storage.storeObject(eQ,this.accounts),this.accounts}async disconnect(){await this.ensureInitialized(),this.accounts=[],await this.storage.storeObject(eQ,this.accounts)}async switchChain({id:e}){return(await this.ensureInitialized(),eL.includes(e))?(this.chain={id:e,rpcUrl:ex(e)},await this.storage.storeObject(eW,this.chain),null):(await this.sendMessageToPopup({chainId:this.chain.id,data:e,event:"SDK_SWITCH_CHAIN",origin:window.location.origin})).data.error??"Unsupported chain."}async sendTransaction(e){return await this.ensureInitialized(),(await this.sendMessageToPopup({chainId:this.chain.id,data:e,event:"SDK_SEND_TRANSACTION",origin:window.location.origin})).data}async signData({message:e}){return await this.ensureInitialized(),(await this.sendMessageToPopup({chainId:this.chain.id,data:{message:e},event:"SDK_SIGN_DATA",origin:window.location.origin})).data}async signTypedData({message:e,types:t,primaryType:i,domain:n}){return await this.ensureInitialized(),(await this.sendMessageToPopup({chainId:this.chain.id,data:{domain:n,message:e,primaryType:i,types:t},event:"SDK_SIGN_TYPED_DATA",origin:window.location.origin})).data}async openSettings(){await this.ensureInitialized(),await this.sendMessageToPopup({chainId:this.chain.id,data:{},event:"SDK_OPEN_SETTINGS",origin:window.location.origin})}sendMessageToPopup(e){return this.communicator.postRequestAndWaitForResponse({...e,requestId:window?.crypto?.randomUUID()})}},eG=async(e,t)=>{let i={...e,id:window?.crypto?.randomUUID(),jsonrpc:"2.0"},n=await window.fetch(t,{body:JSON.stringify(i),headers:{"Content-Type":"application/json"},method:"POST",mode:"cors"}),{result:r,error:a}=await n.json();if(a)throw a;return r},eJ=class extends eZ{constructor(e){super(),this.wallet=null,this.config=e;const t=e.onDisconnectCallback;this.wallet=new eF({...e,onDisconnectCallback:()=>{t?.(),this.disconnect()}})}async request(e){try{let t,i;if(!function(e){if(!e||"object"!=typeof e||Array.isArray(e)){let e;throw e={message:"Expected a single, non-array, object argument."},ef(ea,e)}let{method:t,params:i}=e;if("string"!=typeof t||0===t.length){let e;throw e={message:"'args.method' must be a non-empty string."},ef(ea,e)}if(void 0!==i&&!Array.isArray(i)&&("object"!=typeof i||null===i)){let e;throw e={message:"'args.params' must be an object or array if provided."},ef(ea,e)}}(e),!this.wallet?.accounts?.length)switch(e.method){case"eth_requestAccounts":if(!this.wallet){let e=this.config.onDisconnectCallback;this.wallet=new eF({...this.config,onDisconnectCallback:()=>{e?.(),this.disconnect()}})}await this.wallet.connect(),this.emit("accountsChanged",this.wallet.accounts);break;case"net_version":return 42161;case"eth_chainId":return e_(42161);default:throw eI(ec,void 0)}switch(e.method){case"eth_requestAccounts":case"eth_accounts":t=this.wallet.accounts;break;case"net_version":t=this.wallet.chain.id;break;case"eth_chainId":t=e_(this.wallet.chain.id);break;case"personal_sign":case"wallet_sign":if(i=e.params,(t=await this.wallet.signData({account:i[1],message:i[0]})).error){let e;throw e=t.error,ef(en,e)}t=t.hash;break;case"eth_sendTransaction":case"wallet_sendTransaction":if(i=e.params,i=function(e){let t={...e};for(let i of["value","gas","gasPrice","maxPriorityFeePerGas","maxFeePerGas"]){if(!(i in e))continue;let n=e[i];"bigint"!=typeof n&&(0,eU.isHex)(n)&&(t[i]=BigInt(n))}return t}(i[0]),(t=await this.wallet.sendTransaction(i)).error){let e;throw e=t.error,ef(en,e)}t=t.hash;break;case"wallet_switchEthereumChain":{let i,n=e.params;if(Array.isArray(n)&&n[0]?.chainId)i=parseInt(n[0].chainId,16);else if(n&&"object"==typeof n&&"id"in n&&Number.isInteger(n.id))i=n.id;else{let e;throw e="Invalid chain id argument. Expected [{ chainId: hex_string }] or { id: number }.",ef(ea,e)}if(t=await this.wallet.switchChain({id:i}))throw(e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:i,data:n}=e;if(!i||"string"!=typeof i)throw Error('"message" must be a nonempty string');return new ep(t,i,n)})({code:4902,message:t});await this.emit("chainChanged",e_(i));break}case"eth_signTypedData_v1":case"eth_signTypedData_v2":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":{i=e.params;let n=JSON.parse(i[1]);if((t=await this.wallet.signTypedData({account:i[0],domain:n.domain,message:n.message,primaryType:n.primaryType,types:n.types})).error){let e;throw e=t.error,ef(en,e)}t=t.hash;break}case"eth_ecRecover":case"eth_subscribe":case"eth_unsubscribe":case"personal_ecRecover":case"eth_signTransaction":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_getCallsStatus":case"wallet_getCapabilities":case"wallet_showCallsStatus":case"wallet_grantPermissions":let n;throw n="Not yet implemented.",ef(er,n);case"eth_sign":case"eth_coinbase":case"wallet_addEthereumChain":throw ef(er,void 0);default:if(!this.wallet.chain.rpcUrl){let e;throw e=`RPC URL missing for current chain (${this.wallet.chain.id})`,ef(eo,e)}return eG(e,this.wallet.chain.rpcUrl)}return t}catch(t){let{code:e}=t;return e===ec&&this.disconnect(),Promise.reject(function(e,{fallbackError:t=eu,shouldIncludeStack:i=!0,shouldPreserveMessage:n=!0}={}){if(!R(t,ee))throw Error("Must provide fallback error with integer number code and string message.");let r=function(e,t,i){if(e&&"object"==typeof e&&"serialize"in e&&"function"==typeof e.serialize)return e.serialize();if(R(e,ee))return e;let n=function(e){if(E(e)&&z(e,"message")&&"string"==typeof e.message&&e.message.length>0)return e.message}(e),r=eg(e);return{...t,...i&&n&&{message:n},data:{cause:r}}}(e,t,n);return i||delete r.stack,r}(t))}}async openSettings(){await this.wallet?.openSettings()}async disconnect(){if(this.wallet){let e=this.config.storage||new eY;await e.removeItem(eQ),await e.removeItem(eW)}this.wallet=null,this.config.onDisconnectCallback?.(),await this.emit("disconnect","User initiated disconnection"),await this.emit("accountsChanged",[])}};function eH(e={}){let t,i,n,r;return(0,C.createConnector)(a=>({id:"gemini",name:"Gemini Wallet",type:eH.type,icon:"https://keys.gemini.com/images/gemini-wallet-logo.svg",async connect({chainId:e,withCapabilities:t}={}){try{let a=await this.getProvider(),o=await a.request({method:"eth_requestAccounts"});i||(i=this.onAccountsChanged.bind(this),a.on("accountsChanged",i)),n||(n=this.onChainChanged.bind(this),a.on("chainChanged",n)),r||(r=this.onDisconnect.bind(this),a.on("disconnect",r));let s=await this.getChainId();if(e&&s!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===I.UserRejectedRequestError.code)throw e;return{id:s}});s=t?.id??s}return{accounts:t?o.map(e=>({address:e,capabilities:{}})):o,chainId:s}}catch(e){if(/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(e.message))throw new I.UserRejectedRequestError(e);throw e}},async disconnect(){let e=await this.getProvider();i&&(e.removeListener("accountsChanged",i),i=void 0),n&&(e.removeListener("chainChanged",n),n=void 0),r&&(e.removeListener("disconnect",r),r=void 0),await e.disconnect()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,w.getAddress)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},getProvider:async()=>(t||(t=new eJ({appMetadata:e.appMetadata??{},chain:{id:a.chains[0]?.id??1,rpcUrl:a.chains[0]?.rpcUrls?.default?.http[0]}})),t),async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({chainId:e}){let t=a.chains.find(t=>t.id===e);if(!t)throw new I.SwitchChainError(new N.ChainNotConfiguredError);let i=await this.getProvider();try{return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,y.numberToHex)(e)}]}),t}catch(e){throw new I.SwitchChainError(e)}},onAccountsChanged(e){0===e.length?this.onDisconnect():a.emitter.emit("change",{accounts:e.map(e=>(0,w.getAddress)(e))})},onChainChanged(e){let t=Number(e);a.emitter.emit("change",{chainId:t})},async onDisconnect(){a.emitter.emit("disconnect");let e=await this.getProvider();i&&(e.removeListener("accountsChanged",i),i=void 0),n&&(e.removeListener("chainChanged",n),n=void 0),r&&(e.removeListener("disconnect",r),r=void 0)}}))}function eK(e){let{chain:t}=e,i=t.rpcUrls.default.http[0];if(!e.transports)return[i];let n=e.transports?.[t.id]?.({chain:t});return(n?.value?.transports||[n]).map(({value:e})=>e?.url||i)}eH.type="gemini";var eB=e.i(27563),e$=e.i(570585),eV=e.i(256265);function eX(t={}){let i,n,r,a,o,s,c,d;return(0,C.createConnector)(h=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:eX.type,async setup(){let e=await this.getProvider();e?.on&&(s||(s=this.onConnect.bind(this),e.on("connect",s)),a||(a=this.onAccountsChanged.bind(this),e.on("accountsChanged",a)))},async connect({chainId:e,isReconnecting:n,withCapabilities:r}={}){let h=await this.getProvider();c||(c=this.onDisplayUri,h.on("display_uri",c));let u=[];n&&(u=await this.getAccounts().catch(()=>[]));try{let n,l;u?.length||(t.connectAndSign||t.connectWith?(t.connectAndSign?n=await i.connectAndSign({msg:t.connectAndSign}):t.connectWith&&(l=await i.connectWith({method:t.connectWith.method,params:t.connectWith.params})),u=await this.getAccounts()):u=(await i.connect()).map(e=>(0,w.getAddress)(e)));let g=await this.getChainId();if(e&&g!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===I.UserRejectedRequestError.code)throw e;return{id:g}});g=t?.id??g}return c&&(h.removeListener("display_uri",c),c=void 0),n?h.emit("connectAndSign",{accounts:u,chainId:g,signResponse:n}):l&&h.emit("connectWith",{accounts:u,chainId:g,connectWithResponse:l}),s&&(h.removeListener("connect",s),s=void 0),a||(a=this.onAccountsChanged.bind(this),h.on("accountsChanged",a)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),d||(d=this.onDisconnect.bind(this),h.on("disconnect",d)),{accounts:r?u.map(e=>({address:e,capabilities:{}})):u,chainId:g}}catch(e){if(e.code===I.UserRejectedRequestError.code)throw new I.UserRejectedRequestError(e);if(e.code===I.ResourceUnavailableRpcError.code)throw new I.ResourceUnavailableRpcError(e);throw e}},async disconnect(){let e=await this.getProvider();o&&(e.removeListener("chainChanged",o),o=void 0),d&&(e.removeListener("disconnect",d),d=void 0),s||(s=this.onConnect.bind(this),e.on("connect",s)),await i.terminate()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,w.getAddress)(e))},async getChainId(){let e=await this.getProvider();return Number(e.getChainId()||await e?.request({method:"eth_chainId"}))},async getProvider(){async function a(){let n=await (async()=>{let{default:t}=await e.A(147084);return"function"!=typeof t&&"function"==typeof t.default?t.default:t})(),r={};for(let e of h.chains)r[(0,y.numberToHex)(e.id)]=eK({chain:e,transports:h.transports})?.[0];i=new n({_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,...t,readonlyRPCMap:r,dappMetadata:{...t.dappMetadata,name:t.dappMetadata?.name?t.dappMetadata?.name:"wagmi",url:t.dappMetadata?.url?t.dappMetadata?.url:"undefined"!=typeof window?window.location.origin:"https://wagmi.sh"},useDeeplink:t.useDeeplink??!0});let a=await i.init(),o=a?.activeProvider?a.activeProvider:i.getProvider();if(!o)throw new eB.ProviderNotFoundError;return o}return n||(r||(r=a()),n=await r),n},async isAuthorized(){try{return!!(await (0,e$.withRetry)(()=>(0,eV.withTimeout)(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:t}){let i=await this.getProvider(),n=h.chains.find(e=>e.id===t);if(!n)throw new I.SwitchChainError(new N.ChainNotConfiguredError);try{return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,y.numberToHex)(t)}]}),await r(),await a(t),n}catch(o){if(o.code===I.UserRejectedRequestError.code)throw new I.UserRejectedRequestError(o);if(4902===o.code||o?.data?.originalError?.code===4902)try{return await i.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{let{default:t,...i}=n.blockExplorers??{};return e?.blockExplorerUrls?e.blockExplorerUrls:t?[t.url,...Object.values(i).map(e=>e.url)]:void 0})(),chainId:(0,y.numberToHex)(t),chainName:e?.chainName??n.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??n.nativeCurrency,rpcUrls:e?.rpcUrls?.length?e.rpcUrls:[n.rpcUrls.default?.http[0]??""]}]}),await r(),await a(t),n}catch(e){if(e.code===I.UserRejectedRequestError.code)throw new I.UserRejectedRequestError(e);throw new I.SwitchChainError(e)}throw new I.SwitchChainError(o)}async function r(){await (0,e$.withRetry)(async()=>{let e=(0,M.hexToNumber)(await i.request({method:"eth_chainId"}));if(e!==t)throw Error("User rejected switch after adding network.");return e},{delay:50,retryCount:20})}async function a(e){await new Promise(t=>{let i=n=>{"chainId"in n&&n.chainId===e&&(h.emitter.off("change",i),t())};h.emitter.on("change",i),h.emitter.emit("change",{chainId:e})})}},async onAccountsChanged(e){if(0===e.length)if(!i.isExtensionActive())return;else this.onDisconnect();else if(h.emitter.listenerCount("connect")){let e=(await this.getChainId()).toString();this.onConnect({chainId:e})}else h.emitter.emit("change",{accounts:e.map(e=>(0,w.getAddress)(e))})},onChainChanged(e){let t=Number(e);h.emitter.emit("change",{chainId:t})},async onConnect(e){let t=await this.getAccounts();if(0===t.length)return;let i=Number(e.chainId);h.emitter.emit("connect",{accounts:t,chainId:i});let n=await this.getProvider();s&&(n.removeListener("connect",s),s=void 0),a||(a=this.onAccountsChanged.bind(this),n.on("accountsChanged",a)),o||(o=this.onChainChanged.bind(this),n.on("chainChanged",o)),d||(d=this.onDisconnect.bind(this),n.on("disconnect",d))},async onDisconnect(e){let t=await this.getProvider();e&&1013===e.code&&t&&(await this.getAccounts()).length||(h.emitter.emit("disconnect"),o&&(t.removeListener("chainChanged",o),o=void 0),d&&(t.removeListener("disconnect",d),d=void 0),s||(s=this.onConnect.bind(this),t.on("connect",s)))},onDisplayUri(e){h.emitter.emit("message",{type:"display_uri",data:e})}}))}eX.type="metaMask";var e0=e.i(736515),e0=e0;e.i(371566);var e4=e.i(632553);e.s(["$brand",()=>e4.$brand,"$input",()=>e4.$input,"$output",()=>e4.$output,"NEVER",()=>e4.NEVER,"TimePrecision",()=>e4.TimePrecision,"ZodMiniAny",()=>e4.ZodMiniAny,"ZodMiniArray",()=>e4.ZodMiniArray,"ZodMiniBase64",()=>e4.ZodMiniBase64,"ZodMiniBase64URL",()=>e4.ZodMiniBase64URL,"ZodMiniBigInt",()=>e4.ZodMiniBigInt,"ZodMiniBigIntFormat",()=>e4.ZodMiniBigIntFormat,"ZodMiniBoolean",()=>e4.ZodMiniBoolean,"ZodMiniCIDRv4",()=>e4.ZodMiniCIDRv4,"ZodMiniCIDRv6",()=>e4.ZodMiniCIDRv6,"ZodMiniCUID",()=>e4.ZodMiniCUID,"ZodMiniCUID2",()=>e4.ZodMiniCUID2,"ZodMiniCatch",()=>e4.ZodMiniCatch,"ZodMiniCodec",()=>e4.ZodMiniCodec,"ZodMiniCustom",()=>e4.ZodMiniCustom,"ZodMiniCustomStringFormat",()=>e4.ZodMiniCustomStringFormat,"ZodMiniDate",()=>e4.ZodMiniDate,"ZodMiniDefault",()=>e4.ZodMiniDefault,"ZodMiniDiscriminatedUnion",()=>e4.ZodMiniDiscriminatedUnion,"ZodMiniE164",()=>e4.ZodMiniE164,"ZodMiniEmail",()=>e4.ZodMiniEmail,"ZodMiniEmoji",()=>e4.ZodMiniEmoji,"ZodMiniEnum",()=>e4.ZodMiniEnum,"ZodMiniFile",()=>e4.ZodMiniFile,"ZodMiniFunction",()=>e4.ZodMiniFunction,"ZodMiniGUID",()=>e4.ZodMiniGUID,"ZodMiniIPv4",()=>e4.ZodMiniIPv4,"ZodMiniIPv6",()=>e4.ZodMiniIPv6,"ZodMiniISODate",()=>e4.ZodMiniISODate,"ZodMiniISODateTime",()=>e4.ZodMiniISODateTime,"ZodMiniISODuration",()=>e4.ZodMiniISODuration,"ZodMiniISOTime",()=>e4.ZodMiniISOTime,"ZodMiniIntersection",()=>e4.ZodMiniIntersection,"ZodMiniJWT",()=>e4.ZodMiniJWT,"ZodMiniKSUID",()=>e4.ZodMiniKSUID,"ZodMiniLazy",()=>e4.ZodMiniLazy,"ZodMiniLiteral",()=>e4.ZodMiniLiteral,"ZodMiniMap",()=>e4.ZodMiniMap,"ZodMiniNaN",()=>e4.ZodMiniNaN,"ZodMiniNanoID",()=>e4.ZodMiniNanoID,"ZodMiniNever",()=>e4.ZodMiniNever,"ZodMiniNonOptional",()=>e4.ZodMiniNonOptional,"ZodMiniNull",()=>e4.ZodMiniNull,"ZodMiniNullable",()=>e4.ZodMiniNullable,"ZodMiniNumber",()=>e4.ZodMiniNumber,"ZodMiniNumberFormat",()=>e4.ZodMiniNumberFormat,"ZodMiniObject",()=>e4.ZodMiniObject,"ZodMiniOptional",()=>e4.ZodMiniOptional,"ZodMiniPipe",()=>e4.ZodMiniPipe,"ZodMiniPrefault",()=>e4.ZodMiniPrefault,"ZodMiniPromise",()=>e4.ZodMiniPromise,"ZodMiniReadonly",()=>e4.ZodMiniReadonly,"ZodMiniRecord",()=>e4.ZodMiniRecord,"ZodMiniSet",()=>e4.ZodMiniSet,"ZodMiniString",()=>e4.ZodMiniString,"ZodMiniStringFormat",()=>e4.ZodMiniStringFormat,"ZodMiniSuccess",()=>e4.ZodMiniSuccess,"ZodMiniSymbol",()=>e4.ZodMiniSymbol,"ZodMiniTemplateLiteral",()=>e4.ZodMiniTemplateLiteral,"ZodMiniTransform",()=>e4.ZodMiniTransform,"ZodMiniTuple",()=>e4.ZodMiniTuple,"ZodMiniType",()=>e4.ZodMiniType,"ZodMiniULID",()=>e4.ZodMiniULID,"ZodMiniURL",()=>e4.ZodMiniURL,"ZodMiniUUID",()=>e4.ZodMiniUUID,"ZodMiniUndefined",()=>e4.ZodMiniUndefined,"ZodMiniUnion",()=>e4.ZodMiniUnion,"ZodMiniUnknown",()=>e4.ZodMiniUnknown,"ZodMiniVoid",()=>e4.ZodMiniVoid,"ZodMiniXID",()=>e4.ZodMiniXID,"_default",()=>e4._default,"_function",()=>e4._function,"any",()=>e4.any,"array",()=>e4.array,"base64",()=>e4.base64,"base64url",()=>e4.base64url,"bigint",()=>e4.bigint,"boolean",()=>e4.boolean,"catch",()=>e4.catch,"catchall",()=>e4.catchall,"check",()=>e4.check,"cidrv4",()=>e4.cidrv4,"cidrv6",()=>e4.cidrv6,"clone",()=>e4.clone,"codec",()=>e4.codec,"coerce",()=>e4.coerce,"config",()=>e4.config,"core",()=>e4.core,"cuid",()=>e4.cuid,"cuid2",()=>e4.cuid2,"custom",()=>e4.custom,"date",()=>e4.date,"decode",()=>e4.decode,"decodeAsync",()=>e4.decodeAsync,"discriminatedUnion",()=>e4.discriminatedUnion,"e164",()=>e4.e164,"email",()=>e4.email,"emoji",()=>e4.emoji,"encode",()=>e4.encode,"encodeAsync",()=>e4.encodeAsync,"endsWith",()=>e4.endsWith,"enum",()=>e4.enum,"extend",()=>e4.extend,"file",()=>e4.file,"flattenError",()=>e4.flattenError,"float32",()=>e4.float32,"float64",()=>e4.float64,"formatError",()=>e4.formatError,"function",()=>e4.function,"globalRegistry",()=>e4.globalRegistry,"gt",()=>e4.gt,"gte",()=>e4.gte,"guid",()=>e4.guid,"hash",()=>e4.hash,"hex",()=>e4.hex,"hostname",()=>e4.hostname,"httpUrl",()=>e4.httpUrl,"includes",()=>e4.includes,"instanceof",()=>e4.instanceof,"int",()=>e4.int,"int32",()=>e4.int32,"int64",()=>e4.int64,"intersection",()=>e4.intersection,"ipv4",()=>e4.ipv4,"ipv6",()=>e4.ipv6,"iso",()=>e4.iso,"json",()=>e4.json,"jwt",()=>e4.jwt,"keyof",()=>e4.keyof,"ksuid",()=>e4.ksuid,"lazy",()=>e4.lazy,"length",()=>e4.length,"literal",()=>e4.literal,"locales",()=>e4.locales,"looseObject",()=>e4.looseObject,"lowercase",()=>e4.lowercase,"lt",()=>e4.lt,"lte",()=>e4.lte,"map",()=>e4.map,"maxLength",()=>e4.maxLength,"maxSize",()=>e4.maxSize,"maximum",()=>e4.maximum,"merge",()=>e4.merge,"mime",()=>e4.mime,"minLength",()=>e4.minLength,"minSize",()=>e4.minSize,"minimum",()=>e4.minimum,"multipleOf",()=>e4.multipleOf,"nan",()=>e4.nan,"nanoid",()=>e4.nanoid,"nativeEnum",()=>e4.nativeEnum,"negative",()=>e4.negative,"never",()=>e4.never,"nonnegative",()=>e4.nonnegative,"nonoptional",()=>e4.nonoptional,"nonpositive",()=>e4.nonpositive,"normalize",()=>e4.normalize,"null",()=>e4.null,"nullable",()=>e4.nullable,"nullish",()=>e4.nullish,"number",()=>e4.number,"object",()=>e4.object,"omit",()=>e4.omit,"optional",()=>e4.optional,"overwrite",()=>e4.overwrite,"parse",()=>e4.parse,"parseAsync",()=>e4.parseAsync,"partial",()=>e4.partial,"partialRecord",()=>e4.partialRecord,"pick",()=>e4.pick,"pipe",()=>e4.pipe,"positive",()=>e4.positive,"prefault",()=>e4.prefault,"prettifyError",()=>e4.prettifyError,"promise",()=>e4.promise,"property",()=>e4.property,"readonly",()=>e4.readonly,"record",()=>e4.record,"refine",()=>e4.refine,"regex",()=>e4.regex,"regexes",()=>e4.regexes,"registry",()=>e4.registry,"required",()=>e4.required,"safeDecode",()=>e4.safeDecode,"safeDecodeAsync",()=>e4.safeDecodeAsync,"safeEncode",()=>e4.safeEncode,"safeEncodeAsync",()=>e4.safeEncodeAsync,"safeExtend",()=>e4.safeExtend,"safeParse",()=>e4.safeParse,"safeParseAsync",()=>e4.safeParseAsync,"set",()=>e4.set,"size",()=>e4.size,"startsWith",()=>e4.startsWith,"strictObject",()=>e4.strictObject,"string",()=>e4.string,"stringFormat",()=>e4.stringFormat,"stringbool",()=>e4.stringbool,"success",()=>e4.success,"superRefine",()=>e4.superRefine,"symbol",()=>e4.symbol,"templateLiteral",()=>e4.templateLiteral,"toJSONSchema",()=>e4.toJSONSchema,"toLowerCase",()=>e4.toLowerCase,"toUpperCase",()=>e4.toUpperCase,"transform",()=>e4.transform,"treeifyError",()=>e4.treeifyError,"trim",()=>e4.trim,"tuple",()=>e4.tuple,"uint32",()=>e4.uint32,"uint64",()=>e4.uint64,"ulid",()=>e4.ulid,"undefined",()=>e4.undefined,"union",()=>e4.union,"unknown",()=>e4.unknown,"uppercase",()=>e4.uppercase,"url",()=>e4.url,"util",()=>e4.util,"uuid",()=>e4.uuid,"uuidv4",()=>e4.uuidv4,"uuidv6",()=>e4.uuidv6,"uuidv7",()=>e4.uuidv7,"void",()=>e4.void,"xid",()=>e4.xid,"z",()=>e4.z],346856);var e1=e.i(346856),e1=e1;function e2(t={}){return(0,C.createConnector)(i=>{let n,r,a,o,s,c=i.chains??t.chains??[],d=i.transports?i.transports:t.transports;return{async connect({chainId:e=c[0].id,...t}={}){let i,n="isReconnecting"in t&&t.isReconnecting||!1,d="withCapabilities"in t&&t.withCapabilities||!1,h=[];if(n&&([h,i]=await Promise.all([this.getAccounts().catch(()=>[]),this.getChainId().catch(()=>void 0)]),e&&i!==e)){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===I.UserRejectedRequestError.code)throw e;return{id:i}});i=t?.id??i}let u=await this.getProvider();try{if(!h?.length&&!n){let n=await u.request({method:"wallet_connect",params:[{..."capabilities"in t?{capabilities:e1.encode(e0.wallet_connect.Capabilities,t.capabilities??{})}:{},chainIds:[(0,y.numberToHex)(e),...c.filter(t=>t.id!==e).map(e=>(0,y.numberToHex)(e.id))]}]});h=n.accounts,i=Number(n.chainIds[0])}if(!i)throw new N.ChainNotConfiguredError;return o&&(u.removeListener("connect",o),o=void 0),r||(r=this.onAccountsChanged.bind(this),u.on("accountsChanged",r)),a||(a=this.onChainChanged.bind(this),u.on("chainChanged",a)),s||(s=this.onDisconnect.bind(this),u.on("disconnect",s)),{accounts:h.map(e=>"object"==typeof e?d?e:e.address:d?{address:e,capabilities:{}}:e),chainId:i}}catch(e){if(e.code===I.UserRejectedRequestError.code)throw new I.UserRejectedRequestError(e);throw e}},async disconnect(){let e=await this.getProvider();a&&(e.removeListener("chainChanged",a),a=void 0),s&&(e.removeListener("disconnect",s),s=void 0),o||(o=this.onConnect.bind(this),e.on("connect",o)),await e.request({method:"wallet_disconnect"})},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,w.getAddress)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},getPortoInstance:async()=>(n??=(async()=>{let{Porto:i}=await e.A(819630);return i.create({...t,announceProvider:!1,chains:c,transports:d})})(),await n),async getProvider(){return(await this.getPortoInstance()).provider},icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIyIiBoZWlnaHQ9IjQyMiIgdmlld0JveD0iMCAwIDQyMiA0MjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MjIiIGhlaWdodD0iNDIyIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV8xNSkiPgo8cGF0aCBkPSJNODEgMjg2LjM2NkM4MSAyODAuODkzIDg1LjQ1MDUgMjc2LjQ1NSA5MC45NDA0IDI3Ni40NTVIMzI5LjUxMUMzMzUuMDAxIDI3Ni40NTUgMzM5LjQ1MiAyODAuODkzIDMzOS40NTIgMjg2LjM2NlYzMDYuMTg4QzMzOS40NTIgMzExLjY2MiAzMzUuMDAxIDMxNi4wOTkgMzI5LjUxMSAzMTYuMDk5SDkwLjk0MDRDODUuNDUwNSAzMTYuMDk5IDgxIDMxMS42NjIgODEgMzA2LjE4OFYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAyMzQuODI4Qzg1LjQ1MDUgMjM0LjgyOCA4MSAyMzkuMjY2IDgxIDI0NC43MzlWMjcxLjUzMUM4My44NDMyIDI2OS42MzMgODcuMjYyMiAyNjguNTI2IDkwLjk0MDQgMjY4LjUyNkgzMjkuNTExQzMzMy4xODggMjY4LjUyNiAzMzYuNjA4IDI2OS42MzMgMzM5LjQ1MiAyNzEuNTMxVjI0NC43MzlDMzM5LjQ1MiAyMzkuMjY2IDMzNS4wMDEgMjM0LjgyOCAzMjkuNTExIDIzNC44MjhIOTAuOTQwNFpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgwLjg5MyAzMzUuMDAxIDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTlDODEgMzExLjY2NCA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2NCAzMzkuNDUyIDMwNi4xOVYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAxOTMuMjAxQzg1LjQ1MDUgMTkzLjIwMSA4MSAxOTcuNjM4IDgxIDIwMy4xMTJWMjI5LjkwM0M4My44NDMyIDIyOC4wMDYgODcuMjYyMiAyMjYuODk5IDkwLjk0MDQgMjI2Ljg5OUgzMjkuNTExQzMzMy4xODggMjI2Ljg5OSAzMzYuNjA4IDIyOC4wMDYgMzM5LjQ1MiAyMjkuOTAzVjIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNFpNMzM5LjQ1MiAyNDQuNzM5QzMzOS40NTIgMjM5LjI2NSAzMzUuMDAxIDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNDODEuMjE3NSAyNzEuMzg1IDgxLjQzODMgMjcxLjI0NSA4MS42NjI0IDI3MS4xMDlDODMuODMyNSAyNjkuNzk0IDg2LjMwNTQgMjY4LjkyNyA4OC45NTIzIDI2OC42MzVDODkuNjA1MSAyNjguNTYzIDkwLjI2ODQgMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMzAuMTgzIDI2OC41MjYgMzMwLjg0NiAyNjguNTYzIDMzMS40OTggMjY4LjYzNUMzMzQuNDE5IDI2OC45NTcgMzM3LjEyOCAyNjkuOTggMzM5LjQ1MiAyNzEuNTNWMjQ0LjczOVpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgxLjAyMSAzMzUuMjA2IDI3Ni42NjMgMzI5Ljg5MyAyNzYuNDYyQzMyOS43NjcgMjc2LjQ1NyAzMjkuNjQgMjc2LjQ1NSAzMjkuNTExIDI3Ni40NTVIOTAuOTQwNEM4NS40NTA1IDI3Ni40NTUgODEgMjgwLjg5MyA4MSAyODYuMzY2VjMwNi4xODhDODEgMzExLjY2MiA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2MiAzMzkuNDUyIDMwNi4xODhWMjg2LjM2NloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNSIvPgo8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTguMDE0NiAxMDRDODguNjE3NyAxMDQgODEgMTExLjU5NSA4MSAxMjAuOTY1VjE4OC4yNzZDODMuODQzMiAxODYuMzc5IDg3LjI2MjIgMTg1LjI3MiA5MC45NDA0IDE4NS4yNzJIMzI5LjUxMUMzMzMuMTg4IDE4NS4yNzIgMzM2LjYwOCAxODYuMzc5IDMzOS40NTIgMTg4LjI3NlYxMjAuOTY1QzMzOS40NTIgMTExLjU5NSAzMzEuODMzIDEwNCAzMjIuNDM3IDEwNEg5OC4wMTQ2Wk0zMzkuNDUyIDIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNEM4NS40NTA1IDE5My4yMDEgODEgMTk3LjYzOCA4MSAyMDMuMTEyVjIyOS45MDNDODEuMjE3NSAyMjkuNzU4IDgxLjQzODMgMjI5LjYxOCA4MS42NjI0IDIyOS40ODJDODMuODMyNSAyMjguMTY3IDg2LjMwNTQgMjI3LjMgODguOTUyMyAyMjcuMDA4Qzg5LjYwNTEgMjI2LjkzNiA5MC4yNjg0IDIyNi44OTkgOTAuOTQwNCAyMjYuODk5SDMyOS41MTFDMzMwLjE4MyAyMjYuODk5IDMzMC44NDYgMjI2LjkzNiAzMzEuNDk4IDIyNy4wMDhDMzM0LjQxOSAyMjcuMzMgMzM3LjEyOCAyMjguMzUyIDMzOS40NTIgMjI5LjkwM1YyMDMuMTEyWk0zMzkuNDUyIDI0NC43MzlDMzM5LjQ1MiAyMzkuMzkzIDMzNS4yMDYgMjM1LjAzNiAzMjkuODkzIDIzNC44MzVDMzI5Ljc2NyAyMzQuODMgMzI5LjY0IDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNMODEuMDcwNyAyNzEuNDgzQzgxLjI2NTMgMjcxLjM1NSA4MS40NjI1IDI3MS4yMyA4MS42NjI0IDI3MS4xMDlDODEuOTA4MyAyNzAuOTYgODIuMTU4MSAyNzAuODE3IDgyLjQxMTcgMjcwLjY3OUM4NC4zOTUzIDI2OS42MDUgODYuNjA1NCAyNjguODk0IDg4Ljk1MjMgMjY4LjYzNUM4OS4wMDUyIDI2OC42MjkgODkuMDU4IDI2OC42MjQgODkuMTExIDI2OC42MThDODkuNzEyNSAyNjguNTU3IDkwLjMyMjggMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMjkuNzM4IDI2OC41MjYgMzI5Ljk2NSAyNjguNTMgMzMwLjE5MiAyNjguNTM5QzMzMC42MzEgMjY4LjU1NSAzMzEuMDY3IDI2OC41ODcgMzMxLjQ5OCAyNjguNjM1QzMzNC40MTkgMjY4Ljk1NyAzMzcuMTI4IDI2OS45OCAzMzkuNDUyIDI3MS41M1YyNDQuNzM5Wk0zMzkuNDUyIDI4Ni4zNjZDMzM5LjQ1MiAyODEuMDIxIDMzNS4yMDYgMjc2LjY2MyAzMjkuODkzIDI3Ni40NjJMMzI5Ljg2NSAyNzYuNDYxQzMyOS43NDggMjc2LjQ1NyAzMjkuNjI5IDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTg4QzgxIDMxMS42NjIgODUuNDUwNSAzMTYuMTAxIDkwLjk0MDQgMzE2LjEwMUgzMjkuNTExQzMzNS4wMDEgMzE2LjEwMSAzMzkuNDUyIDMxMS42NjIgMzM5LjQ1MiAzMDYuMTg4VjI4Ni4zNjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjY5Ljg2OCAxMzEuNzUyQzI2OS44NjggMTI2LjI3OCAyNzQuMzE4IDEyMS44NCAyNzkuODA4IDEyMS44NEgzMTEuNjE4QzMxNy4xMDggMTIxLjg0IDMyMS41NTggMTI2LjI3OCAzMjEuNTU4IDEzMS43NTJWMTYxLjQ4NUMzMjEuNTU4IDE2Ni45NTkgMzE3LjEwOCAxNzEuMzk2IDMxMS42MTggMTcxLjM5NkgyNzkuODA4QzI3NC4zMTggMTcxLjM5NiAyNjkuODY4IDE2Ni45NTkgMjY5Ljg2OCAxNjEuNDg1VjEzMS43NTJaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzFfMTUiPgo8cmVjdCB3aWR0aD0iMjU5IiBoZWlnaHQ9IjIxMyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgxIDEwNCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",id:"xyz.ithaca.porto",async isAuthorized(){try{return!!(await (0,e$.withRetry)(()=>this.getAccounts())).length}catch{return!1}},name:"Porto",async onAccountsChanged(e){i.emitter.emit("change",{accounts:e.map(e=>(0,w.getAddress)(e))})},onChainChanged(e){let t=Number(e);i.emitter.emit("change",{chainId:t})},async onConnect(e){let t=await this.getAccounts();if(0===t.length)return;let n=Number(e.chainId);i.emitter.emit("connect",{accounts:t,chainId:n});let c=await this.getProvider();c&&(o&&(c.removeListener("connect",o),o=void 0),r||(r=this.onAccountsChanged.bind(this),c.on("accountsChanged",r)),a||(a=this.onChainChanged.bind(this),c.on("chainChanged",a)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s)))},async onDisconnect(e){let t=await this.getProvider();i.emitter.emit("disconnect"),t&&(a&&(t.removeListener("chainChanged",a),a=void 0),s&&(t.removeListener("disconnect",s),s=void 0),o||(o=this.onConnect.bind(this),t.on("connect",o)))},async setup(){if(!o){let e=await this.getProvider();o=this.onConnect.bind(this),e.on("connect",o)}},async switchChain({chainId:e}){let t=c.find(t=>t.id===e);if(!t)throw new I.SwitchChainError(new N.ChainNotConfiguredError);let i=await this.getProvider();return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,y.numberToHex)(e)}]}),t},type:"injected"}})}function e5(t={}){let i,n,{shimDisconnect:r=!1}=t;return(0,C.createConnector)(a=>({id:"safe",name:"Safe",type:e5.type,async connect({withCapabilities:e}={}){let t=await this.getProvider();if(!t)throw new eB.ProviderNotFoundError;let i=await this.getAccounts(),o=await this.getChainId();return n||(n=this.onDisconnect.bind(this),t.on("disconnect",n)),r&&await a.storage?.removeItem("safe.disconnected"),{accounts:e?i.map(e=>({address:e,capabilities:{}})):i,chainId:o}},async disconnect(){let e=await this.getProvider();if(!e)throw new eB.ProviderNotFoundError;n&&(e.removeListener("disconnect",n),n=void 0),r&&await a.storage?.setItem("safe.disconnected",!0)},async getAccounts(){let e=await this.getProvider();if(!e)throw new eB.ProviderNotFoundError;return(await e.request({method:"eth_accounts"})).map(w.getAddress)},async getProvider(){if("undefined"!=typeof window&&window?.parent!==window){if(!i){let{default:n}=await e.A(900335),r=new n(t),a=await (0,eV.withTimeout)(()=>r.safe.getInfo(),{timeout:t.unstable_getInfoTimeout??10});if(!a)throw Error("Could not load Safe information");i=new(await (async()=>{let t=await e.A(458501);return"function"!=typeof t.SafeAppProvider&&"function"==typeof t.default.SafeAppProvider?t.default.SafeAppProvider:t.SafeAppProvider})())(a,r)}return i}},async getChainId(){let e=await this.getProvider();if(!e)throw new eB.ProviderNotFoundError;return Number(e.chainId)},async isAuthorized(){try{if(r&&await a.storage?.getItem("safe.disconnected"))return!1;return!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){a.emitter.emit("disconnect")}}))}function e3(t){let i,n,r,a,o,s,c,d,h=t.isNewChainsStale??!0;return(0,C.createConnector)(u=>({id:"walletConnect",name:"WalletConnect",type:e3.type,async setup(){let e=await this.getProvider().catch(()=>null);e&&(o||(o=this.onConnect.bind(this),e.on("connect",o)),c||(c=this.onSessionDelete.bind(this),e.on("session_delete",c)))},async connect({chainId:e,withCapabilities:t,...i}={}){try{let n=await this.getProvider();if(!n)throw new eB.ProviderNotFoundError;s||(s=this.onDisplayUri,n.on("display_uri",s));let h=e;if(!h){let e=await u.storage?.getItem("state")??{};h=u.chains.some(t=>t.id===e.chainId)?e.chainId:u.chains[0]?.id}if(!h)throw Error("No chains found on connector.");let l=await this.isChainsStale();if(n.session&&l&&await n.disconnect(),!n.session||l){let e=u.chains.filter(e=>e.id!==h).map(e=>e.id);await n.connect({optionalChains:[h,...e],..."pairingTopic"in i?{pairingTopic:i.pairingTopic}:{}}),this.setRequestedChainsIds(u.chains.map(e=>e.id))}let g=(await n.enable()).map(e=>(0,w.getAddress)(e)),m=await this.getChainId();if(e&&m!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===I.UserRejectedRequestError.code&&e.cause?.message!=="Missing or invalid. request() method: wallet_addEthereumChain")throw e;return{id:m}});m=t?.id??m}return s&&(n.removeListener("display_uri",s),s=void 0),o&&(n.removeListener("connect",o),o=void 0),r||(r=this.onAccountsChanged.bind(this),n.on("accountsChanged",r)),a||(a=this.onChainChanged.bind(this),n.on("chainChanged",a)),d||(d=this.onDisconnect.bind(this),n.on("disconnect",d)),c||(c=this.onSessionDelete.bind(this),n.on("session_delete",c)),{accounts:t?g.map(e=>({address:e,capabilities:{}})):g,chainId:m}}catch(e){if(/(user rejected|connection request reset)/i.test(e?.message))throw new I.UserRejectedRequestError(e);throw e}},async disconnect(){let e=await this.getProvider();try{await e?.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}finally{a&&(e?.removeListener("chainChanged",a),a=void 0),d&&(e?.removeListener("disconnect",d),d=void 0),o||(o=this.onConnect.bind(this),e?.on("connect",o)),r&&(e?.removeListener("accountsChanged",r),r=void 0),c&&(e?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(e=>(0,w.getAddress)(e))},async getProvider({chainId:r}={}){async function a(){let i=u.chains.map(e=>e.id);if(!i.length)return;let{EthereumProvider:n}=await e.A(481710);return await n.init({...t,disableProviderPing:!0,optionalChains:i,projectId:t.projectId,rpcMap:Object.fromEntries(u.chains.map(e=>{let[t]=eK({chain:e,transports:u.transports});return[e.id,t]})),showQrModal:t.showQrModal??!0})}return i||(n||(n=a()),i=await n,i?.events.setMaxListeners(1/0)),r&&await this.switchChain?.({chainId:r}),i},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{let[e,t]=await Promise.all([this.getAccounts(),this.getProvider()]);if(!e.length)return!1;if(await this.isChainsStale()&&t.session)return await t.disconnect().catch(()=>{}),!1;return!0}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:t}){let i=await this.getProvider();if(!i)throw new eB.ProviderNotFoundError;let n=u.chains.find(e=>e.id===t);if(!n)throw new I.SwitchChainError(new N.ChainNotConfiguredError);try{await Promise.all([new Promise(e=>{let i=({chainId:n})=>{n===t&&(u.emitter.off("change",i),e())};u.emitter.on("change",i)}),i.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,y.numberToHex)(t)}]})]);let e=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...e,t]),n}catch(r){if(/(user rejected)/i.test(r.message))throw new I.UserRejectedRequestError(r);try{let r,a;r=e?.blockExplorerUrls?e.blockExplorerUrls:n.blockExplorers?.default.url?[n.blockExplorers?.default.url]:[],a=e?.rpcUrls?.length?e.rpcUrls:[...n.rpcUrls.default.http];let o={blockExplorerUrls:r,chainId:(0,y.numberToHex)(t),chainName:e?.chainName??n.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??n.nativeCurrency,rpcUrls:a};await i.request({method:"wallet_addEthereumChain",params:[o]});let s=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...s,t]),n}catch(e){throw new I.UserRejectedRequestError(e)}}},onAccountsChanged(e){0===e.length?this.onDisconnect():u.emitter.emit("change",{accounts:e.map(e=>(0,w.getAddress)(e))})},onChainChanged(e){let t=Number(e);u.emitter.emit("change",{chainId:t})},async onConnect(e){let t=Number(e.chainId),i=await this.getAccounts();u.emitter.emit("connect",{accounts:i,chainId:t})},async onDisconnect(e){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");let t=await this.getProvider();r&&(t.removeListener("accountsChanged",r),r=void 0),a&&(t.removeListener("chainChanged",a),a=void 0),d&&(t.removeListener("disconnect",d),d=void 0),c&&(t.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),t.on("connect",o))},onDisplayUri(e){u.emitter.emit("message",{type:"display_uri",data:e})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds:()=>i?i.session?.namespaces.eip155?.accounts?.map(e=>Number.parseInt(e.split(":")[1]||"",10))??[]:[],async getRequestedChainsIds(){return await u.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!h)return!1;let e=u.chains.map(e=>e.id),t=this.getNamespaceChainsIds();if(t.length&&!t.some(t=>e.includes(t)))return!1;let i=await this.getRequestedChainsIds();return!e.every(e=>i.includes(e))},async setRequestedChainsIds(e){await u.storage?.setItem(this.requestedChainsStorageKey,e)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}e5.type="safe",e3.type="walletConnect",e.s(["baseAccount",()=>j,"coinbaseWallet",()=>A,"gemini",()=>eH,"injected",()=>g.injected,"metaMask",()=>eX,"mock",()=>v,"porto",()=>e2,"safe",()=>e5,"version",0,"6.1.3","walletConnect",()=>e3],556934)}]);