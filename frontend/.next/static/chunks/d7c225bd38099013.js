(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,282399,e=>{"use strict";var t=e.i(574744);async function r(e,{address:r,blockNumber:i,blockTag:n="latest"}){let s=void 0!==i?(0,t.numberToHex)(i):void 0,a=await e.request({method:"eth_getCode",params:[r,s||n]},{dedupe:!!s});if("0x"!==a)return a}e.s(["getCode",()=>r])},199666,e=>{"use strict";var t=e.i(798138);class r extends t.BaseError{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}var i=e.i(865681),n=e.i(969862);async function s(e,t){let{address:s,factory:o,factoryData:u}=t;try{let[t,r,c,l,d,f,p]=await (0,i.getAction)(e,n.readContract,"readContract")({abi:a,address:s,functionName:"eip712Domain",factory:o,factoryData:u});return{domain:{name:r,version:c,chainId:Number(l),verifyingContract:d,salt:f},extensions:p,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new r({address:s});throw e}}let a=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];e.s(["getEip712Domain",()=>s],199666)},396697,e=>{"use strict";var t=e.i(476443),r=e.i(707057),i=e.i(664672),n=e.i(75193);function s(e){let s;if("string"==typeof e)s=(0,n.parseSignature)(e);else{let t=(0,i.parseStructs)(e),a=e.length;for(let i=0;i<a;i++){let a=e[i];if(!(0,r.isStructSignature)(a)){s=(0,n.parseSignature)(a,t);break}}}if(!s)throw new t.InvalidAbiItemError({signature:e});return s}e.s(["parseAbiItem",()=>s])},965723,e=>{"use strict";e.i(815368);var t=e.i(120089),r=e.i(62600),i=e.i(306997),n=e.i(375024);function s(e,r={}){let{as:a="string"==typeof e?"Hex":"Bytes"}=r,o=(0,t.keccak_256)(i.from(e));return"Bytes"===a?o:n.fromBytes(o)}function a(e,t={}){let{as:s="string"==typeof e?"Hex":"Bytes"}=t,o=(0,r.sha256)(i.from(e));return"Bytes"===s?o:n.fromBytes(o)}e.s(["keccak256",()=>s,"sha256",()=>a])},314732,e=>{"use strict";class t extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let r={checksum:new t(8192)}.checksum;e.s(["checksum",0,r],314732)},764674,918785,e=>{"use strict";var t=e.i(306997),r=e.i(314732),i=e.i(958046),n=e.i(965723),s=i,a=e.i(375024),o=e.i(139655);function u(e,t={}){let{compressed:r}=t,{prefix:i,x:n,y:s}=e;if(!1===r||"bigint"==typeof n&&"bigint"==typeof s){if(4!==i)throw new h({prefix:i,cause:new b});return}if(!0===r||"bigint"==typeof n&&void 0===s){if(3!==i&&2!==i)throw new h({prefix:i,cause:new m});return}throw new p({publicKey:e})}function c(e){let r=(()=>{if(a.validate(e))return l(e);if(t.validate(e)){var r;return r=e,l(a.fromBytes(r))}let{prefix:i,x:n,y:s}=e;return"bigint"==typeof n&&"bigint"==typeof s?{prefix:i??4,x:n,y:s}:{prefix:i,x:n}})();return u(r),r}function l(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new y({publicKey:e});if(130===e.length)return{prefix:4,x:BigInt(a.slice(e,0,32)),y:BigInt(a.slice(e,32,64))};if(132===e.length){let t=Number(a.slice(e,0,1));return{prefix:t,x:BigInt(a.slice(e,1,33)),y:BigInt(a.slice(e,33,65))}}return{prefix:Number(a.slice(e,0,1)),x:BigInt(a.slice(e,1,33))}}function d(e,r={}){return t.fromHex(f(e,r))}function f(e,t={}){u(e);let{prefix:r,x:i,y:n}=e,{includePrefix:s=!0}=t;return a.concat(s?a.fromNumber(r,{size:1}):"0x",a.fromNumber(i,{size:32}),"bigint"==typeof n?a.fromNumber(n,{size:32}):"0x")}class p extends s.BaseError{constructor({publicKey:e}){super(`Value \`${o.stringify(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class h extends s.BaseError{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class m extends s.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class b extends s.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class y extends s.BaseError{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${a.size(a.from(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}e.s(["from",()=>c,"fromHex",()=>l,"toBytes",()=>d,"toHex",()=>f],918785);let g=/^0x[a-fA-F0-9]{40}$/;function v(e,t={}){let{strict:r=!0}=t;if(!g.test(e))throw new A({address:e,cause:new I});if(r){if(e.toLowerCase()===e)return;if(w(e)!==e)throw new A({address:e,cause:new S})}}function w(e){if(r.checksum.has(e))return r.checksum.get(e);v(e,{strict:!1});let i=e.substring(2).toLowerCase(),s=n.keccak256(t.fromString(i),{as:"Bytes"}),a=i.split("");for(let e=0;e<40;e+=2)s[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&s[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());let o=`0x${a.join("")}`;return r.checksum.set(e,o),o}function x(e,t={}){let{checksum:r=!1}=t;return(v(e),r)?w(e):e}function P(e,t={}){let r=n.keccak256(`0x${f(e).slice(4)}`).substring(26);return x(`0x${r}`,t)}function E(e,t){return v(e,{strict:!1}),v(t,{strict:!1}),e.toLowerCase()===t.toLowerCase()}function B(e,t={}){let{strict:r=!0}=t??{};try{return v(e,{strict:r}),!0}catch{return!1}}class A extends i.BaseError{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class I extends i.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class S extends i.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}e.s(["InvalidAddressError",()=>A,"InvalidInputError",()=>I,"assert",()=>v,"checksum",()=>w,"from",()=>x,"fromPublicKey",()=>P,"isEqual",()=>E,"validate",()=>B],764674)},969016,e=>{"use strict";var t=e.i(67126),r=e.i(396697),i=e.i(958046),n=e.i(965723),s=e.i(375024),a=e.i(764674);function o(e){let t=!0,r="",n=0,s="",a=!1;for(let i=0;i<e.length;i++){let o=e[i];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function","error",""].includes(s))s="";else if(s+=o,")"===o){a=!0;break}continue}if(" "===o){","!==e[i-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}s+=o,r+=o}}if(!a)throw new i.BaseError("Unable to normalize signature.");return s}function u(e,t={}){let{prepare:i=!0}=t,n=Array.isArray(e)||"string"==typeof e?r.parseAbiItem(e):e;return{...n,...i?{hash:d(n)}:{}}}function c(e,t,r){let i,{args:n=[],prepare:o=!0}=r??{},u=s.validate(t,{strict:!1}),c=e.filter(e=>u?"function"===e.type||"error"===e.type?l(e)===s.slice(t,0,4):"event"===e.type&&d(e)===t:"name"in e&&e.name===t);if(0===c.length)throw new p({name:t});if(1===c.length)return{...c[0],...o?{hash:d(c[0])}:{}};for(let e of c){if("inputs"in e){if(!n||0===n.length){if(!e.inputs||0===e.inputs.length)return{...e,...o?{hash:d(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===n.length&&n.every((t,r)=>{let i="inputs"in e&&e.inputs[r];return!!i&&function e(t,r){let i=typeof t,n=r.type;switch(n){case"address":return a.validate(t,{strict:!1});case"bool":return"boolean"===i;case"function":case"string":return"string"===i;default:if("tuple"===n&&"components"in r)return Object.values(r.components).every((r,i)=>e(Object.values(t)[i],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n))return"number"===i||"bigint"===i;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n))return"string"===i||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:n.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,i)})){if(i&&"inputs"in i&&i.inputs){let t=function e(t,r,i){for(let n in t){let s=t[n],o=r[n];if("tuple"===s.type&&"tuple"===o.type&&"components"in s&&"components"in o)return e(s.components,o.components,i[n]);let u=[s.type,o.type];if(u.includes("address")&&u.includes("bytes20")||(u.includes("address")&&u.includes("string")||u.includes("address")&&u.includes("bytes"))&&a.validate(i[n],{strict:!1}))return u}}(e.inputs,i.inputs,n);if(t)throw new f({abiItem:e,type:t[0]},{abiItem:i,type:t[1]})}i=e}}}let h=(()=>{if(i)return i;let[e,...t]=c;return{...e,overloads:t}})();if(!h)throw new p({name:t});return{...h,...o?{hash:d(h)}:{}}}function l(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return c(t,r)}return e[0]})();return s.slice(d(t),0,4)}function d(...e){let r=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return c(t,r)}return e[0]})();return"string"!=typeof r&&"hash"in r&&r.hash?r.hash:n.keccak256(s.fromString(function(...e){let r=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return c(t,r)}return e[0]})();return o("string"==typeof r?r:t.formatAbiItem(r))}(r)))}class f extends i.BaseError{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${o(t.formatAbiItem(e.abiItem))}\`, and`,`\`${r.type}\` in \`${o(t.formatAbiItem(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class p extends i.BaseError{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}class h extends i.BaseError{constructor({data:e}){super(`Selector size is invalid. Expected 4 bytes. Received ${s.size(e)} bytes ("${e}").`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.InvalidSelectorSizeError"})}}e.s(["InvalidSelectorSizeError",()=>h,"NotFoundError",()=>p,"from",()=>u,"fromAbi",()=>c,"getSelector",()=>l],969016)},575520,e=>{"use strict";var t=e.i(272479),r=e.i(707057),i=e.i(664672),n=e.i(75193);function s(e){let s=[];if("string"==typeof e){let t=(0,n.splitParameters)(e),i=t.length;for(let e=0;e<i;e++)s.push((0,n.parseAbiParameter)(t[e],{modifiers:r.modifiers}))}else{let t=(0,i.parseStructs)(e),a=e.length;for(let i=0;i<a;i++){let a=e[i];if((0,r.isStructSignature)(a))continue;let o=(0,n.splitParameters)(a),u=o.length;for(let e=0;e<u;e++)s.push((0,n.parseAbiParameter)(o[e],{modifiers:r.modifiers,structs:t}))}}if(0===s.length)throw new t.InvalidAbiParametersError({params:e});return s}e.s(["parseAbiParameters",()=>s])},637066,e=>{"use strict";e.s(["arrayRegex",0,/^(.*)\[([0-9]*)\]$/,"bytesRegex",0,/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,"integerRegex",0,/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,"maxUint256",0,2n**256n-1n])},741188,459862,e=>{"use strict";e.s(["ArrayLengthMismatchError",()=>E,"BytesSizeMismatchError",()=>B,"InvalidArrayError",()=>I,"InvalidTypeError",()=>S,"decode",()=>y,"encode",()=>g,"encodePacked",()=>v,"from",()=>w],741188);var t=e.i(595988),r=e.i(575520),i=e.i(764674),n=e.i(306997),s=e.i(958046),a=e.i(375024),o=e.i(637066);function u(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:i,encoded:n}=e[r];i?t+=32:t+=a.size(n)}let r=[],i=[],n=0;for(let s=0;s<e.length;s++){let{dynamic:o,encoded:u}=e[s];o?(r.push(a.fromNumber(t+n,{size:32})),i.push(u),n+=a.size(u)):r.push(u)}return a.concat(...r,...i)}function c(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function l(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(l);let r=c(e.type);return!!(r&&l({...e,type:r[1]}))}var d=s;let f={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new b({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new m({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new h({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new h({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function p(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(f);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}class h extends d.BaseError{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class m extends d.BaseError{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class b extends d.BaseError{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function y(e,t,r={}){let{as:s="Array",checksumAddress:o=!1}=r,u="string"==typeof t?n.fromHex(t):t,d=p(u);if(0===n.size(u)&&e.length>0)throw new P;if(n.size(u)&&32>n.size(u))throw new x({data:"string"==typeof t?t:a.fromBytes(t),parameters:e,size:n.size(u)});let f=0,h="Array"===s?[]:{};for(let t=0;t<e.length;++t){let r=e[t];d.setPosition(f);let[u,p]=function e(t,r,s){var o,u,d;let{checksumAddress:f,staticPosition:p}=s,h=c(r.type);if(h){let[i,s]=h;return function(t,r,i){let{checksumAddress:s,length:a,staticPosition:o}=i;if(!a){let i=o+n.toNumber(t.readBytes(32)),a=i+32;t.setPosition(i);let u=n.toNumber(t.readBytes(32)),c=l(r),d=0,f=[];for(let i=0;i<u;++i){t.setPosition(a+(c?32*i:d));let[n,o]=e(t,r,{checksumAddress:s,staticPosition:a});d+=o,f.push(n)}return t.setPosition(o+32),[f,32]}if(l(r)){let i=o+n.toNumber(t.readBytes(32)),u=[];for(let n=0;n<a;++n){t.setPosition(i+32*n);let[a]=e(t,r,{checksumAddress:s,staticPosition:i});u.push(a)}return t.setPosition(o+32),[u,32]}let u=0,c=[];for(let i=0;i<a;++i){let[i,n]=e(t,r,{checksumAddress:s,staticPosition:o+u});u+=n,c.push(i)}return[c,u]}(t,{...r,type:s},{checksumAddress:f,length:i,staticPosition:p})}if("tuple"===r.type)return function(t,r,i){let{checksumAddress:s,staticPosition:a}=i,o=0===r.components.length||r.components.some(({name:e})=>!e),u=o?[]:{},c=0;if(l(r)){let i=a+n.toNumber(t.readBytes(32));for(let n=0;n<r.components.length;++n){let a=r.components[n];t.setPosition(i+c);let[l,d]=e(t,a,{checksumAddress:s,staticPosition:i});c+=d,u[o?n:a?.name]=l}return t.setPosition(a+32),[u,32]}for(let i=0;i<r.components.length;++i){let n=r.components[i],[l,d]=e(t,n,{checksumAddress:s,staticPosition:a});u[o?i:n?.name]=l,c+=d}return[u,c]}(t,r,{checksumAddress:f,staticPosition:p});if("address"===r.type)return function(e,t={}){let r,{checksum:s=!1}=t,o=e.readBytes(32);return[(r=a.fromBytes(n.slice(o,-20)),s?i.checksum(r):r),32]}(t,{checksum:f});if("bool"===r.type){return o=t,[n.toBoolean(o.readBytes(32),{size:32}),32]}if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[i,s]=t.type.split("bytes");if(!s){let t=n.toNumber(e.readBytes(32));e.setPosition(r+t);let i=n.toNumber(e.readBytes(32));if(0===i)return e.setPosition(r+32),["0x",32];let s=e.readBytes(i);return e.setPosition(r+32),[a.fromBytes(s),32]}return[a.fromBytes(e.readBytes(Number.parseInt(s,10),32)),32]}(t,r,{staticPosition:p});if(r.type.startsWith("uint")||r.type.startsWith("int")){let e,i,s;return u=t,e=(d=r).type.startsWith("int"),i=Number.parseInt(d.type.split("int")[1]||"256",10),s=u.readBytes(32),[i>48?n.toBigInt(s,{signed:e}):n.toNumber(s,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=n.toNumber(e.readBytes(32));e.setPosition(t+r);let i=n.toNumber(e.readBytes(32));if(0===i)return e.setPosition(t+32),["",32];let s=e.readBytes(i,32),a=n.toString(n.trimLeft(s));return e.setPosition(t+32),[a,32]}(t,{staticPosition:p});throw new S(r.type)}(d,r,{checksumAddress:o,staticPosition:0});f+=p,"Array"===s?h.push(u):h[r.name??t]=u}return h}function g(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new A({expectedLength:e.length,givenLength:t.length});let l=u(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let l=0;l<t.length;l++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let l=c(r.type);if(l){let[i,s]=l;return function(t,r){let{checksumAddress:i,length:n,parameter:s}=r,o=null===n;if(!Array.isArray(t))throw new I(t);if(!o&&t.length!==n)throw new E({expectedLength:n,givenLength:t.length,type:`${s.type}[${n}]`});let c=!1,l=[];for(let r=0;r<t.length;r++){let n=e({checksumAddress:i,parameter:s,value:t[r]});n.dynamic&&(c=!0),l.push(n)}if(o||c){let e=u(l);if(o){let t=a.fromNumber(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?a.concat(t,e):t}}if(c)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:a.concat(...l.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:i,parameter:{...r,type:s}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:i,parameter:n}=r,s=!1,o=[];for(let r=0;r<n.components.length;r++){let a=n.components[r],u=Array.isArray(t)?r:a.name,c=e({checksumAddress:i,parameter:a,value:t[u]});o.push(c),c.dynamic&&(s=!0)}return{dynamic:s,encoded:s?u(o):a.concat(...o.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type)return function(e,t){let{checksum:r=!1}=t;return i.assert(e,{strict:r}),{dynamic:!1,encoded:a.padLeft(e.toLowerCase())}}(n,{checksum:t});if("bool"===r.type){var d=n;if("boolean"!=typeof d)throw new s.BaseError(`Invalid boolean value: "${d}" (type: ${typeof d}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:a.padLeft(a.fromBoolean(d))}}if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=o.integerRegex.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let i=2n**(BigInt(r)-(t?1n:0n))-1n,n=t?-i-1n:0n;if(e>i||e<n)throw new a.IntegerOutOfRangeError({max:i.toString(),min:n.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:a.fromNumber(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),i=a.size(e);if(!r){let t=e;return i%32!=0&&(t=a.padRight(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:a.concat(a.padLeft(a.fromNumber(i,{size:32})),t)}}if(i!==Number.parseInt(r,10))throw new B({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:a.padRight(e)}}(n,{type:r.type});if("string"===r.type){var f=n;let e=a.fromString(f),t=Math.ceil(a.size(e)/32),r=[];for(let i=0;i<t;i++)r.push(a.padRight(a.slice(e,32*i,(i+1)*32)));return{dynamic:!0,encoded:a.concat(a.padRight(a.fromNumber(a.size(e),{size:32})),...r)}}throw new S(r.type)}({checksumAddress:e,parameter:t[l],value:r[l]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===l.length?"0x":l}function v(e,t){if(e.length!==t.length)throw new A({expectedLength:e.length,givenLength:t.length});let r=[];for(let i=0;i<e.length;i++){let n=e[i],s=t[i];r.push(v.encode(n,s))}return a.concat(...r)}function w(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?r.parseAbiParameters(e):e}e.s(["create",()=>p],459862),(v||(v={})).encode=function e(t,r,n=!1){if("address"===t)return i.assert(r),a.padLeft(r.toLowerCase(),32*!!n);if("string"===t)return a.fromString(r);if("bytes"===t)return r;if("bool"===t)return a.padLeft(a.fromBoolean(r),n?32:1);let s=t.match(o.integerRegex);if(s){let[e,t,i="256"]=s,o=Number.parseInt(i,10)/8;return a.fromNumber(r,{size:n?32:o,signed:"int"===t})}let u=t.match(o.bytesRegex);if(u){let[e,t]=u;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new B({expectedSize:Number.parseInt(t,10),value:r});return a.padRight(r,32*!!n)}let c=t.match(o.arrayRegex);if(c&&Array.isArray(r)){let[t,i]=c,n=[];for(let t=0;t<r.length;t++)n.push(e(i,r[t],!0));return 0===n.length?"0x":a.concat(...n)}throw new S(t)};class x extends s.BaseError{constructor({data:e,parameters:r,size:i}){super(`Data size of ${i} bytes is too small for given parameters.`,{metaMessages:[`Params: (${t.formatAbiParameters(r)})`,`Data:   ${e} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class P extends s.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class E extends s.BaseError{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class B extends s.BaseError{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${a.size(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class A extends s.BaseError{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class I extends s.BaseError{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class S extends s.BaseError{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}},126935,47120,661540,7128,e=>{"use strict";e.i(67126);var t=e.i(969016),r=e.i(741188),i=e.i(375024);function n(...e){let[t,s=[]]=(()=>{if(Array.isArray(e[0])){let[t,r,i]=e;return[a(t,r,{args:i}),i]}let[t,r]=e;return[t,r]})(),{overloads:u}=t,c=u?a([t,...u],t.name,{args:s}):t,l=o(c),d=s.length>0?r.encode(c.inputs,s):void 0;return d?i.concat(l,d):l}function s(e,r={}){return t.from(e,r)}function a(e,r,i){let n=t.fromAbi(e,r,i);if("function"!==n.type)throw new t.NotFoundError({name:r,type:"function"});return n}function o(e){return t.getSelector(e)}e.s(["encodeData",()=>n,"from",()=>s,"fromAbi",()=>a,"getSelector",()=>o],126935),e.s(["ethAddress",0,"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee","zeroAddress",0,"0x0000000000000000000000000000000000000000"],47120);var u=e.i(958046);let c="0x6492649264926492649264926492649264926492649264926492649264926492";function l(e){if(i.slice(e,-32)!==c)throw new m(e)}function d(e){return"string"==typeof e?f(e):e}function f(e){l(e);let[t,i,n]=r.decode(r.from("address, bytes, bytes"),e);return{data:i,signature:n,to:t}}function p(e){let{data:t,signature:n,to:s}=e;return i.concat(r.encode(r.from("address, bytes, bytes"),[s,t,n]),c)}function h(e){try{return l(e),!0}catch{return!1}}class m extends u.BaseError{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}e.s(["InvalidWrappedSignatureError",()=>m,"assert",()=>l,"from",()=>d,"magicBytes",0,c,"universalSignatureValidatorAbi",0,[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],"universalSignatureValidatorBytecode",0,"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572","unwrap",()=>f,"validate",()=>h,"wrap",()=>p],988632);var b=e.i(988632);e.s(["SignatureErc6492",0,b],661540);var y=e.i(306997),g=e.i(459862);function v(e,t={}){let{as:r="Hex"}=t;return function(e,t){let{as:r}=t,n=function e(t){var r,i;let n,s,a,o;return Array.isArray(t)?(s=w(n=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:n<=55?1+n:1+s+n,encode(e){for(let{encode:t}of(n<=55?e.pushByte(192+n):(e.pushByte(247+s),1===s?e.pushUint8(n):2===s?e.pushUint16(n):3===s?e.pushUint24(n):e.pushUint32(n)),r))t(e)}}):(o=w((a="string"==typeof(i=t)?y.fromHex(i):i).length),{length:1===a.length&&a[0]<128?1:a.length<=55?1+a.length:1+o+a.length,encode(e){1===a.length&&a[0]<128||(a.length<=55?e.pushByte(128+a.length):(e.pushByte(183+o),1===o?e.pushUint8(a.length):2===o?e.pushUint16(a.length):3===o?e.pushUint24(a.length):e.pushUint32(a.length))),e.pushBytes(a)}})}(e),s=g.create(new Uint8Array(n.length));return(n.encode(s),"Hex"===r)?i.fromBytes(s.bytes):s.bytes}(e,{as:r})}function w(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new u.BaseError("Length is too large.")}e.s(["fromHex",()=>v],7128)},270791,e=>{"use strict";e.i(288787),e.i(306997);var t=e.i(958046),r=e.i(375024),i=e.i(139655),n=e.i(637066);function s(e,t={}){let{recovered:r}=t;if(void 0===e.r||void 0===e.s||r&&void 0===e.yParity)throw new m({signature:e});if(e.r<0n||e.r>n.maxUint256)throw new b({value:e.r});if(e.s<0n||e.s>n.maxUint256)throw new y({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new g({value:e.yParity})}function a(e){if(130!==e.length&&132!==e.length)throw new h({signature:e});let t=BigInt(r.slice(e,0,32)),i=BigInt(r.slice(e,32,64)),n=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return p(t)}catch{throw new g({value:t})}})();return void 0===n?{r:t,s:i}:{r:t,s:i,yParity:n}}function o(e){if(void 0!==e.r&&void 0!==e.s)return u(e)}function u(e){let t=(()=>{var t,i;let n;if("string"==typeof e)return a(e);if(e instanceof Uint8Array)return a(r.fromBytes(e));return"string"==typeof e.r?(t=e,n=(()=>{let e=t.v?Number(t.v):void 0,r=t.yParity?Number(t.yParity):void 0;if("number"==typeof e&&"number"!=typeof r&&(r=p(e)),"number"!=typeof r)throw new g({value:t.yParity});return r})(),{r:BigInt(t.r),s:BigInt(t.s),yParity:n}):e.v?{r:(i=e).r,s:i.s,yParity:p(i.v)}:{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}}})();return s(t),t}function c(e){let[t,r,i]=e;return u({r:"0x"===r?0n:BigInt(r),s:"0x"===i?0n:BigInt(i),yParity:"0x"===t?0:Number(t)})}function l(e){s(e);let t=e.r,i=e.s;return r.concat(r.fromNumber(t,{size:32}),r.fromNumber(i,{size:32}),"number"==typeof e.yParity?r.fromNumber(function(e){if(0===e)return 27;if(1===e)return 28;throw new g({value:e})}(e.yParity),{size:1}):"0x")}function d(e){let{r:t,s:i,yParity:n}=e;return{r:r.fromNumber(t,{size:32}),s:r.fromNumber(i,{size:32}),yParity:0===n?"0x0":"0x1"}}function f(e){let{r:t,s:i,yParity:n}=e;return[n?"0x01":"0x",0n===t?"0x":r.trimLeft(r.fromNumber(t)),0n===i?"0x":r.trimLeft(r.fromNumber(i))]}function p(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return+(e%2==0);throw new v({value:e})}class h extends t.BaseError{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${r.size(r.from(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class m extends t.BaseError{constructor({signature:e}){super(`Signature \`${i.stringify(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class b extends t.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class y extends t.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class g extends t.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class v extends t.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}e.s(["assert",()=>s,"extract",()=>o,"from",()=>u,"fromHex",()=>a,"fromTuple",()=>c,"toHex",()=>l,"toRpc",()=>d,"toTuple",()=>f])},909967,e=>{"use strict";var t=e.i(965723),r=e.i(375024),i=e.i(7128),n=e.i(270791);function s(e,t={}){return"string"==typeof e.chainId?function(e){let{address:t,chainId:r,nonce:i}=e,s=n.extract(e);return{address:t,chainId:Number(r),nonce:BigInt(i),...s}}(e):{...e,...t.signature}}function a(e){return function(e,s={}){let{presign:a}=s;return t.keccak256(r.concat("0x05",i.fromHex(function(e){let{address:t,chainId:i,nonce:s}=e,a=n.extract(e);return[i?r.fromNumber(i):"0x",t,s?r.fromNumber(s):"0x",...a?n.toTuple(a):[]]}(a?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}(e,{presign:!0})}e.s(["from",()=>s,"getSignPayload",()=>a])},897379,530067,e=>{"use strict";var t=e.i(288787),r=e.i(764674),i=e.i(306997),n=e.i(375024);e.s(["extraEntropy",()=>!1],530067);var s=e.i(918785);function a(e){let{privateKey:r}=e,i=t.secp256k1.ProjectivePoint.fromPrivateKey(n.from(r).slice(2));return s.from(i)}function o(e={}){let{as:r="Hex"}=e,i=t.secp256k1.utils.randomPrivateKey();return"Hex"===r?n.fromBytes(i):i}function u(e){return r.fromPublicKey(function(e){let{payload:r,signature:i}=e,{r:a,s:o,yParity:u}=i,c=new t.secp256k1.Signature(BigInt(a),BigInt(o)).addRecoveryBit(u).recoverPublicKey(n.from(r).substring(2));return s.from(c)}(e))}function c(e){let{extraEntropy:r=!1,hash:s,payload:a,privateKey:o}=e,{r:u,s:c,recovery:l}=t.secp256k1.sign(i.from(a),i.from(o),{extraEntropy:"boolean"==typeof r?r:n.from(r).slice(2),lowS:!0,...s?{prehash:!0}:{}});return{r:u,s:c,yParity:l}}t.secp256k1,e.s(["getPublicKey",()=>a,"randomPrivateKey",()=>o,"recoverAddress",()=>u,"sign",()=>c],897379)},507277,304441,849051,430122,e=>{"use strict";var t=e.i(741188),r=e.i(909967),i=e.i(958046),n=e.i(375024),s=e.i(897379),a=e.i(270791);let o="0x8010801080108010801080108010801080108010801080108010801080108010",u=t.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function c(e){if("string"==typeof e){if(n.slice(e,-32)!==o)throw new h(e)}else a.assert(e.authorization)}function l(e){return"string"==typeof e?d(e):e}function d(e){c(e);let i=n.toNumber(n.slice(e,-64,-32)),s=n.slice(e,-i-64,-64),a=n.slice(e,0,-i-64),[o,l,d]=t.decode(u,s);return{authorization:r.from({address:o.delegation,chainId:Number(o.chainId),nonce:o.nonce,yParity:o.yParity,r:o.r,s:o.s}),signature:a,...d&&"0x"!==d?{data:d,to:l}:{}}}function f(e){let{data:i,signature:l}=e;c(e);let d=s.recoverAddress({payload:r.getSignPayload(e.authorization),signature:a.from(e.authorization)}),f=t.encode(u,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??d,i??"0x"]),p=n.fromNumber(n.size(f),{size:32});return n.concat(l,f,p,o)}function p(e){try{return c(e),!0}catch{return!1}}class h extends i.BaseError{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}e.s(["InvalidWrappedSignatureError",()=>h,"assert",()=>c,"from",()=>l,"magicBytes",0,o,"suffixParameters",0,u,"unwrap",()=>d,"validate",()=>p,"wrap",()=>f],304441);var m=e.i(304441);e.s(["SignatureErc8010",0,m],507277);var b=e.i(312425),y=e.i(561150),g=e.i(509463);async function v({address:e,authorization:t,signature:r}){return(0,y.isAddressEqual)((0,b.getAddress)(e),await (0,g.recoverAuthorizationAddress)({authorization:t,signature:r}))}e.s(["verifyAuthorization",()=>v],849051);var w=e.i(288787),x=e.i(692577),P=e.i(46728);function E({r:e,s:t,to:r="hex",v:i,yParity:n}){let s=(()=>{if(0===n||1===n)return n;if(i&&(27n===i||28n===i||i>=35n))return+(i%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),a=`0x${new w.secp256k1.Signature((0,x.hexToBigInt)(e),(0,x.hexToBigInt)(t)).toCompactHex()}${0===s?"1b":"1c"}`;return"hex"===r?a:(0,P.hexToBytes)(a)}e.s(["serializeSignature",()=>E],430122)},580180,e=>{"use strict";var t=e.i(661540),r=e.i(507277),i=e.i(910191),n=e.i(358675),s=e.i(824473),a=e.i(461997),o=e.i(230612),u=e.i(312425),c=e.i(561150),l=e.i(849051),d=e.i(268323),f=e.i(7729),p=e.i(692577),h=e.i(574744),m=e.i(865681),b=e.i(343438),y=e.i(430122),g=e.i(330973),v=e.i(282399),w=e.i(969862);async function x(e,t){let i,{address:n,hash:s,erc6492VerifierAddress:a=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,l=(i=t.signature,(0,f.isHex)(i)?i:"object"==typeof i&&"r"in i&&"s"in i?(0,y.serializeSignature)(i):(0,h.bytesToHex)(i));try{if(r.SignatureErc8010.validate(l))return await P(e,{...t,multicallAddress:o,signature:l});return await E(e,{...t,verifierAddress:a,signature:l})}catch(e){try{if((0,c.isAddressEqual)((0,u.getAddress)(n),await (0,b.recoverAddress)({hash:s,signature:l})))return!0}catch{}if(e instanceof A)return!1;throw e}}async function P(e,t){let{address:s,blockNumber:a,blockTag:u,hash:c,multicallAddress:f}=t,{authorization:p,data:b,signature:y,to:g}=r.SignatureErc8010.unwrap(t.signature);if(await (0,v.getCode)(e,{address:s,blockNumber:a,blockTag:u})===(0,d.concatHex)(["0xef0100",p.address]))return await B(e,{address:s,blockNumber:a,blockTag:u,hash:c,signature:y});let x={address:p.address,chainId:Number(p.chainId),nonce:Number(p.nonce),r:(0,h.numberToHex)(p.r,{size:32}),s:(0,h.numberToHex)(p.s,{size:32}),yParity:p.yParity};if(!await (0,l.verifyAuthorization)({address:s,authorization:x}))throw new A;let P=await (0,m.getAction)(e,w.readContract,"readContract")({...f?{address:f}:{code:n.multicall3Bytecode},authorizationList:[x],abi:i.multicall3Abi,blockNumber:a,blockTag:"pending",functionName:"aggregate3",args:[[...b?[{allowFailure:!0,target:g??s,callData:b}]:[],{allowFailure:!0,target:s,callData:(0,o.encodeFunctionData)({abi:i.erc1271Abi,functionName:"isValidSignature",args:[c,y]})}]]}),E=P[P.length-1]?.returnData;if(E?.startsWith("0x1626ba7e"))return!0;throw new A}async function E(e,r){let{address:u,factory:c,factoryData:l,hash:d,signature:f,verifierAddress:h,...b}=r,y=await (async()=>!c&&!l||t.SignatureErc6492.validate(f)?f:t.SignatureErc6492.wrap({data:l,signature:f,to:c}))(),v=h?{to:h,data:(0,o.encodeFunctionData)({abi:i.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[u,d,y]}),...b}:{data:(0,a.encodeDeployData)({abi:i.erc6492SignatureValidatorAbi,args:[u,d,y],bytecode:n.erc6492SignatureValidatorByteCode}),...b},{data:w}=await (0,m.getAction)(e,g.call,"call")(v).catch(e=>{if(e instanceof s.CallExecutionError)throw new A;throw e});if((0,p.hexToBool)(w??"0x0"))return!0;throw new A}async function B(e,t){let{address:r,blockNumber:n,blockTag:a,hash:o,signature:u}=t;if((await (0,m.getAction)(e,w.readContract,"readContract")({address:r,abi:i.erc1271Abi,args:[o,u],blockNumber:n,blockTag:a,functionName:"isValidSignature"}).catch(e=>{if(e instanceof s.ContractFunctionExecutionError)throw new A;throw e})).startsWith("0x1626ba7e"))return!0;throw new A}class A extends Error{}e.s(["verifyHash",()=>x])},543191,e=>{"use strict";var t=e.i(358372),r=e.i(899812),i=e.i(561150),n=e.i(865681),s=e.i(124710),a=e.i(959942);async function o(e,o){let{account:u=e.account,chainId:c,nonce:l}=o;if(!u)throw new r.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});let d=(0,t.parseAccount)(u),f=(()=>{if(o.executor)return"self"===o.executor?o.executor:(0,t.parseAccount)(o.executor)})(),p={address:o.contractAddress??o.address,chainId:c,nonce:l};return void 0===p.chainId&&(p.chainId=e.chain?.id??await (0,n.getAction)(e,s.getChainId,"getChainId")({})),void 0===p.nonce&&(p.nonce=await (0,n.getAction)(e,a.getTransactionCount,"getTransactionCount")({address:d.address,blockTag:"pending"}),("self"===f||f?.address&&(0,i.isAddressEqual)(f.address,d.address))&&(p.nonce+=1)),p}e.s(["prepareAuthorization",()=>o])},409132,689442,838254,713033,e=>{"use strict";var t=e.i(798138),r=t;class i extends r.BaseError{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}e.s(["BundleFailedError",()=>i],689442);var n=e.i(865681),s=e.i(615110),a=e.i(818564),o=e.i(870938),u=e.i(570585),c=e.i(392619),l=e.i(353049),d=e.i(577712),f=e.i(692577),p=e.i(794260),h=e.i(358372),m=e.i(105097),b=e.i(230612),y=e.i(268323),g=e.i(574744),v=e.i(210863),w=e.i(262479);let x="0x5792579257925792579257925792579257925792579257925792579257925792",P=(0,g.numberToHex)(0,{size:32});async function E(e,r){let{account:i=e.account,capabilities:n,chain:s=e.chain,experimental_fallback:a,experimental_fallbackDelay:o=32,forceAtomic:u=!1,id:c,version:l="2.0.0"}=r,d=i?(0,h.parseAccount)(i):null,p=r.calls.map(e=>{let t=e.abi?(0,b.encodeFunctionData)({abi:e.abi,functionName:e.functionName,args:e.args}):e.data;return{data:e.dataSuffix&&t?(0,y.concat)([t,e.dataSuffix]):t,to:e.to,value:e.value?(0,g.numberToHex)(e.value):void 0}});try{let t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:u,calls:p,capabilities:n,chainId:(0,g.numberToHex)(s.id),from:d?.address,id:c,version:l}]},{retryCount:0});if("string"==typeof t)return{id:t};return t}catch(i){if(a&&("MethodNotFoundRpcError"===i.name||"MethodNotSupportedRpcError"===i.name||"UnknownRpcError"===i.name||i.details.toLowerCase().includes("does not exist / is not available")||i.details.toLowerCase().includes("missing or invalid. request()")||i.details.toLowerCase().includes("did not match any variant of untagged enum")||i.details.toLowerCase().includes("account upgraded to unsupported contract")||i.details.toLowerCase().includes("eip-7702 not supported")||i.details.toLowerCase().includes("unsupported wc_ method")||i.details.toLowerCase().includes("feature toggled misconfigured")||i.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(n&&Object.values(n).some(e=>!e.optional)){let e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new m.UnsupportedNonOptionalCapabilityError(new t.BaseError(e,{details:e}))}if(u&&p.length>1){let e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new m.AtomicityNotSupportedError(new t.BaseError(e,{details:e}))}let r=[];for(let t of p){let i=(0,w.sendTransaction)(e,{account:d,chain:s,data:t.data,to:t.to,value:t.value?(0,f.hexToBigInt)(t.value):void 0});r.push(i),o>0&&await new Promise(e=>setTimeout(e,o))}let i=await Promise.allSettled(r);if(i.every(e=>"rejected"===e.status))throw i[0].reason;let a=i.map(e=>"fulfilled"===e.status?e.value:P);return{id:(0,y.concat)([...a,(0,g.numberToHex)(s.id,{size:32}),x])}}throw(0,v.getTransactionError)(i,{...r,account:d,chain:r.chain})}}async function B(e,t){let r;async function i(t){if(t.endsWith(x.slice(2))){let r=(0,d.trim)((0,l.sliceHex)(t,-64,-32)),i=(0,l.sliceHex)(t,0,-64).slice(2).match(/.{1,64}/g),n=await Promise.all(i.map(t=>P.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),s=n.some(e=>null===e)?100:n.every(e=>e?.status==="0x1")?200:n.every(e=>e?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,f.hexToNumber)(r),receipts:n.filter(Boolean),status:s,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}let{atomic:n=!1,chainId:s,receipts:a,version:o="2.0.0",...u}=await i(t.id),[c,h]=(r=u.status)>=100&&r<200?["pending",r]:r>=200&&r<300?["success",r]:r>=300&&r<700?["failure",r]:"CONFIRMED"===r?["success",200]:"PENDING"===r?["pending",100]:[void 0,r];return{...u,atomic:n,chainId:s?(0,f.hexToNumber)(s):void 0,receipts:a?.map(e=>({...e,blockNumber:(0,f.hexToBigInt)(e.blockNumber),gasUsed:(0,f.hexToBigInt)(e.gasUsed),status:p.receiptStatuses[e.status]}))??[],statusCode:h,status:c,version:o}}async function A(e,t){let r,{id:l,pollingInterval:d=e.pollingInterval,status:f=({statusCode:e})=>200===e||e>=300,retryCount:p=4,retryDelay:h=({count:e})=>200*~~(1<<e),timeout:m=6e4,throwOnFailure:b=!1}=t,y=(0,c.stringify)(["waitForCallsStatus",e.uid,l]),{promise:g,resolve:v,reject:w}=(0,o.withResolvers)(),x=(0,s.observe)(y,{resolve:v,reject:w},t=>{let s=(0,a.poll)(async()=>{let a=e=>{clearTimeout(r),s(),e(),x()};try{let r=await (0,u.withRetry)(async()=>{let t=await (0,n.getAction)(e,B,"getCallsStatus")({id:l});if(b&&"failure"===t.status)throw new i(t);return t},{retryCount:p,delay:h});if(!f(r))return;a(()=>t.resolve(r))}catch(e){a(()=>t.reject(e))}},{interval:d,emitOnBegin:!0});return s});return r=m?setTimeout(()=>{x(),clearTimeout(r),w(new I({id:l}))},m):void 0,await g}e.s(["fallbackMagicIdentifier",0,x,"fallbackTransactionErrorMagicIdentifier",0,P,"sendCalls",()=>E],838254),e.s(["getCallsStatus",()=>B],713033);class I extends t.BaseError{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}e.s(["WaitForCallsStatusTimeoutError",()=>I,"waitForCallsStatus",()=>A],409132)}]);