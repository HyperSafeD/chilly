module.exports=[489777,a=>{"use strict";var b=a.i(102355),c=a.i(702241),d=a.i(835258),e=a.i(58786);function f(a){let f;if("string"==typeof a)f=(0,e.parseSignature)(a);else{let b=(0,d.parseStructs)(a),g=a.length;for(let d=0;d<g;d++){let g=a[d];if(!(0,c.isStructSignature)(g)){f=(0,e.parseSignature)(g,b);break}}}if(!f)throw new b.InvalidAbiItemError({signature:a});return f}a.s(["parseAbiItem",()=>f])},268978,a=>{"use strict";var b=a.i(271118),c=a.i(702241),d=a.i(835258),e=a.i(58786);function f(a){let f=[];if("string"==typeof a){let b=(0,e.splitParameters)(a),d=b.length;for(let a=0;a<d;a++)f.push((0,e.parseAbiParameter)(b[a],{modifiers:c.modifiers}))}else{let b=(0,d.parseStructs)(a),g=a.length;for(let d=0;d<g;d++){let g=a[d];if((0,c.isStructSignature)(g))continue;let h=(0,e.splitParameters)(g),i=h.length;for(let a=0;a<i;a++)f.push((0,e.parseAbiParameter)(h[a],{modifiers:c.modifiers,structs:b}))}}if(0===f.length)throw new b.InvalidAbiParametersError({params:a});return f}a.s(["parseAbiParameters",()=>f])},513120,827488,36171,478585,a=>{"use strict";var b=a.i(485430),c=b;class d extends c.BaseError{constructor(a){super(`Call bundle failed with status: ${a.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=a}}a.s(["BundleFailedError",()=>d],827488);var e=a.i(790022),f=a.i(582428),g=a.i(598806),h=a.i(787573),i=a.i(53741),j=a.i(177443),k=a.i(93117),l=a.i(471174),m=a.i(81251),n=a.i(462882),o=a.i(416778),p=a.i(276834),q=a.i(883448),r=a.i(570080),s=a.i(4905),t=a.i(380402),u=a.i(510130);let v="0x5792579257925792579257925792579257925792579257925792579257925792",w=(0,s.numberToHex)(0,{size:32});async function x(a,c){let{account:d=a.account,capabilities:e,chain:f=a.chain,experimental_fallback:g,experimental_fallbackDelay:h=32,forceAtomic:i=!1,id:j,version:k="2.0.0"}=c,l=d?(0,o.parseAccount)(d):null,n=c.calls.map(a=>{let b=a.abi?(0,q.encodeFunctionData)({abi:a.abi,functionName:a.functionName,args:a.args}):a.data;return{data:a.dataSuffix&&b?(0,r.concat)([b,a.dataSuffix]):b,to:a.to,value:a.value?(0,s.numberToHex)(a.value):void 0}});try{let b=await a.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:n,capabilities:e,chainId:(0,s.numberToHex)(f.id),from:l?.address,id:j,version:k}]},{retryCount:0});if("string"==typeof b)return{id:b};return b}catch(d){if(g&&("MethodNotFoundRpcError"===d.name||"MethodNotSupportedRpcError"===d.name||"UnknownRpcError"===d.name||d.details.toLowerCase().includes("does not exist / is not available")||d.details.toLowerCase().includes("missing or invalid. request()")||d.details.toLowerCase().includes("did not match any variant of untagged enum")||d.details.toLowerCase().includes("account upgraded to unsupported contract")||d.details.toLowerCase().includes("eip-7702 not supported")||d.details.toLowerCase().includes("unsupported wc_ method")||d.details.toLowerCase().includes("feature toggled misconfigured")||d.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(e&&Object.values(e).some(a=>!a.optional)){let a="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new p.UnsupportedNonOptionalCapabilityError(new b.BaseError(a,{details:a}))}if(i&&n.length>1){let a="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new p.AtomicityNotSupportedError(new b.BaseError(a,{details:a}))}let c=[];for(let b of n){let d=(0,u.sendTransaction)(a,{account:l,chain:f,data:b.data,to:b.to,value:b.value?(0,m.hexToBigInt)(b.value):void 0});c.push(d),h>0&&await new Promise(a=>setTimeout(a,h))}let d=await Promise.allSettled(c);if(d.every(a=>"rejected"===a.status))throw d[0].reason;let g=d.map(a=>"fulfilled"===a.status?a.value:w);return{id:(0,r.concat)([...g,(0,s.numberToHex)(f.id,{size:32}),v])}}throw(0,t.getTransactionError)(d,{...c,account:l,chain:c.chain})}}async function y(a,b){let c;async function d(b){if(b.endsWith(v.slice(2))){let c=(0,l.trim)((0,k.sliceHex)(b,-64,-32)),d=(0,k.sliceHex)(b,0,-64).slice(2).match(/.{1,64}/g),e=await Promise.all(d.map(b=>w.slice(2)!==b?a.request({method:"eth_getTransactionReceipt",params:[`0x${b}`]},{dedupe:!0}):void 0)),f=e.some(a=>null===a)?100:e.every(a=>a?.status==="0x1")?200:e.every(a=>a?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,m.hexToNumber)(c),receipts:e.filter(Boolean),status:f,version:"2.0.0"}}return a.request({method:"wallet_getCallsStatus",params:[b]})}let{atomic:e=!1,chainId:f,receipts:g,version:h="2.0.0",...i}=await d(b.id),[j,o]=(c=i.status)>=100&&c<200?["pending",c]:c>=200&&c<300?["success",c]:c>=300&&c<700?["failure",c]:"CONFIRMED"===c?["success",200]:"PENDING"===c?["pending",100]:[void 0,c];return{...i,atomic:e,chainId:f?(0,m.hexToNumber)(f):void 0,receipts:g?.map(a=>({...a,blockNumber:(0,m.hexToBigInt)(a.blockNumber),gasUsed:(0,m.hexToBigInt)(a.gasUsed),status:n.receiptStatuses[a.status]}))??[],statusCode:o,status:j,version:h}}async function z(a,b){let c,{id:k,pollingInterval:l=a.pollingInterval,status:m=({statusCode:a})=>200===a||a>=300,retryCount:n=4,retryDelay:o=({count:a})=>200*~~(1<<a),timeout:p=6e4,throwOnFailure:q=!1}=b,r=(0,j.stringify)(["waitForCallsStatus",a.uid,k]),{promise:s,resolve:t,reject:u}=(0,h.withResolvers)(),v=(0,f.observe)(r,{resolve:t,reject:u},b=>{let f=(0,g.poll)(async()=>{let g=a=>{clearTimeout(c),f(),a(),v()};try{let c=await (0,i.withRetry)(async()=>{let b=await (0,e.getAction)(a,y,"getCallsStatus")({id:k});if(q&&"failure"===b.status)throw new d(b);return b},{retryCount:n,delay:o});if(!m(c))return;g(()=>b.resolve(c))}catch(a){g(()=>b.reject(a))}},{interval:l,emitOnBegin:!0});return f});return c=p?setTimeout(()=>{v(),clearTimeout(c),u(new A({id:k}))},p):void 0,await s}a.s(["fallbackMagicIdentifier",0,v,"fallbackTransactionErrorMagicIdentifier",0,w,"sendCalls",()=>x],36171),a.s(["getCallsStatus",()=>y],478585);class A extends b.BaseError{constructor({id:a}){super(`Timed out while waiting for call bundle with id "${a}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}a.s(["WaitForCallsStatusTimeoutError",()=>A,"waitForCallsStatus",()=>z],513120)},956479,a=>{"use strict";var b=a.i(4905);async function c(a,{address:c,blockNumber:d,blockTag:e="latest"}){let f=void 0!==d?(0,b.numberToHex)(d):void 0,g=await a.request({method:"eth_getCode",params:[c,f||e]},{dedupe:!!f});if("0x"!==g)return g}a.s(["getCode",()=>c])},852434,a=>{"use strict";var b=a.i(485430);class c extends b.BaseError{constructor({address:a}){super(`No EIP-712 domain found on contract "${a}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${a}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}var d=a.i(790022),e=a.i(811196);async function f(a,b){let{address:f,factory:h,factoryData:i}=b;try{let[b,c,j,k,l,m,n]=await (0,d.getAction)(a,e.readContract,"readContract")({abi:g,address:f,functionName:"eip712Domain",factory:h,factoryData:i});return{domain:{name:c,version:j,chainId:Number(k),verifyingContract:l,salt:m},extensions:n,fields:b}}catch(a){if("ContractFunctionExecutionError"===a.name&&"ContractFunctionZeroDataError"===a.cause.name)throw new c({address:f});throw a}}let g=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];a.s(["getEip712Domain",()=>f],852434)},784414,a=>{"use strict";a.i(268417);var b=a.i(554876),c=a.i(610181),d=a.i(66874),e=a.i(876139);function f(a,c={}){let{as:g="string"==typeof a?"Hex":"Bytes"}=c,h=(0,b.keccak_256)(d.from(a));return"Bytes"===g?h:e.fromBytes(h)}function g(a,b={}){let{as:f="string"==typeof a?"Hex":"Bytes"}=b,h=(0,c.sha256)(d.from(a));return"Bytes"===f?h:e.fromBytes(h)}a.s(["keccak256",()=>f,"sha256",()=>g])},433756,a=>{"use strict";class b extends Map{constructor(a){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=a}get(a){let b=super.get(a);return super.has(a)&&void 0!==b&&(this.delete(a),super.set(a,b)),b}set(a,b){if(super.set(a,b),this.maxSize&&this.size>this.maxSize){let a=this.keys().next().value;a&&this.delete(a)}return this}}let c={checksum:new b(8192)}.checksum;a.s(["checksum",0,c],433756)},322009,529812,a=>{"use strict";var b=a.i(66874),c=a.i(433756),d=a.i(610888),e=a.i(784414),f=d,g=a.i(876139),h=a.i(168810);function i(a,b={}){let{compressed:c}=b,{prefix:d,x:e,y:f}=a;if(!1===c||"bigint"==typeof e&&"bigint"==typeof f){if(4!==d)throw new o({prefix:d,cause:new q});return}if(!0===c||"bigint"==typeof e&&void 0===f){if(3!==d&&2!==d)throw new o({prefix:d,cause:new p});return}throw new n({publicKey:a})}function j(a){let c=(()=>{if(g.validate(a))return k(a);if(b.validate(a)){var c;return c=a,k(g.fromBytes(c))}let{prefix:d,x:e,y:f}=a;return"bigint"==typeof e&&"bigint"==typeof f?{prefix:d??4,x:e,y:f}:{prefix:d,x:e}})();return i(c),c}function k(a){if(132!==a.length&&130!==a.length&&68!==a.length)throw new r({publicKey:a});if(130===a.length)return{prefix:4,x:BigInt(g.slice(a,0,32)),y:BigInt(g.slice(a,32,64))};if(132===a.length){let b=Number(g.slice(a,0,1));return{prefix:b,x:BigInt(g.slice(a,1,33)),y:BigInt(g.slice(a,33,65))}}return{prefix:Number(g.slice(a,0,1)),x:BigInt(g.slice(a,1,33))}}function l(a,c={}){return b.fromHex(m(a,c))}function m(a,b={}){i(a);let{prefix:c,x:d,y:e}=a,{includePrefix:f=!0}=b;return g.concat(f?g.fromNumber(c,{size:1}):"0x",g.fromNumber(d,{size:32}),"bigint"==typeof e?g.fromNumber(e,{size:32}):"0x")}class n extends f.BaseError{constructor({publicKey:a}){super(`Value \`${h.stringify(a)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class o extends f.BaseError{constructor({prefix:a,cause:b}){super(`Prefix "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class p extends f.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class q extends f.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class r extends f.BaseError{constructor({publicKey:a}){super(`Value \`${a}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${g.size(g.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}a.s(["from",()=>j,"fromHex",()=>k,"toBytes",()=>l,"toHex",()=>m],529812);let s=/^0x[a-fA-F0-9]{40}$/;function t(a,b={}){let{strict:c=!0}=b;if(!s.test(a))throw new z({address:a,cause:new A});if(c){if(a.toLowerCase()===a)return;if(u(a)!==a)throw new z({address:a,cause:new B})}}function u(a){if(c.checksum.has(a))return c.checksum.get(a);t(a,{strict:!1});let d=a.substring(2).toLowerCase(),f=e.keccak256(b.fromString(d),{as:"Bytes"}),g=d.split("");for(let a=0;a<40;a+=2)f[a>>1]>>4>=8&&g[a]&&(g[a]=g[a].toUpperCase()),(15&f[a>>1])>=8&&g[a+1]&&(g[a+1]=g[a+1].toUpperCase());let h=`0x${g.join("")}`;return c.checksum.set(a,h),h}function v(a,b={}){let{checksum:c=!1}=b;return(t(a),c)?u(a):a}function w(a,b={}){let c=e.keccak256(`0x${m(a).slice(4)}`).substring(26);return v(`0x${c}`,b)}function x(a,b){return t(a,{strict:!1}),t(b,{strict:!1}),a.toLowerCase()===b.toLowerCase()}function y(a,b={}){let{strict:c=!0}=b??{};try{return t(a,{strict:c}),!0}catch{return!1}}class z extends d.BaseError{constructor({address:a,cause:b}){super(`Address "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class A extends d.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class B extends d.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}a.s(["InvalidAddressError",()=>z,"InvalidInputError",()=>A,"assert",()=>t,"checksum",()=>u,"from",()=>v,"fromPublicKey",()=>w,"isEqual",()=>x,"validate",()=>y],322009)},469844,a=>{"use strict";var b=a.i(695779),c=a.i(489777),d=a.i(610888),e=a.i(784414),f=a.i(876139),g=a.i(322009);function h(a){let b=!0,c="",e=0,f="",g=!1;for(let d=0;d<a.length;d++){let h=a[d];if(["(",")",","].includes(h)&&(b=!0),"("===h&&e++,")"===h&&e--,b){if(0===e){if(" "===h&&["event","function","error",""].includes(f))f="";else if(f+=h,")"===h){g=!0;break}continue}if(" "===h){","!==a[d-1]&&","!==c&&",("!==c&&(c="",b=!1);continue}f+=h,c+=h}}if(!g)throw new d.BaseError("Unable to normalize signature.");return f}function i(a,b={}){let{prepare:d=!0}=b,e=Array.isArray(a)||"string"==typeof a?c.parseAbiItem(a):a;return{...e,...d?{hash:l(e)}:{}}}function j(a,b,c){let d,{args:e=[],prepare:h=!0}=c??{},i=f.validate(b,{strict:!1}),j=a.filter(a=>i?"function"===a.type||"error"===a.type?k(a)===f.slice(b,0,4):"event"===a.type&&l(a)===b:"name"in a&&a.name===b);if(0===j.length)throw new n({name:b});if(1===j.length)return{...j[0],...h?{hash:l(j[0])}:{}};for(let a of j){if("inputs"in a){if(!e||0===e.length){if(!a.inputs||0===a.inputs.length)return{...a,...h?{hash:l(a)}:{}};continue}if(a.inputs&&0!==a.inputs.length&&a.inputs.length===e.length&&e.every((b,c)=>{let d="inputs"in a&&a.inputs[c];return!!d&&function a(b,c){let d=typeof b,e=c.type;switch(e){case"address":return g.validate(b,{strict:!1});case"bool":return"boolean"===d;case"function":case"string":return"string"===d;default:if("tuple"===e&&"components"in c)return Object.values(c.components).every((c,d)=>a(Object.values(b)[d],c));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(e))return"number"===d||"bigint"===d;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(e))return"string"===d||b instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(e))return Array.isArray(b)&&b.every(b=>a(b,{...c,type:e.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(b,d)})){if(d&&"inputs"in d&&d.inputs){let b=function a(b,c,d){for(let e in b){let f=b[e],h=c[e];if("tuple"===f.type&&"tuple"===h.type&&"components"in f&&"components"in h)return a(f.components,h.components,d[e]);let i=[f.type,h.type];if(i.includes("address")&&i.includes("bytes20")||(i.includes("address")&&i.includes("string")||i.includes("address")&&i.includes("bytes"))&&g.validate(d[e],{strict:!1}))return i}}(a.inputs,d.inputs,e);if(b)throw new m({abiItem:a,type:b[0]},{abiItem:d,type:b[1]})}d=a}}}let o=(()=>{if(d)return d;let[a,...b]=j;return{...a,overloads:b}})();if(!o)throw new n({name:b});return{...o,...h?{hash:l(o)}:{}}}function k(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return j(b,c)}return a[0]})();return f.slice(l(b),0,4)}function l(...a){let c=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return j(b,c)}return a[0]})();return"string"!=typeof c&&"hash"in c&&c.hash?c.hash:e.keccak256(f.fromString(function(...a){let c=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return j(b,c)}return a[0]})();return h("string"==typeof c?c:b.formatAbiItem(c))}(c)))}class m extends d.BaseError{constructor(a,c){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${a.type}\` in \`${h(b.formatAbiItem(a.abiItem))}\`, and`,`\`${c.type}\` in \`${h(b.formatAbiItem(c.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class n extends d.BaseError{constructor({name:a,data:b,type:c="item"}){super(`ABI ${c}${a?` with name "${a}"`:b?` with data "${b}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}class o extends d.BaseError{constructor({data:a}){super(`Selector size is invalid. Expected 4 bytes. Received ${f.size(a)} bytes ("${a}").`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.InvalidSelectorSizeError"})}}a.s(["InvalidSelectorSizeError",()=>o,"NotFoundError",()=>n,"from",()=>i,"fromAbi",()=>j,"getSelector",()=>k],469844)},591830,a=>{"use strict";a.s(["arrayRegex",0,/^(.*)\[([0-9]*)\]$/,"bytesRegex",0,/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,"integerRegex",0,/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,"maxUint256",0,2n**256n-1n])},294418,620247,a=>{"use strict";a.s(["ArrayLengthMismatchError",()=>x,"BytesSizeMismatchError",()=>y,"InvalidArrayError",()=>A,"InvalidTypeError",()=>B,"decode",()=>r,"encode",()=>s,"encodePacked",()=>t,"from",()=>u],294418);var b=a.i(224943),c=a.i(268978),d=a.i(322009),e=a.i(66874),f=a.i(610888),g=a.i(876139),h=a.i(591830);function i(a){let b=0;for(let c=0;c<a.length;c++){let{dynamic:d,encoded:e}=a[c];d?b+=32:b+=g.size(e)}let c=[],d=[],e=0;for(let f=0;f<a.length;f++){let{dynamic:h,encoded:i}=a[f];h?(c.push(g.fromNumber(b+e,{size:32})),d.push(i),e+=g.size(i)):c.push(i)}return g.concat(...c,...d)}function j(a){let b=a.match(/^(.*)\[(\d+)?\]$/);return b?[b[2]?Number(b[2]):null,b[1]]:void 0}function k(a){let{type:b}=a;if("string"===b||"bytes"===b||b.endsWith("[]"))return!0;if("tuple"===b)return a.components?.some(k);let c=j(a.type);return!!(c&&k({...a,type:c[1]}))}var l=f;let m={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new q({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(a){if(a<0||a>this.bytes.length-1)throw new p({length:this.bytes.length,position:a})},decrementPosition(a){if(a<0)throw new o({offset:a});let b=this.position-a;this.assertPosition(b),this.position=b},getReadCount(a){return this.positionReadCount.get(a||this.position)||0},incrementPosition(a){if(a<0)throw new o({offset:a});let b=this.position+a;this.assertPosition(b),this.position=b},inspectByte(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectBytes(a,b){let c=b??this.position;return this.assertPosition(c+a-1),this.bytes.subarray(c,c+a)},inspectUint8(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectUint16(a){let b=a??this.position;return this.assertPosition(b+1),this.dataView.getUint16(b)},inspectUint24(a){let b=a??this.position;return this.assertPosition(b+2),(this.dataView.getUint16(b)<<8)+this.dataView.getUint8(b+2)},inspectUint32(a){let b=a??this.position;return this.assertPosition(b+3),this.dataView.getUint32(b)},pushByte(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushBytes(a){this.assertPosition(this.position+a.length-1),this.bytes.set(a,this.position),this.position+=a.length},pushUint8(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushUint16(a){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,a),this.position+=2},pushUint24(a){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,a>>8),this.dataView.setUint8(this.position+2,255&a),this.position+=3},pushUint32(a){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,a),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let a=this.inspectByte();return this.position++,a},readBytes(a,b){this.assertReadLimit(),this._touch();let c=this.inspectBytes(a);return this.position+=b??a,c},readUint8(){this.assertReadLimit(),this._touch();let a=this.inspectUint8();return this.position+=1,a},readUint16(){this.assertReadLimit(),this._touch();let a=this.inspectUint16();return this.position+=2,a},readUint24(){this.assertReadLimit(),this._touch();let a=this.inspectUint24();return this.position+=3,a},readUint32(){this.assertReadLimit(),this._touch();let a=this.inspectUint32();return this.position+=4,a},get remaining(){return this.bytes.length-this.position},setPosition(a){let b=this.position;return this.assertPosition(a),this.position=a,()=>this.position=b},_touch(){if(this.recursiveReadLimit===1/0)return;let a=this.getReadCount();this.positionReadCount.set(this.position,a+1),a>0&&this.recursiveReadCount++}};function n(a,{recursiveReadLimit:b=8192}={}){let c=Object.create(m);return c.bytes=a,c.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=b,c}class o extends l.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class p extends l.BaseError{constructor({length:a,position:b}){super(`Position \`${b}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class q extends l.BaseError{constructor({count:a,limit:b}){super(`Recursive read limit of \`${b}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function r(a,b,c={}){let{as:f="Array",checksumAddress:h=!1}=c,i="string"==typeof b?e.fromHex(b):b,l=n(i);if(0===e.size(i)&&a.length>0)throw new w;if(e.size(i)&&32>e.size(i))throw new v({data:"string"==typeof b?b:g.fromBytes(b),parameters:a,size:e.size(i)});let m=0,o="Array"===f?[]:{};for(let b=0;b<a.length;++b){let c=a[b];l.setPosition(m);let[i,n]=function a(b,c,f){var h,i,l;let{checksumAddress:m,staticPosition:n}=f,o=j(c.type);if(o){let[d,f]=o;return function(b,c,d){let{checksumAddress:f,length:g,staticPosition:h}=d;if(!g){let d=h+e.toNumber(b.readBytes(32)),g=d+32;b.setPosition(d);let i=e.toNumber(b.readBytes(32)),j=k(c),l=0,m=[];for(let d=0;d<i;++d){b.setPosition(g+(j?32*d:l));let[e,h]=a(b,c,{checksumAddress:f,staticPosition:g});l+=h,m.push(e)}return b.setPosition(h+32),[m,32]}if(k(c)){let d=h+e.toNumber(b.readBytes(32)),i=[];for(let e=0;e<g;++e){b.setPosition(d+32*e);let[g]=a(b,c,{checksumAddress:f,staticPosition:d});i.push(g)}return b.setPosition(h+32),[i,32]}let i=0,j=[];for(let d=0;d<g;++d){let[d,e]=a(b,c,{checksumAddress:f,staticPosition:h+i});i+=e,j.push(d)}return[j,i]}(b,{...c,type:f},{checksumAddress:m,length:d,staticPosition:n})}if("tuple"===c.type)return function(b,c,d){let{checksumAddress:f,staticPosition:g}=d,h=0===c.components.length||c.components.some(({name:a})=>!a),i=h?[]:{},j=0;if(k(c)){let d=g+e.toNumber(b.readBytes(32));for(let e=0;e<c.components.length;++e){let g=c.components[e];b.setPosition(d+j);let[k,l]=a(b,g,{checksumAddress:f,staticPosition:d});j+=l,i[h?e:g?.name]=k}return b.setPosition(g+32),[i,32]}for(let d=0;d<c.components.length;++d){let e=c.components[d],[k,l]=a(b,e,{checksumAddress:f,staticPosition:g});i[h?d:e?.name]=k,j+=l}return[i,j]}(b,c,{checksumAddress:m,staticPosition:n});if("address"===c.type)return function(a,b={}){let c,{checksum:f=!1}=b,h=a.readBytes(32);return[(c=g.fromBytes(e.slice(h,-20)),f?d.checksum(c):c),32]}(b,{checksum:m});if("bool"===c.type){return h=b,[e.toBoolean(h.readBytes(32),{size:32}),32]}if(c.type.startsWith("bytes"))return function(a,b,{staticPosition:c}){let[d,f]=b.type.split("bytes");if(!f){let b=e.toNumber(a.readBytes(32));a.setPosition(c+b);let d=e.toNumber(a.readBytes(32));if(0===d)return a.setPosition(c+32),["0x",32];let f=a.readBytes(d);return a.setPosition(c+32),[g.fromBytes(f),32]}return[g.fromBytes(a.readBytes(Number.parseInt(f,10),32)),32]}(b,c,{staticPosition:n});if(c.type.startsWith("uint")||c.type.startsWith("int")){let a,d,f;return i=b,a=(l=c).type.startsWith("int"),d=Number.parseInt(l.type.split("int")[1]||"256",10),f=i.readBytes(32),[d>48?e.toBigInt(f,{signed:a}):e.toNumber(f,{signed:a}),32]}if("string"===c.type)return function(a,{staticPosition:b}){let c=e.toNumber(a.readBytes(32));a.setPosition(b+c);let d=e.toNumber(a.readBytes(32));if(0===d)return a.setPosition(b+32),["",32];let f=a.readBytes(d,32),g=e.toString(e.trimLeft(f));return a.setPosition(b+32),[g,32]}(b,{staticPosition:n});throw new B(c.type)}(l,c,{checksumAddress:h,staticPosition:0});m+=n,"Array"===f?o.push(i):o[c.name??b]=i}return o}function s(a,b,c){let{checksumAddress:e=!1}=c??{};if(a.length!==b.length)throw new z({expectedLength:a.length,givenLength:b.length});let k=i(function({checksumAddress:a,parameters:b,values:c}){let e=[];for(let k=0;k<b.length;k++)e.push(function a({checksumAddress:b=!1,parameter:c,value:e}){let k=j(c.type);if(k){let[d,f]=k;return function(b,c){let{checksumAddress:d,length:e,parameter:f}=c,h=null===e;if(!Array.isArray(b))throw new A(b);if(!h&&b.length!==e)throw new x({expectedLength:e,givenLength:b.length,type:`${f.type}[${e}]`});let j=!1,k=[];for(let c=0;c<b.length;c++){let e=a({checksumAddress:d,parameter:f,value:b[c]});e.dynamic&&(j=!0),k.push(e)}if(h||j){let a=i(k);if(h){let b=g.fromNumber(k.length,{size:32});return{dynamic:!0,encoded:k.length>0?g.concat(b,a):b}}if(j)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:g.concat(...k.map(({encoded:a})=>a))}}(e,{checksumAddress:b,length:d,parameter:{...c,type:f}})}if("tuple"===c.type)return function(b,c){let{checksumAddress:d,parameter:e}=c,f=!1,h=[];for(let c=0;c<e.components.length;c++){let g=e.components[c],i=Array.isArray(b)?c:g.name,j=a({checksumAddress:d,parameter:g,value:b[i]});h.push(j),j.dynamic&&(f=!0)}return{dynamic:f,encoded:f?i(h):g.concat(...h.map(({encoded:a})=>a))}}(e,{checksumAddress:b,parameter:c});if("address"===c.type)return function(a,b){let{checksum:c=!1}=b;return d.assert(a,{strict:c}),{dynamic:!1,encoded:g.padLeft(a.toLowerCase())}}(e,{checksum:b});if("bool"===c.type){var l=e;if("boolean"!=typeof l)throw new f.BaseError(`Invalid boolean value: "${l}" (type: ${typeof l}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:g.padLeft(g.fromBoolean(l))}}if(c.type.startsWith("uint")||c.type.startsWith("int")){let a=c.type.startsWith("int"),[,,b="256"]=h.integerRegex.exec(c.type)??[];return function(a,{signed:b,size:c}){if("number"==typeof c){let d=2n**(BigInt(c)-(b?1n:0n))-1n,e=b?-d-1n:0n;if(a>d||a<e)throw new g.IntegerOutOfRangeError({max:d.toString(),min:e.toString(),signed:b,size:c/8,value:a.toString()})}return{dynamic:!1,encoded:g.fromNumber(a,{size:32,signed:b})}}(e,{signed:a,size:Number(b)})}if(c.type.startsWith("bytes"))return function(a,{type:b}){let[,c]=b.split("bytes"),d=g.size(a);if(!c){let b=a;return d%32!=0&&(b=g.padRight(b,32*Math.ceil((a.length-2)/2/32))),{dynamic:!0,encoded:g.concat(g.padLeft(g.fromNumber(d,{size:32})),b)}}if(d!==Number.parseInt(c,10))throw new y({expectedSize:Number.parseInt(c,10),value:a});return{dynamic:!1,encoded:g.padRight(a)}}(e,{type:c.type});if("string"===c.type){var m=e;let a=g.fromString(m),b=Math.ceil(g.size(a)/32),c=[];for(let d=0;d<b;d++)c.push(g.padRight(g.slice(a,32*d,(d+1)*32)));return{dynamic:!0,encoded:g.concat(g.padRight(g.fromNumber(g.size(a),{size:32})),...c)}}throw new B(c.type)}({checksumAddress:a,parameter:b[k],value:c[k]}));return e}({checksumAddress:e,parameters:a,values:b}));return 0===k.length?"0x":k}function t(a,b){if(a.length!==b.length)throw new z({expectedLength:a.length,givenLength:b.length});let c=[];for(let d=0;d<a.length;d++){let e=a[d],f=b[d];c.push(t.encode(e,f))}return g.concat(...c)}function u(a){return Array.isArray(a)&&"string"==typeof a[0]||"string"==typeof a?c.parseAbiParameters(a):a}a.s(["create",()=>n],620247),(t||(t={})).encode=function a(b,c,e=!1){if("address"===b)return d.assert(c),g.padLeft(c.toLowerCase(),32*!!e);if("string"===b)return g.fromString(c);if("bytes"===b)return c;if("bool"===b)return g.padLeft(g.fromBoolean(c),e?32:1);let f=b.match(h.integerRegex);if(f){let[a,b,d="256"]=f,h=Number.parseInt(d,10)/8;return g.fromNumber(c,{size:e?32:h,signed:"int"===b})}let i=b.match(h.bytesRegex);if(i){let[a,b]=i;if(Number.parseInt(b,10)!==(c.length-2)/2)throw new y({expectedSize:Number.parseInt(b,10),value:c});return g.padRight(c,32*!!e)}let j=b.match(h.arrayRegex);if(j&&Array.isArray(c)){let[b,d]=j,e=[];for(let b=0;b<c.length;b++)e.push(a(d,c[b],!0));return 0===e.length?"0x":g.concat(...e)}throw new B(b)};class v extends f.BaseError{constructor({data:a,parameters:c,size:d}){super(`Data size of ${d} bytes is too small for given parameters.`,{metaMessages:[`Params: (${b.formatAbiParameters(c)})`,`Data:   ${a} (${d} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class w extends f.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class x extends f.BaseError{constructor({expectedLength:a,givenLength:b,type:c}){super(`Array length mismatch for type \`${c}\`. Expected: \`${a}\`. Given: \`${b}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class y extends f.BaseError{constructor({expectedSize:a,value:b}){super(`Size of bytes "${b}" (bytes${g.size(b)}) does not match expected size (bytes${a}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class z extends f.BaseError{constructor({expectedLength:a,givenLength:b}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${a}
Given length (values): ${b}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class A extends f.BaseError{constructor(a){super(`Value \`${a}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class B extends f.BaseError{constructor(a){super(`Type \`${a}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}},97913,420352,757698,497771,a=>{"use strict";a.i(695779);var b=a.i(469844),c=a.i(294418),d=a.i(876139);function e(...a){let[b,f=[]]=(()=>{if(Array.isArray(a[0])){let[b,c,d]=a;return[g(b,c,{args:d}),d]}let[b,c]=a;return[b,c]})(),{overloads:i}=b,j=i?g([b,...i],b.name,{args:f}):b,k=h(j),l=f.length>0?c.encode(j.inputs,f):void 0;return l?d.concat(k,l):k}function f(a,c={}){return b.from(a,c)}function g(a,c,d){let e=b.fromAbi(a,c,d);if("function"!==e.type)throw new b.NotFoundError({name:c,type:"function"});return e}function h(a){return b.getSelector(a)}a.s(["encodeData",()=>e,"from",()=>f,"fromAbi",()=>g,"getSelector",()=>h],97913),a.s(["ethAddress",0,"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee","zeroAddress",0,"0x0000000000000000000000000000000000000000"],420352);var i=a.i(610888);let j="0x6492649264926492649264926492649264926492649264926492649264926492";function k(a){if(d.slice(a,-32)!==j)throw new p(a)}function l(a){return"string"==typeof a?m(a):a}function m(a){k(a);let[b,d,e]=c.decode(c.from("address, bytes, bytes"),a);return{data:d,signature:e,to:b}}function n(a){let{data:b,signature:e,to:f}=a;return d.concat(c.encode(c.from("address, bytes, bytes"),[f,b,e]),j)}function o(a){try{return k(a),!0}catch{return!1}}class p extends i.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>p,"assert",()=>k,"from",()=>l,"magicBytes",0,j,"universalSignatureValidatorAbi",0,[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],"universalSignatureValidatorBytecode",0,"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572","unwrap",()=>m,"validate",()=>o,"wrap",()=>n],243844);var q=a.i(243844);a.s(["SignatureErc6492",0,q],757698);var r=a.i(66874),s=a.i(620247);function t(a,b={}){let{as:c="Hex"}=b;return function(a,b){let{as:c}=b,e=function a(b){var c,d;let e,f,g,h;return Array.isArray(b)?(f=u(e=(c=b.map(b=>a(b))).reduce((a,b)=>a+b.length,0)),{length:e<=55?1+e:1+f+e,encode(a){for(let{encode:b}of(e<=55?a.pushByte(192+e):(a.pushByte(247+f),1===f?a.pushUint8(e):2===f?a.pushUint16(e):3===f?a.pushUint24(e):a.pushUint32(e)),c))b(a)}}):(h=u((g="string"==typeof(d=b)?r.fromHex(d):d).length),{length:1===g.length&&g[0]<128?1:g.length<=55?1+g.length:1+h+g.length,encode(a){1===g.length&&g[0]<128||(g.length<=55?a.pushByte(128+g.length):(a.pushByte(183+h),1===h?a.pushUint8(g.length):2===h?a.pushUint16(g.length):3===h?a.pushUint24(g.length):a.pushUint32(g.length))),a.pushBytes(g)}})}(a),f=s.create(new Uint8Array(e.length));return(e.encode(f),"Hex"===c)?d.fromBytes(f.bytes):f.bytes}(a,{as:c})}function u(a){if(a<256)return 1;if(a<65536)return 2;if(a<0x1000000)return 3;if(a<0x100000000)return 4;throw new i.BaseError("Length is too large.")}a.s(["fromHex",()=>t],497771)},559952,a=>{"use strict";a.i(539892),a.i(66874);var b=a.i(610888),c=a.i(876139),d=a.i(168810),e=a.i(591830);function f(a,b={}){let{recovered:c}=b;if(void 0===a.r||void 0===a.s||c&&void 0===a.yParity)throw new p({signature:a});if(a.r<0n||a.r>e.maxUint256)throw new q({value:a.r});if(a.s<0n||a.s>e.maxUint256)throw new r({value:a.s});if("number"==typeof a.yParity&&0!==a.yParity&&1!==a.yParity)throw new s({value:a.yParity})}function g(a){if(130!==a.length&&132!==a.length)throw new o({signature:a});let b=BigInt(c.slice(a,0,32)),d=BigInt(c.slice(a,32,64)),e=(()=>{let b=Number(`0x${a.slice(130)}`);if(!Number.isNaN(b))try{return n(b)}catch{throw new s({value:b})}})();return void 0===e?{r:b,s:d}:{r:b,s:d,yParity:e}}function h(a){if(void 0!==a.r&&void 0!==a.s)return i(a)}function i(a){let b=(()=>{var b,d;let e;if("string"==typeof a)return g(a);if(a instanceof Uint8Array)return g(c.fromBytes(a));return"string"==typeof a.r?(b=a,e=(()=>{let a=b.v?Number(b.v):void 0,c=b.yParity?Number(b.yParity):void 0;if("number"==typeof a&&"number"!=typeof c&&(c=n(a)),"number"!=typeof c)throw new s({value:b.yParity});return c})(),{r:BigInt(b.r),s:BigInt(b.s),yParity:e}):a.v?{r:(d=a).r,s:d.s,yParity:n(d.v)}:{r:a.r,s:a.s,...void 0!==a.yParity?{yParity:a.yParity}:{}}})();return f(b),b}function j(a){let[b,c,d]=a;return i({r:"0x"===c?0n:BigInt(c),s:"0x"===d?0n:BigInt(d),yParity:"0x"===b?0:Number(b)})}function k(a){f(a);let b=a.r,d=a.s;return c.concat(c.fromNumber(b,{size:32}),c.fromNumber(d,{size:32}),"number"==typeof a.yParity?c.fromNumber(function(a){if(0===a)return 27;if(1===a)return 28;throw new s({value:a})}(a.yParity),{size:1}):"0x")}function l(a){let{r:b,s:d,yParity:e}=a;return{r:c.fromNumber(b,{size:32}),s:c.fromNumber(d,{size:32}),yParity:0===e?"0x0":"0x1"}}function m(a){let{r:b,s:d,yParity:e}=a;return[e?"0x01":"0x",0n===b?"0x":c.trimLeft(c.fromNumber(b)),0n===d?"0x":c.trimLeft(c.fromNumber(d))]}function n(a){if(0===a||27===a)return 0;if(1===a||28===a)return 1;if(a>=35)return+(a%2==0);throw new t({value:a})}class o extends b.BaseError{constructor({signature:a}){super(`Value \`${a}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${c.size(c.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class p extends b.BaseError{constructor({signature:a}){super(`Signature \`${d.stringify(a)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class q extends b.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class r extends b.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class s extends b.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class t extends b.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}a.s(["assert",()=>f,"extract",()=>h,"from",()=>i,"fromHex",()=>g,"fromTuple",()=>j,"toHex",()=>k,"toRpc",()=>l,"toTuple",()=>m])},803584,a=>{"use strict";var b=a.i(784414),c=a.i(876139),d=a.i(497771),e=a.i(559952);function f(a,b={}){return"string"==typeof a.chainId?function(a){let{address:b,chainId:c,nonce:d}=a,f=e.extract(a);return{address:b,chainId:Number(c),nonce:BigInt(d),...f}}(a):{...a,...b.signature}}function g(a){return function(a,f={}){let{presign:g}=f;return b.keccak256(c.concat("0x05",d.fromHex(function(a){let{address:b,chainId:d,nonce:f}=a,g=e.extract(a);return[d?c.fromNumber(d):"0x",b,f?c.fromNumber(f):"0x",...g?e.toTuple(g):[]]}(g?{address:a.address,chainId:a.chainId,nonce:a.nonce}:a))))}(a,{presign:!0})}a.s(["from",()=>f,"getSignPayload",()=>g])},641128,509968,a=>{"use strict";var b=a.i(539892),c=a.i(322009),d=a.i(66874),e=a.i(876139);a.s(["extraEntropy",()=>!1],509968);var f=a.i(529812);function g(a){let{privateKey:c}=a,d=b.secp256k1.ProjectivePoint.fromPrivateKey(e.from(c).slice(2));return f.from(d)}function h(a={}){let{as:c="Hex"}=a,d=b.secp256k1.utils.randomPrivateKey();return"Hex"===c?e.fromBytes(d):d}function i(a){return c.fromPublicKey(function(a){let{payload:c,signature:d}=a,{r:g,s:h,yParity:i}=d,j=new b.secp256k1.Signature(BigInt(g),BigInt(h)).addRecoveryBit(i).recoverPublicKey(e.from(c).substring(2));return f.from(j)}(a))}function j(a){let{extraEntropy:c=!1,hash:f,payload:g,privateKey:h}=a,{r:i,s:j,recovery:k}=b.secp256k1.sign(d.from(g),d.from(h),{extraEntropy:"boolean"==typeof c?c:e.from(c).slice(2),lowS:!0,...f?{prehash:!0}:{}});return{r:i,s:j,yParity:k}}b.secp256k1,a.s(["getPublicKey",()=>g,"randomPrivateKey",()=>h,"recoverAddress",()=>i,"sign",()=>j],641128)},523359,462697,899948,868828,a=>{"use strict";var b=a.i(294418),c=a.i(803584),d=a.i(610888),e=a.i(876139),f=a.i(641128),g=a.i(559952);let h="0x8010801080108010801080108010801080108010801080108010801080108010",i=b.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function j(a){if("string"==typeof a){if(e.slice(a,-32)!==h)throw new o(a)}else g.assert(a.authorization)}function k(a){return"string"==typeof a?l(a):a}function l(a){j(a);let d=e.toNumber(e.slice(a,-64,-32)),f=e.slice(a,-d-64,-64),g=e.slice(a,0,-d-64),[h,k,l]=b.decode(i,f);return{authorization:c.from({address:h.delegation,chainId:Number(h.chainId),nonce:h.nonce,yParity:h.yParity,r:h.r,s:h.s}),signature:g,...l&&"0x"!==l?{data:l,to:k}:{}}}function m(a){let{data:d,signature:k}=a;j(a);let l=f.recoverAddress({payload:c.getSignPayload(a.authorization),signature:g.from(a.authorization)}),m=b.encode(i,[{...a.authorization,delegation:a.authorization.address,chainId:BigInt(a.authorization.chainId)},a.to??l,d??"0x"]),n=e.fromNumber(e.size(m),{size:32});return e.concat(k,m,n,h)}function n(a){try{return j(a),!0}catch{return!1}}class o extends d.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>o,"assert",()=>j,"from",()=>k,"magicBytes",0,h,"suffixParameters",0,i,"unwrap",()=>l,"validate",()=>n,"wrap",()=>m],462697);var p=a.i(462697);a.s(["SignatureErc8010",0,p],523359);var q=a.i(243978),r=a.i(810142),s=a.i(19422);async function t({address:a,authorization:b,signature:c}){return(0,r.isAddressEqual)((0,q.getAddress)(a),await (0,s.recoverAuthorizationAddress)({authorization:b,signature:c}))}a.s(["verifyAuthorization",()=>t],899948);var u=a.i(539892),v=a.i(81251),w=a.i(699897);function x({r:a,s:b,to:c="hex",v:d,yParity:e}){let f=(()=>{if(0===e||1===e)return e;if(d&&(27n===d||28n===d||d>=35n))return+(d%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),g=`0x${new u.secp256k1.Signature((0,v.hexToBigInt)(a),(0,v.hexToBigInt)(b)).toCompactHex()}${0===f?"1b":"1c"}`;return"hex"===c?g:(0,w.hexToBytes)(g)}a.s(["serializeSignature",()=>x],868828)},227972,a=>{"use strict";var b=a.i(757698),c=a.i(523359),d=a.i(309812),e=a.i(977952),f=a.i(954352),g=a.i(752513),h=a.i(883448),i=a.i(243978),j=a.i(810142),k=a.i(899948),l=a.i(570080),m=a.i(112898),n=a.i(81251),o=a.i(4905),p=a.i(790022),q=a.i(368057),r=a.i(868828),s=a.i(50964),t=a.i(956479),u=a.i(811196);async function v(a,b){let d,{address:e,hash:f,erc6492VerifierAddress:g=b.universalSignatureVerifierAddress??a.chain?.contracts?.erc6492Verifier?.address,multicallAddress:h=b.multicallAddress??a.chain?.contracts?.multicall3?.address}=b,k=(d=b.signature,(0,m.isHex)(d)?d:"object"==typeof d&&"r"in d&&"s"in d?(0,r.serializeSignature)(d):(0,o.bytesToHex)(d));try{if(c.SignatureErc8010.validate(k))return await w(a,{...b,multicallAddress:h,signature:k});return await x(a,{...b,verifierAddress:g,signature:k})}catch(a){try{if((0,j.isAddressEqual)((0,i.getAddress)(e),await (0,q.recoverAddress)({hash:f,signature:k})))return!0}catch{}if(a instanceof z)return!1;throw a}}async function w(a,b){let{address:f,blockNumber:g,blockTag:i,hash:j,multicallAddress:m}=b,{authorization:n,data:q,signature:r,to:s}=c.SignatureErc8010.unwrap(b.signature);if(await (0,t.getCode)(a,{address:f,blockNumber:g,blockTag:i})===(0,l.concatHex)(["0xef0100",n.address]))return await y(a,{address:f,blockNumber:g,blockTag:i,hash:j,signature:r});let v={address:n.address,chainId:Number(n.chainId),nonce:Number(n.nonce),r:(0,o.numberToHex)(n.r,{size:32}),s:(0,o.numberToHex)(n.s,{size:32}),yParity:n.yParity};if(!await (0,k.verifyAuthorization)({address:f,authorization:v}))throw new z;let w=await (0,p.getAction)(a,u.readContract,"readContract")({...m?{address:m}:{code:e.multicall3Bytecode},authorizationList:[v],abi:d.multicall3Abi,blockNumber:g,blockTag:"pending",functionName:"aggregate3",args:[[...q?[{allowFailure:!0,target:s??f,callData:q}]:[],{allowFailure:!0,target:f,callData:(0,h.encodeFunctionData)({abi:d.erc1271Abi,functionName:"isValidSignature",args:[j,r]})}]]}),x=w[w.length-1]?.returnData;if(x?.startsWith("0x1626ba7e"))return!0;throw new z}async function x(a,c){let{address:i,factory:j,factoryData:k,hash:l,signature:m,verifierAddress:o,...q}=c,r=await (async()=>!j&&!k||b.SignatureErc6492.validate(m)?m:b.SignatureErc6492.wrap({data:k,signature:m,to:j}))(),t=o?{to:o,data:(0,h.encodeFunctionData)({abi:d.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[i,l,r]}),...q}:{data:(0,g.encodeDeployData)({abi:d.erc6492SignatureValidatorAbi,args:[i,l,r],bytecode:e.erc6492SignatureValidatorByteCode}),...q},{data:u}=await (0,p.getAction)(a,s.call,"call")(t).catch(a=>{if(a instanceof f.CallExecutionError)throw new z;throw a});if((0,n.hexToBool)(u??"0x0"))return!0;throw new z}async function y(a,b){let{address:c,blockNumber:e,blockTag:g,hash:h,signature:i}=b;if((await (0,p.getAction)(a,u.readContract,"readContract")({address:c,abi:d.erc1271Abi,args:[h,i],blockNumber:e,blockTag:g,functionName:"isValidSignature"}).catch(a=>{if(a instanceof f.ContractFunctionExecutionError)throw new z;throw a})).startsWith("0x1626ba7e"))return!0;throw new z}class z extends Error{}a.s(["verifyHash",()=>v])},14400,33125,693245,579717,353818,841767,a=>{"use strict";var b=a.i(775858);let c="\x19Ethereum Signed Message:\n";a.s(["presignMessagePrefix",0,c],33125);var d=a.i(570080),e=a.i(261086),f=a.i(4905);function g(a){let b="string"==typeof a?(0,f.stringToHex)(a):"string"==typeof a.raw?a.raw:(0,f.bytesToHex)(a.raw),g=(0,f.stringToHex)(`${c}${(0,e.size)(b)}`);return(0,d.concat)([g,b])}function h(a,c){return(0,b.keccak256)(g(a),c)}a.s(["toPrefixedMessage",()=>g],693245),a.s(["hashMessage",()=>h],14400),a.s(["hashDomain",()=>x,"hashStruct",()=>y,"hashTypedData",()=>w],841767);var i=a.i(58281);a.s(["domainSeparator",()=>v,"getTypesForEIP712Domain",()=>u,"serializeTypedData",()=>s,"validateTypedData",()=>t],353818);var j=a.i(117884),k=a.i(255566),l=a.i(177443),m=a.i(485430);class n extends m.BaseError{constructor({domain:a}){super(`Invalid domain "${(0,l.stringify)(a)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class o extends m.BaseError{constructor({primaryType:a,types:b}){super(`Invalid primary type \`${a}\` must be one of \`${JSON.stringify(Object.keys(b))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class p extends m.BaseError{constructor({type:a}){super(`Struct type "${a}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}a.s(["InvalidDomainError",()=>n,"InvalidPrimaryTypeError",()=>o,"InvalidStructTypeError",()=>p],579717);var q=a.i(712734),r=a.i(585766);function s(a){let{domain:b,message:c,primaryType:d,types:e}=a,f=(a,b)=>{let c={...b};for(let b of a){let{name:a,type:d}=b;"address"===d&&(c[a]=c[a].toLowerCase())}return c},g=e.EIP712Domain&&b?f(e.EIP712Domain,b):{},h=(()=>{if("EIP712Domain"!==d)return f(e[d],c)})();return(0,l.stringify)({domain:g,message:h,primaryType:d,types:e})}function t(a){let{domain:b,message:c,primaryType:d,types:g}=a,h=(a,b)=>{for(let c of a){let{name:a,type:d}=c,i=b[a],l=d.match(r.integerRegex);if(l&&("number"==typeof i||"bigint"==typeof i)){let[a,b,c]=l;(0,f.numberToHex)(i,{signed:"int"===b,size:Number.parseInt(c,10)/8})}if("address"===d&&"string"==typeof i&&!(0,q.isAddress)(i))throw new k.InvalidAddressError({address:i});let m=d.match(r.bytesRegex);if(m){let[a,b]=m;if(b&&(0,e.size)(i)!==Number.parseInt(b,10))throw new j.BytesSizeMismatchError({expectedSize:Number.parseInt(b,10),givenSize:(0,e.size)(i)})}let n=g[d];n&&(function(a){if("address"===a||"bool"===a||"string"===a||a.startsWith("bytes")||a.startsWith("uint")||a.startsWith("int"))throw new p({type:a})}(d),h(n,i))}};if(g.EIP712Domain&&b){if("object"!=typeof b)throw new n({domain:b});h(g.EIP712Domain,b)}if("EIP712Domain"!==d)if(g[d])h(g[d],c);else throw new o({primaryType:d,types:g})}function u({domain:a}){return["string"==typeof a?.name&&{name:"name",type:"string"},a?.version&&{name:"version",type:"string"},("number"==typeof a?.chainId||"bigint"==typeof a?.chainId)&&{name:"chainId",type:"uint256"},a?.verifyingContract&&{name:"verifyingContract",type:"address"},a?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function v({domain:a}){return x({domain:a,types:{EIP712Domain:u({domain:a})}})}function w(a){let{domain:c={},message:e,primaryType:f}=a,g={EIP712Domain:u({domain:c}),...a.types};t({domain:c,message:e,primaryType:f,types:g});let h=["0x1901"];return c&&h.push(x({domain:c,types:g})),"EIP712Domain"!==f&&h.push(y({data:e,primaryType:f,types:g})),(0,b.keccak256)((0,d.concat)(h))}function x({domain:a,types:b}){return y({data:a,primaryType:"EIP712Domain",types:b})}function y({data:a,primaryType:c,types:d}){let e=function a({data:c,primaryType:d,types:e}){let g=[{type:"bytes32"}],h=[function({primaryType:a,types:c}){let d=(0,f.toHex)(function({primaryType:a,types:b}){let c="",d=function a({primaryType:b,types:c},d=new Set){let e=b.match(/^\w*/u),f=e?.[0];if(d.has(f)||void 0===c[f])return d;for(let b of(d.add(f),c[f]))a({primaryType:b.type,types:c},d);return d}({primaryType:a,types:b});for(let e of(d.delete(a),[a,...Array.from(d).sort()]))c+=`${e}(${b[e].map(({name:a,type:b})=>`${b} ${a}`).join(",")})`;return c}({primaryType:a,types:c}));return(0,b.keccak256)(d)}({primaryType:d,types:e})];for(let j of e[d]){let[d,k]=function c({types:d,name:e,type:g,value:h}){if(void 0!==d[g])return[{type:"bytes32"},(0,b.keccak256)(a({data:h,primaryType:g,types:d}))];if("bytes"===g){let a=h.length%2?"0":"";return h=`0x${a+h.slice(2)}`,[{type:"bytes32"},(0,b.keccak256)(h)]}if("string"===g)return[{type:"bytes32"},(0,b.keccak256)((0,f.toHex)(h))];if(g.lastIndexOf("]")===g.length-1){let a=g.slice(0,g.lastIndexOf("[")),f=h.map(b=>c({name:e,type:a,types:d,value:b}));return[{type:"bytes32"},(0,b.keccak256)((0,i.encodeAbiParameters)(f.map(([a])=>a),f.map(([,a])=>a)))]}return[{type:g},h]}({types:e,name:j.name,type:j.type,value:c[j.name]});g.push(d),h.push(k)}return(0,i.encodeAbiParameters)(g,h)}({data:a,primaryType:c,types:d});return(0,b.keccak256)(e)}},387013,a=>{"use strict";var b=a.i(416778),c=a.i(965766),d=a.i(810142),e=a.i(790022),f=a.i(250945),g=a.i(560354);async function h(a,h){let{account:i=a.account,chainId:j,nonce:k}=h;if(!i)throw new c.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});let l=(0,b.parseAccount)(i),m=(()=>{if(h.executor)return"self"===h.executor?h.executor:(0,b.parseAccount)(h.executor)})(),n={address:h.contractAddress??h.address,chainId:j,nonce:k};return void 0===n.chainId&&(n.chainId=a.chain?.id??await (0,e.getAction)(a,f.getChainId,"getChainId")({})),void 0===n.nonce&&(n.nonce=await (0,e.getAction)(a,g.getTransactionCount,"getTransactionCount")({address:l.address,blockTag:"pending"}),("self"===m||m?.address&&(0,d.isAddressEqual)(m.address,l.address))&&(n.nonce+=1)),n}a.s(["prepareAuthorization",()=>h])}];

//# sourceMappingURL=89298_debcf8d1._.js.map