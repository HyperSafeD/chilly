module.exports=[685356,(a,b,c)=>{"use strict";function d(a,b){return b}b.exports=function(){let a=Error.prepareStackTrace;Error.prepareStackTrace=d;let b=Error().stack;if(Error.prepareStackTrace=a,!Array.isArray(b))return;let c=b.slice(2),e=[];for(let a of c)a&&e.push(a.getFileName());return e}},110983,(a,b,c)=>{"use strict";let d,e={exit:[],beforeExit:[]},f={exit:function(){h("exit")},beforeExit:function(){h("beforeExit")}};function g(a){e[a].length>0||(process.removeListener(a,f[a]),0===e.exit.length&&0===e.beforeExit.length&&(d=void 0))}function h(a){for(let b of e[a]){let c=b.deref(),d=b.fn;void 0!==c&&d(c,a)}e[a]=[]}function i(a){for(let b of["exit","beforeExit"]){let c=e[b].indexOf(a);e[b].splice(c,c+1),g(b)}}function j(a,b,c){if(void 0===b)throw Error("the object can't be undefined");e[a].length>0||process.on(a,f[a]);let g=new WeakRef(b);g.fn=c,void 0===d&&(d=new FinalizationRegistry(i)),d.register(b,g),e[a].push(g)}b.exports={register:function(a,b){j("exit",a,b)},registerBeforeExit:function(a,b){j("beforeExit",a,b)},unregister:function(a){if(void 0!==d)for(let b of(d.unregister(a),["exit","beforeExit"]))e[b]=e[b].filter(b=>{let c=b.deref();return c&&c!==a}),g(b)}}},877360,a=>{a.v({name:"thread-stream",version:"3.1.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{build:"tsc --noEmit",test:'standard && npm run build && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*","test/syntax-error.mjs"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"})},514878,(a,b,c)=>{"use strict";b.exports={wait:function(a,b,c,d,e){let f=Date.now()+d,g=Atomics.load(a,b);if(g===c)return void e(null,"ok");let h=g,i=d=>{Date.now()>f?e(null,"timed-out"):setTimeout(()=>{h=g,(g=Atomics.load(a,b))===h?i(d>=1e3?1e3:2*d):g===c?e(null,"ok"):e(null,"not-equal")},d)};i(1)},waitDiff:function(a,b,c,d,e){let f=Date.now()+d,g=Atomics.load(a,b);if(g!==c)return void e(null,"ok");let h=d=>{Date.now()>f?e(null,"timed-out"):setTimeout(()=>{(g=Atomics.load(a,b))!==c?e(null,"ok"):h(d>=1e3?1e3:2*d)},d)};h(1)}}},602870,(a,b,c)=>{"use strict";b.exports={WRITE_INDEX:4,READ_INDEX:8}},502653,(a,b,c)=>{"use strict";let{version:d}=a.r(877360),{EventEmitter:e}=a.r(427699),{Worker:f}=a.r(37702),{join:g}=a.r(814747),{pathToFileURL:h}=a.r(792509),{wait:i}=a.r(514878),{WRITE_INDEX:j,READ_INDEX:k}=a.r(602870),l=a.r(500874),m=a.r(449719),o=Symbol("kImpl"),p=l.constants.MAX_STRING_LENGTH;class q{constructor(a){this._value=a}deref(){return this._value}}class r{register(){}unregister(){}}let s=process.env.NODE_V8_COVERAGE?r:a.g.FinalizationRegistry||r,t=process.env.NODE_V8_COVERAGE?q:a.g.WeakRef||q,u=new s(a=>{a.exited||a.terminate()});function v(a){m(!a[o].sync),a[o].needDrain&&(a[o].needDrain=!1,a.emit("drain"))}function w(a){let b=Atomics.load(a[o].state,j),c=a[o].data.length-b;if(c>0){if(0===a[o].buf.length){a[o].flushing=!1,a[o].ending?C(a):a[o].needDrain&&process.nextTick(v,a);return}let b=a[o].buf.slice(0,c),d=Buffer.byteLength(b);d<=c?(a[o].buf=a[o].buf.slice(c),B(a,b,w.bind(null,a))):a.flush(()=>{if(!a.destroyed){for(Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0);d>a[o].data.length;)c/=2,b=a[o].buf.slice(0,c),d=Buffer.byteLength(b);a[o].buf=a[o].buf.slice(c),B(a,b,w.bind(null,a))}})}else if(0===c){if(0===b&&0===a[o].buf.length)return;a.flush(()=>{Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0),w(a)})}else A(a,Error("overwritten"))}function x(a){let b=this.stream.deref();if(void 0===b){this.exited=!0,this.terminate();return}switch(a.code){case"READY":this.stream=new t(b),b.flush(()=>{b[o].ready=!0,b.emit("ready")});break;case"ERROR":A(b,a.err);break;case"EVENT":Array.isArray(a.args)?b.emit(a.name,...a.args):b.emit(a.name,a.args);break;case"WARNING":process.emitWarning(a.err);break;default:A(b,Error("this should not happen: "+a.code))}}function y(a){let b=this.stream.deref();void 0!==b&&(u.unregister(b),b.worker.exited=!0,b.worker.off("exit",y),A(b,0!==a?Error("the worker thread exited"):null))}function z(a,b){setImmediate(()=>{a.emit("error",b)})}function A(a,b){a[o].destroyed||(a[o].destroyed=!0,b&&(a[o].errored=b,z(a,b)),a.worker.exited?setImmediate(()=>{a[o].closed=!0,a.emit("close")}):a.worker.terminate().catch(()=>{}).then(()=>{a[o].closed=!0,a.emit("close")}))}function B(a,b,c){let d=Atomics.load(a[o].state,j),e=Buffer.byteLength(b);return a[o].data.write(b,d),Atomics.store(a[o].state,j,d+e),Atomics.notify(a[o].state,j),c(),!0}function C(a){if(!a[o].ended&&a[o].ending&&!a[o].flushing){a[o].ended=!0;try{a.flushSync();let b=Atomics.load(a[o].state,k);Atomics.store(a[o].state,j,-1),Atomics.notify(a[o].state,j);let c=0;for(;-1!==b;){if(Atomics.wait(a[o].state,k,b,1e3),b=Atomics.load(a[o].state,k),-2===b)return void A(a,Error("end() failed"));if(10==++c)return void A(a,Error("end() took too long (10s)"))}process.nextTick(()=>{a[o].finished=!0,a.emit("finish")})}catch(b){A(a,b)}}}function D(a){let b=()=>{a[o].ending?C(a):a[o].needDrain&&process.nextTick(v,a)};for(a[o].flushing=!1;0!==a[o].buf.length;){let c=Atomics.load(a[o].state,j),d=a[o].data.length-c;if(0===d){E(a),Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0);continue}if(d<0)throw Error("overwritten");let e=a[o].buf.slice(0,d),f=Buffer.byteLength(e);if(f<=d)a[o].buf=a[o].buf.slice(d),B(a,e,b);else{for(E(a),Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0);f>a[o].buf.length;)d/=2,e=a[o].buf.slice(0,d),f=Buffer.byteLength(e);a[o].buf=a[o].buf.slice(d),B(a,e,b)}}}function E(a){if(a[o].flushing)throw Error("unable to flush while flushing");let b=Atomics.load(a[o].state,j),c=0;for(;;){let d=Atomics.load(a[o].state,k);if(-2===d)throw Error("_flushSync failed");if(d!==b)Atomics.wait(a[o].state,k,d,1e3);else break;if(10==++c)throw Error("_flushSync took too long (10s)")}}b.exports=class extends e{constructor(a={}){if(super(),a.bufferSize<4)throw Error("bufferSize must at least fit a 4-byte utf-8 char");this[o]={},this[o].stateBuf=new SharedArrayBuffer(128),this[o].state=new Int32Array(this[o].stateBuf),this[o].dataBuf=new SharedArrayBuffer(a.bufferSize||4194304),this[o].data=Buffer.from(this[o].dataBuf),this[o].sync=a.sync||!1,this[o].ending=!1,this[o].ended=!1,this[o].needDrain=!1,this[o].destroyed=!1,this[o].flushing=!1,this[o].ready=!1,this[o].finished=!1,this[o].errored=null,this[o].closed=!1,this[o].buf="",this.worker=function(a,b){let{filename:c,workerData:e}=b,i=new f(("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||g("/ROOT/Desktop/walletconnect/chilly/node_modules/@reown/appkit-controllers/node_modules/thread-stream","lib","worker.js"),{...b.workerOpts,trackUnmanagedFds:!1,workerData:{filename:0===c.indexOf("file://")?c:h(c).href,dataBuf:a[o].dataBuf,stateBuf:a[o].stateBuf,workerData:{$context:{threadStreamVersion:d},...e}}});return i.stream=new q(a),i.on("message",x),i.on("exit",y),u.register(a,i),i}(this,a),this.on("message",(a,b)=>{this.worker.postMessage(a,b)})}write(a){if(this[o].destroyed)return z(this,Error("the worker has exited")),!1;if(this[o].ending)return z(this,Error("the worker is ending")),!1;if(this[o].flushing&&this[o].buf.length+a.length>=p)try{D(this),this[o].flushing=!0}catch(a){return A(this,a),!1}if(this[o].buf+=a,this[o].sync)try{return D(this),!0}catch(a){return A(this,a),!1}return this[o].flushing||(this[o].flushing=!0,setImmediate(w,this)),this[o].needDrain=this[o].data.length-this[o].buf.length-Atomics.load(this[o].state,j)<=0,!this[o].needDrain}end(){this[o].destroyed||(this[o].ending=!0,C(this))}flush(a){if(this[o].destroyed){"function"==typeof a&&process.nextTick(a,Error("the worker has exited"));return}let b=Atomics.load(this[o].state,j);i(this[o].state,k,b,1/0,(b,c)=>{if(b){A(this,b),process.nextTick(a,b);return}"not-equal"===c?this.flush(a):process.nextTick(a)})}flushSync(){this[o].destroyed||(D(this),E(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[o].ready}get destroyed(){return this[o].destroyed}get closed(){return this[o].closed}get writable(){return!this[o].destroyed&&!this[o].ending}get writableEnded(){return this[o].ending}get writableFinished(){return this[o].finished}get writableNeedDrain(){return this[o].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[o].errored}}},920571,(a,b,c)=>{"use strict";let{createRequire:d}=a.r(362562),e=a.r(685356),{join:f,isAbsolute:g,sep:h}=a.r(750227),i=a.r(296175),j=a.r(110983),k=a.r(502653);function l(a){a.ref(),a.flushSync(),a.end(),a.once("close",function(){a.unref()})}function m(a){a.flushSync()}b.exports=function(a){let{pipeline:b,targets:c,levels:o,dedupe:p,worker:q={},caller:r=e(),sync:s=!1}=a,t={...a.options},u="string"==typeof r?[r]:r,v="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},w=a.target;if(w&&c)throw Error("only one of target or targets can be specified");c?(w=v["pino-worker"]||f("/ROOT/Desktop/walletconnect/chilly/node_modules/@reown/appkit-controllers/node_modules/pino/lib","worker.js"),t.targets=c.filter(a=>a.target).map(a=>({...a,target:z(a.target)})),t.pipelines=c.filter(a=>a.pipeline).map(a=>a.pipeline.map(b=>({...b,level:a.level,target:z(b.target)})))):b&&(w=v["pino-worker"]||f("/ROOT/Desktop/walletconnect/chilly/node_modules/@reown/appkit-controllers/node_modules/pino/lib","worker.js"),t.pipelines=[b.map(a=>({...a,target:z(a.target)}))]),o&&(t.levels=o),p&&(t.dedupe=p),t.pinoWillSendConfig=!0;let x=new k({filename:z(w),workerData:t,workerOpts:q,sync:s});function y(){x.closed||(x.flushSync(),i(100),x.end())}return x.on("ready",function(){process.removeListener("exit",y),x.unref(),!1!==q.autoEnd&&(j.register(x,l),j.registerBeforeExit(x,m),x.on("close",function(){j.unregister(x)}))}),x.on("close",function(){process.removeListener("exit",y)}),process.on("exit",y),x;function z(a){let b;if(g(a=v[a]||a)||0===a.indexOf("file://"))return a;if("pino/file"===a)return f("/ROOT/Desktop/walletconnect/chilly/node_modules/@reown/appkit-controllers/node_modules/pino/lib","..","file.js");for(let c of u)try{let e="node:repl"===c?process.cwd()+h:c;b=d(e).resolve(a);break}catch(a){continue}if(!b)throw Error(`unable to determine transport target for "${a}"`);return b}}},180021,(a,b,c)=>{b.exports={DEFAULT_LEVELS:{trace:10,debug:20,info:30,warn:40,error:50,fatal:60},SORTING_ORDER:{ASC:"ASC",DESC:"DESC"}}},212087,(a,b,c)=>{"use strict";let d=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:e}=a.r(180021),f=e.info;function g(a,b){return a.level-b.level}b.exports=function(a,b){a=a||[],b=b||{dedupe:!1};let c=Object.create(e);c.silent=1/0,b.levels&&"object"==typeof b.levels&&Object.keys(b.levels).forEach(a=>{c[a]=b.levels[a]});let h={write:i,add:l,remove:m,emit:j,flushSync:k,end:function(){for(let{stream:a}of this.streams)"function"==typeof a.flushSync&&a.flushSync(),a.end()},minLevel:0,lastId:0,streams:[],clone:function a(b){let c=Array(this.streams.length);for(let a=0;a<c.length;a++)c[a]={level:b,stream:this.streams[a].stream};return{write:i,add:l,remove:m,minLevel:b,streams:c,clone:a,emit:j,flushSync:k,[d]:!0}},[d]:!0,streamLevels:c};return Array.isArray(a)?a.forEach(l,h):l.call(h,a),a=null,h;function i(a){var c,e,f,g;let h,i,j=this.lastLevel,{streams:k}=this,l=0;for(let m=(c=k.length,b.dedupe?c-1:0);e=m,f=k.length,b.dedupe?e>=0:e<f;g=m,m=b.dedupe?g-1:g+1)if((h=k[m]).level<=j){if(0!==l&&l!==h.level)break;if((i=h.stream)[d]){let{lastTime:a,lastMsg:b,lastObj:c,lastLogger:d}=this;i.lastLevel=j,i.lastTime=a,i.lastMsg=b,i.lastObj=c,i.lastLogger=d}i.write(a),b.dedupe&&(l=h.level)}else if(!b.dedupe)break}function j(...a){for(let{stream:b}of this.streams)"function"==typeof b.emit&&b.emit(...a)}function k(){for(let{stream:a}of this.streams)"function"==typeof a.flushSync&&a.flushSync()}function l(a){if(!a)return h;let b="function"==typeof a.write||a.stream,c=a.write?a:a.stream;if(!b)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:d,streamLevels:e}=this,i={stream:c,level:"number"==typeof a.levelVal?a.levelVal:"string"==typeof a.level?e[a.level]:"number"==typeof a.level?a.level:f,levelVal:void 0,id:++h.lastId};return d.unshift(i),d.sort(g),this.minLevel=d[0].level,h}function m(a){let{streams:b}=this,c=b.findIndex(b=>b.id===a);return c>=0&&(b.splice(c,1),b.sort(g),this.minLevel=b.length>0?b[0].level:-1),h}}},879431,(a,b,c)=>{"use strict";let d=a=>a&&"string"==typeof a.message,e=a=>{if(!a)return;let b=a.cause;if("function"!=typeof b)return d(b)?b:void 0;{let b=a.cause();return d(b)?b:void 0}},f=(a,b)=>{if(!d(a))return"";let c=a.stack||"";if(b.has(a))return c+"\ncauses have become circular...";let g=e(a);return g?(b.add(a),c+"\ncaused by: "+f(g,b)):c},g=(a,b,c)=>{if(!d(a))return"";let f=c?"":a.message||"";if(b.has(a))return f+": ...";let h=e(a);if(!h)return f;{b.add(a);let c="function"==typeof a.cause;return f+(c?"":": ")+g(h,b,c)}};b.exports={isErrorLike:d,getErrorCause:e,stackWithCauses:a=>f(a,new Set),messageWithCauses:a=>g(a,new Set)}},13089,(a,b,c)=>{"use strict";let d=Symbol("circular-ref-tag"),e=Symbol("pino-raw-err-ref"),f=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[e]},set:function(a){this[e]=a}}});Object.defineProperty(f,e,{writable:!0,value:{}}),b.exports={pinoErrProto:f,pinoErrorSymbols:{seen:d,rawSymbol:e}}},956238,(a,b,c)=>{"use strict";b.exports=function a(b){if(!f(b))return b;b[i]=void 0;let c=Object.create(g);for(let g in c.type="[object Function]"===j.call(b.constructor)?b.constructor.name:b.name,c.message=d(b),c.stack=e(b),Array.isArray(b.errors)&&(c.aggregateErrors=b.errors.map(b=>a(b))),b)if(void 0===c[g]){let d=b[g];f(d)?"cause"===g||Object.prototype.hasOwnProperty.call(d,i)||(c[g]=a(d)):c[g]=d}return delete b[i],c.raw=b,c};let{messageWithCauses:d,stackWithCauses:e,isErrorLike:f}=a.r(879431),{pinoErrProto:g,pinoErrorSymbols:h}=a.r(13089),{seen:i}=h,{toString:j}=Object.prototype},270271,(a,b,c)=>{"use strict";b.exports=function a(b){if(!d(b))return b;b[g]=void 0;let c=Object.create(e);for(let e in c.type="[object Function]"===h.call(b.constructor)?b.constructor.name:b.name,c.message=b.message,c.stack=b.stack,Array.isArray(b.errors)&&(c.aggregateErrors=b.errors.map(b=>a(b))),d(b.cause)&&!Object.prototype.hasOwnProperty.call(b.cause,g)&&(c.cause=a(b.cause)),b)if(void 0===c[e]){let f=b[e];d(f)?Object.prototype.hasOwnProperty.call(f,g)||(c[e]=a(f)):c[e]=f}return delete b[g],c.raw=b,c};let{isErrorLike:d}=a.r(879431),{pinoErrProto:e,pinoErrorSymbols:f}=a.r(13089),{seen:g}=f,{toString:h}=Object.prototype},240988,(a,b,c)=>{"use strict";b.exports={mapHttpRequest:function(a){return{req:f(a)}},reqSerializer:f};let d=Symbol("pino-raw-req-ref"),e=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[d]},set:function(a){this[d]=a}}});function f(a){let b=a.info||a.socket,c=Object.create(e);if(c.id="function"==typeof a.id?a.id():a.id||(a.info?a.info.id:void 0),c.method=a.method,a.originalUrl)c.url=a.originalUrl;else{let b=a.path;c.url="string"==typeof b?b:a.url?a.url.path||a.url:void 0}return a.query&&(c.query=a.query),a.params&&(c.params=a.params),c.headers=a.headers,c.remoteAddress=b&&b.remoteAddress,c.remotePort=b&&b.remotePort,c.raw=a.raw||a,c}Object.defineProperty(e,d,{writable:!0,value:{}})},826903,(a,b,c)=>{"use strict";b.exports={mapHttpResponse:function(a){return{res:f(a)}},resSerializer:f};let d=Symbol("pino-raw-res-ref"),e=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[d]},set:function(a){this[d]=a}}});function f(a){let b=Object.create(e);return b.statusCode=a.headersSent?a.statusCode:null,b.headers=a.getHeaders?a.getHeaders():a._headers,b.raw=a,b}Object.defineProperty(e,d,{writable:!0,value:{}})},220275,(a,b,c)=>{"use strict";let d=a.r(956238),e=a.r(270271),f=a.r(240988),g=a.r(826903);b.exports={err:d,errWithCause:e,mapHttpRequest:f.mapHttpRequest,mapHttpResponse:g.mapHttpResponse,req:f.reqSerializer,res:g.resSerializer,wrapErrorSerializer:function(a){return a===d?a:function(b){return a(d(b))}},wrapRequestSerializer:function(a){return a===f.reqSerializer?a:function(b){return a(f.reqSerializer(b))}},wrapResponseSerializer:function(a){return a===g.resSerializer?a:function(b){return a(g.resSerializer(b))}}}},951382,(a,b,c)=>{"use strict";let d=Symbol("pino.setLevel"),e=Symbol("pino.getLevel"),f=Symbol("pino.levelVal"),g=Symbol("pino.levelComp"),h=Symbol("pino.useLevelLabels"),i=Symbol("pino.useOnlyCustomLevels"),j=Symbol("pino.mixin"),k=Symbol("pino.lsCache"),l=Symbol("pino.chindings"),m=Symbol("pino.asJson"),o=Symbol("pino.write"),p=Symbol("pino.redactFmt"),q=Symbol("pino.time"),r=Symbol("pino.timeSliceIndex"),s=Symbol("pino.stream"),t=Symbol("pino.stringify"),u=Symbol("pino.stringifySafe"),v=Symbol("pino.stringifiers"),w=Symbol("pino.end"),x=Symbol("pino.formatOpts"),y=Symbol("pino.messageKey"),z=Symbol("pino.errorKey"),A=Symbol("pino.nestedKey"),B=Symbol("pino.nestedKeyStr"),C=Symbol("pino.mixinMergeStrategy"),D=Symbol("pino.msgPrefix"),E=Symbol("pino.wildcardFirst"),F=Symbol.for("pino.serializers"),G=Symbol.for("pino.formatters"),H=Symbol.for("pino.hooks");b.exports={setLevelSym:d,getLevelSym:e,levelValSym:f,levelCompSym:g,useLevelLabelsSym:h,mixinSym:j,lsCacheSym:k,chindingsSym:l,asJsonSym:m,writeSym:o,serializersSym:F,redactFmtSym:p,timeSym:q,timeSliceIndexSym:r,streamSym:s,stringifySym:t,stringifySafeSym:u,stringifiersSym:v,endSym:w,formatOptsSym:x,messageKeySym:y,errorKeySym:z,nestedKeySym:A,wildcardFirstSym:E,needsMetadataGsym:Symbol.for("pino.metadata"),useOnlyCustomLevelsSym:i,formattersSym:G,hooksSym:H,nestedKeyStrSym:B,mixinMergeStrategySym:C,msgPrefixSym:D}},373535,(a,b,c)=>{"use strict";let d=a.r(71347),{redactFmtSym:e,wildcardFirstSym:f}=a.r(951382),g=/[^.[\]]+|\[([^[\]]*?)\]/g,h="[Redacted]";b.exports=function(a,b){let{paths:c,censor:i,remove:j}=function(a){if(Array.isArray(a))return{paths:a,censor:h};let{paths:b,censor:c=h,remove:d}=a;if(!1===Array.isArray(b))throw Error("pino â€“ redact must contain an array of strings");return!0===d&&(c=void 0),{paths:b,censor:c,remove:d}}(a),k=c.reduce((a,b)=>{g.lastIndex=0;let c=g.exec(b),d=g.exec(b),e=void 0!==c[1]?c[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):c[0];if("*"===e&&(e=f),null===d)return a[e]=null,a;if(null===a[e])return a;let{index:h}=d,i=`${b.substr(h,b.length-1)}`;return a[e]=a[e]||[],e!==f&&0===a[e].length&&a[e].push(...a[f]||[]),e===f&&Object.keys(a).forEach(function(b){a[b]&&a[b].push(i)}),a[e].push(i),a},{}),l={[e]:d({paths:c,censor:i,serialize:b,strict:!1,remove:j})};return[...Object.keys(k),...Object.getOwnPropertySymbols(k)].reduce((a,c)=>{if(null===k[c])a[c]=a=>((...a)=>"function"==typeof i?b(i(...a)):b(i))(a,[c]);else{let e="function"==typeof i?(a,b)=>i(a,[c,...b]):i;a[c]=d({paths:k[c],censor:e,serialize:b,strict:!1,remove:j})}return a},l)}},154792,(a,b,c)=>{"use strict";let d=1000000n*BigInt(Date.now()),e=process.hrtime.bigint();b.exports={nullTime:()=>"",epochTime:()=>`,"time":${Date.now()}`,unixTime:()=>`,"time":${Math.round(Date.now()/1e3)}`,isoTime:()=>`,"time":"${new Date(Date.now()).toISOString()}"`,isoTimeNano:()=>{let a=d+(process.hrtime.bigint()-e),b=a%1000000000n,c=new Date(Number(a/1000000000n*1000n+b/1000000n)),f=c.getUTCFullYear(),g=(c.getUTCMonth()+1).toString().padStart(2,"0"),h=c.getUTCDate().toString().padStart(2,"0"),i=c.getUTCHours().toString().padStart(2,"0"),j=c.getUTCMinutes().toString().padStart(2,"0"),k=c.getUTCSeconds().toString().padStart(2,"0");return`,"time":"${f}-${g}-${h}T${i}:${j}:${k}.${b.toString().padStart(9,"0")}Z"`}}},45209,(a,b,c)=>{"use strict";let d=a.r(522734),e=a.r(427699),f=a.r(224361).inherits,g=a.r(814747),h=a.r(296175),i=a.r(449719),j=Buffer.allocUnsafe(0),k="buffer",l="utf8",[m,o]=(process.versions.node||"0.0").split(".").map(Number),p=m>=22&&o>=7;function q(a,b){function c(c,d){if(c){b._reopening=!1,b._writing=!1,b._opening=!1,b.sync?process.nextTick(()=>{b.listenerCount("error")>0&&b.emit("error",c)}):b.emit("error",c);return}let e=b._reopening;b.fd=d,b.file=a,b._reopening=!1,b._opening=!1,b._writing=!1,b.sync?process.nextTick(()=>b.emit("ready")):b.emit("ready"),!b.destroyed&&(!b._writing&&b._len>b.minLength||b._flushPending?b._actualWrite():e&&process.nextTick(()=>b.emit("drain")))}b._opening=!0,b._writing=!0,b._asyncDrainScheduled=!1;let e=b.append?"a":"w",f=b.mode;if(b.sync)try{b.mkdir&&d.mkdirSync(g.dirname(a),{recursive:!0});let h=d.openSync(a,e,f);c(null,h)}catch(a){throw c(a),a}else b.mkdir?d.mkdir(g.dirname(a),{recursive:!0},b=>{if(b)return c(b);d.open(a,e,f,c)}):d.open(a,e,f,c)}function r(a){let b,c;if(!(this instanceof r))return new r(a);let{fd:e,dest:f,minLength:g,maxLength:i,maxWrite:m,periodicFlush:o,sync:p,append:u=!0,mkdir:x,retryEAGAIN:F,fsync:G,contentMode:H,mode:I}=a||{};if(e=e||f,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(g||0,16387),this.file=null,this.destroyed=!1,this.minLength=g||0,this.maxLength=i||0,this.maxWrite=m||16384,this._periodicFlush=o||0,this._periodicFlushTimer=void 0,this.sync=p||!1,this.writable=!0,this._fsync=G||!1,this.append=u||!1,this.mode=I,this.retryEAGAIN=F||(()=>!0),this.mkdir=x||!1,H===k)this._writingBuf=j,this.write=w,this.flush=z,this.flushSync=B,this._actualWrite=D,b=()=>d.writeSync(this.fd,this._writingBuf),c=()=>d.write(this.fd,this._writingBuf,this.release);else if(void 0===H||H===l)this._writingBuf="",this.write=v,this.flush=y,this.flushSync=A,this._actualWrite=C,b=()=>d.writeSync(this.fd,this._writingBuf,"utf8"),c=()=>d.write(this.fd,this._writingBuf,"utf8",this.release);else throw Error(`SonicBoom supports "${l}" and "${k}", but passed ${H}`);if("number"==typeof e)this.fd=e,process.nextTick(()=>this.emit("ready"));else if("string"==typeof e)q(e,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(a,e)=>{if(a){if(("EAGAIN"===a.code||"EBUSY"===a.code)&&this.retryEAGAIN(a,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{h(100),this.release(void 0,0)}catch(a){this.release(a)}else setTimeout(c,100);else this._writing=!1,this.emit("error",a);return}this.emit("write",e);let f=s(this._writingBuf,this._len,e);if(this._len=f.len,this._writingBuf=f.writingBuf,this._writingBuf.length){if(!this.sync)return void c();try{do{let a=b(),c=s(this._writingBuf,this._len,a);this._len=c.len,this._writingBuf=c.writingBuf}while(this._writingBuf.length)}catch(a){this.release(a);return}}this._fsync&&d.fsyncSync(this.fd);let g=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):g>this.minLength?this._actualWrite():this._ending?g>0?this._actualWrite():(this._writing=!1,E(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(t,this)):this.emit("drain"))},this.on("newListener",function(a){"drain"===a&&(this._asyncDrainScheduled=!1)}),0!==this._periodicFlush&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function s(a,b,c){return"string"==typeof a&&Buffer.byteLength(a)!==c&&(c=Buffer.from(a).subarray(0,c).toString().length),b=Math.max(b-c,0),{writingBuf:a=a.slice(c),len:b}}function t(a){a.listenerCount("drain")>0&&(a._asyncDrainScheduled=!1,a.emit("drain"))}function u(a,b){return 0===a.length?j:1===a.length?a[0]:Buffer.concat(a,b)}function v(a){if(this.destroyed)throw Error("SonicBoom destroyed");let b=this._len+a.length,c=this._bufs;return this.maxLength&&b>this.maxLength?this.emit("drop",a):(0===c.length||c[c.length-1].length+a.length>this.maxWrite?c.push(""+a):c[c.length-1]+=a,this._len=b,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function w(a){if(this.destroyed)throw Error("SonicBoom destroyed");let b=this._len+a.length,c=this._bufs,d=this._lens;return this.maxLength&&b>this.maxLength?this.emit("drop",a):(0===c.length||d[d.length-1]+a.length>this.maxWrite?(c.push([a]),d.push(a.length)):(c[c.length-1].push(a),d[d.length-1]+=a.length),this._len=b,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function x(a){this._flushPending=!0;let b=()=>{if(this._fsync)this._flushPending=!1,a();else try{d.fsync(this.fd,b=>{this._flushPending=!1,a(b)})}catch(b){a(b)}this.off("error",c)},c=c=>{this._flushPending=!1,a(c),this.off("drain",b)};this.once("drain",b),this.once("error",c)}function y(a){if(null!=a&&"function"!=typeof a)throw Error("flush cb must be a function");if(this.destroyed){let b=Error("SonicBoom destroyed");if(a)return void a(b);throw b}this.minLength<=0?a?.():(a&&x.call(this,a),this._writing||(0===this._bufs.length&&this._bufs.push(""),this._actualWrite()))}function z(a){if(null!=a&&"function"!=typeof a)throw Error("flush cb must be a function");if(this.destroyed){let b=Error("SonicBoom destroyed");if(a)return void a(b);throw b}this.minLength<=0?a?.():(a&&x.call(this,a),this._writing||(0===this._bufs.length&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite()))}function A(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let a="";for(;this._bufs.length||a;){a.length<=0&&(a=this._bufs[0]);try{let b=d.writeSync(this.fd,a,"utf8"),c=s(a,this._len,b);a=c.writingBuf,this._len=c.len,a.length<=0&&this._bufs.shift()}catch(b){if(("EAGAIN"===b.code||"EBUSY"===b.code)&&!this.retryEAGAIN(b,a.length,this._len-a.length))throw b;h(100)}}try{d.fsyncSync(this.fd)}catch{}}function B(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=j);let a=j;for(;this._bufs.length||a.length;){a.length<=0&&(a=u(this._bufs[0],this._lens[0]));try{let b=d.writeSync(this.fd,a);a=a.subarray(b),this._len=Math.max(this._len-b,0),a.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(b){if(("EAGAIN"===b.code||"EBUSY"===b.code)&&!this.retryEAGAIN(b,a.length,this._len-a.length))throw b;h(100)}}}function C(){let a=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let b=d.writeSync(this.fd,this._writingBuf,"utf8");a(null,b)}catch(b){a(b)}else d.write(this.fd,this._writingBuf,"utf8",a)}function D(){let a=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:u(this._bufs.shift(),this._lens.shift()),this.sync)try{let b=d.writeSync(this.fd,this._writingBuf);a(null,b)}catch(b){a(b)}else p&&(this._writingBuf=Buffer.from(this._writingBuf)),d.write(this.fd,this._writingBuf,a)}function E(a){if(-1===a.fd)return void a.once("ready",E.bind(null,a));void 0!==a._periodicFlushTimer&&clearInterval(a._periodicFlushTimer),a.destroyed=!0,a._bufs=[],a._lens=[],i("number"==typeof a.fd,`sonic.fd must be a number, got ${typeof a.fd}`);try{d.fsync(a.fd,function(){1!==a.fd&&2!==a.fd?d.close(a.fd,b):b()})}catch{}function b(b){b?a.emit("error",b):(a._ending&&!a._writing&&a.emit("finish"),a.emit("close"))}}f(r,e),r.prototype.reopen=function(a){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.reopen(a)});if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(a&&(this.file=a),this._reopening=!0,this._writing)return;let b=this.fd;this.once("ready",()=>{b!==this.fd&&d.close(b,a=>{if(a)return this.emit("error",a)})}),q(this.file,this)},r.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");this._opening?this.once("ready",()=>{this.end()}):this._ending||(this._ending=!0,this._writing||(this._len>0&&this.fd>=0?this._actualWrite():E(this)))},r.prototype.destroy=function(){this.destroyed||E(this)},r.SonicBoom=r,r.default=r,b.exports=r},848938,(a,b,c)=>{"use strict";let d=a.r(677652),e=a.r(91972),{mapHttpRequest:f,mapHttpResponse:g}=a.r(220275),h=a.r(45209),i=a.r(110983),{lsCacheSym:j,chindingsSym:k,writeSym:l,serializersSym:m,formatOptsSym:o,endSym:p,stringifiersSym:q,stringifySym:r,stringifySafeSym:s,wildcardFirstSym:t,nestedKeySym:u,formattersSym:v,messageKeySym:w,errorKeySym:x,nestedKeyStrSym:y,msgPrefixSym:z}=a.r(951382),{isMainThread:A}=a.r(37702),B=a.r(920571),C=d.tracingChannel("pino_asJson");function D(){}function E(a){let b="",c=0,d=!1,e=255,f=a.length;if(f>100)return JSON.stringify(a);for(var g=0;g<f&&e>=32;g++)(34===(e=a.charCodeAt(g))||92===e)&&(b+=a.slice(c,g)+"\\",c=g,d=!0);return d?b+=a.slice(c):b=a,e<32?JSON.stringify(a):'"'+b+'"'}function F(a,b,c,d){let e,f=this[r],g=this[s],h=this[q],i=this[p],l=this[k],o=this[m],z=this[v],A=this[w],B=this[x],C=this[j][c]+d;C+=l,z.log&&(a=z.log(a));let D=h[t],F="";for(let b in a)if(e=a[b],Object.prototype.hasOwnProperty.call(a,b)&&void 0!==e){o[b]?e=o[b](e):b===B&&o.err&&(e=o.err(e));let a=h[b]||D;switch(typeof e){case"undefined":case"function":continue;case"number":!1===Number.isFinite(e)&&(e=null);case"boolean":a&&(e=a(e));break;case"string":e=(a||E)(e);break;default:e=(a||f)(e,g)}if(void 0===e)continue;F+=","+E(b)+":"+e}let G="";if(void 0!==b){e=o[A]?o[A](b):b;let a=h[A]||D;switch(typeof e){case"function":break;case"number":!1===Number.isFinite(e)&&(e=null);case"boolean":a&&(e=a(e)),G=',"'+A+'":'+e;break;case"string":G=',"'+A+'":'+(e=(a||E)(e));break;default:G=',"'+A+'":'+(e=(a||f)(e,g))}}return this[u]&&F?C+this[y]+F.slice(1)+"}"+G+i:C+F+G+i}function G(a){let b=new h(a);return b.on("error",function a(c){if("EPIPE"===c.code){b.write=D,b.end=D,b.flushSync=D,b.destroy=D;return}b.removeListener("error",a),b.emit("error",c)}),!a.sync&&A&&(i.register(b,H),b.on("close",function(){i.unregister(b)})),b}function H(a,b){a.destroyed||("beforeExit"===b?(a.flush(),a.on("drain",function(){a.end()})):a.flushSync())}b.exports={noop:D,buildSafeSonicBoom:G,asChindings:function(a,b){let c,d=a[k],e=a[r],f=a[s],g=a[q],h=g[t],i=a[m];for(let j in b=(0,a[v].bindings)(b))if(c=b[j],!0===((j.length<5||"level"!==j&&"serializers"!==j&&"formatters"!==j&&"customLevels"!==j)&&b.hasOwnProperty(j)&&void 0!==c)){if(c=i[j]?i[j](c):c,void 0===(c=(g[j]||h||e)(c,f)))continue;d+=',"'+j+'":'+c}return d},asJson:function(a,b,c,d){return!1===C.hasSubscribers?F.call(this,a,b,c,d):C.traceSync(F,{instance:this,arguments},this,a,b,c,d)},genLog:function(a,b){if(!b)return c;return function(...d){b.call(this,d,c,a)};function c(b,...d){if("object"==typeof b){let c,h=b;null!==b&&(b.method&&b.headers&&b.socket?b=f(b):"function"==typeof b.setHeader&&(b=g(b))),null===h&&0===d.length?c=[null]:(h=d.shift(),c=d),"string"==typeof this[z]&&null!=h&&(h=this[z]+h),this[l](b,e(h,c,this[o]),a)}else{let c=void 0===b?d.shift():b;"string"==typeof this[z]&&null!=c&&(c=this[z]+c),this[l](null,e(c,d,this[o]),a)}}},createArgsNormalizer:function(a){return function(b,c,d={},e){if("string"==typeof d)e=G({dest:d}),d={};else if("string"==typeof e){if(d&&d.transport)throw Error("only one of option.transport or stream can be specified");e=G({dest:e})}else if(d instanceof h||d.writable||d._writableState)e=d,d={};else if(d.transport){let a;if(d.transport instanceof h||d.transport.writable||d.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(d.transport.targets&&d.transport.targets.length&&d.formatters&&"function"==typeof d.formatters.level)throw Error("option.transport.targets do not allow custom level formatters");d.customLevels&&(a=d.useOnlyCustomLevels?d.customLevels:Object.assign({},d.levels,d.customLevels)),e=B({caller:c,...d.transport,levels:a})}if((d=Object.assign({},a,d)).serializers=Object.assign({},a.serializers,d.serializers),d.formatters=Object.assign({},a.formatters,d.formatters),d.prettyPrint)throw Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:f,onChild:g}=d;if(!1===f&&(d.level="silent"),g||(d.onChild=D),!e){var i;e=(i=process.stdout).write!==i.constructor.prototype.write?process.stdout:G({fd:process.stdout.fd||1})}return{opts:d,stream:e}}},stringify:function(a,b){try{return JSON.stringify(a)}catch(c){try{return(b||this[s])(a)}catch(a){return'"[unable to serialize, circular reference is too complex to analyze]"'}}},buildFormatters:function(a,b,c){return{level:a,bindings:b,log:c}},normalizeDestFileDescriptor:function(a){let b=Number(a);return"string"==typeof a&&Number.isFinite(b)?b:void 0===a?1:a}}},149749,(a,b,c)=>{"use strict";let{lsCacheSym:d,levelValSym:e,useOnlyCustomLevelsSym:f,streamSym:g,formattersSym:h,hooksSym:i,levelCompSym:j}=a.r(951382),{noop:k,genLog:l}=a.r(848938),{DEFAULT_LEVELS:m,SORTING_ORDER:o}=a.r(180021),p={fatal:a=>{let b=l(m.fatal,a);return function(...a){let c=this[g];if(b.call(this,...a),"function"==typeof c.flushSync)try{c.flushSync()}catch(a){}}},error:a=>l(m.error,a),warn:a=>l(m.warn,a),info:a=>l(m.info,a),debug:a=>l(m.debug,a),trace:a=>l(m.trace,a)},q=Object.keys(m).reduce((a,b)=>(a[m[b]]=b,a),{});function r(a,b,c){return a===o.DESC?b<=c:b>=c}b.exports={initialLsCache:Object.keys(q).reduce((a,b)=>(a[b]='{"level":'+Number(b),a),{}),genLsCache:function(a){let b=a[h].level,{labels:c}=a.levels,e={};for(let a in c){let d=b(c[a],Number(a));e[a]=JSON.stringify(d).slice(0,-1)}return a[d]=e,a},levelMethods:p,getLevel:function(a){let{levels:b,levelVal:c}=this;return b&&b.labels?b.labels[c]:""},setLevel:function(a){let{labels:b,values:c}=this.levels;if("number"==typeof a){if(void 0===b[a])throw Error("unknown level value"+a);a=b[a]}if(void 0===c[a])throw Error("unknown level "+a);let d=this[e],g=this[e]=c[a],h=this[f],m=this[j],o=this[i].logMethod;for(let a in c){if(!1===m(c[a],g)){this[a]=k;continue}this[a]=!function(a,b){if(b)return!1;switch(a){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}(a,h)?l(c[a],o):p[a](o)}this.emit("level-change",a,g,b[d],d,this)},isLevelEnabled:function(a){let{values:b}=this.levels,c=b[a];return void 0!==c&&this[j](c,this[e])},mappings:function(a=null,b=!1){let c=a?Object.keys(a).reduce((b,c)=>(b[a[c]]=c,b),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),b?null:q,c),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),b?null:m,a)}},assertNoLevelCollisions:function(a,b){let{labels:c,values:d}=a;for(let a in b){if(a in d)throw Error("levels cannot be overridden");if(b[a]in c)throw Error("pre-existing level values cannot be used for new levels")}},assertDefaultLevelFound:function(a,b,c){if("number"==typeof a){if(![].concat(Object.keys(b||{}).map(a=>b[a]),c?[]:Object.keys(q).map(a=>+a),1/0).includes(a))throw Error(`default level:${a} must be included in custom levels`);return}if(!(a in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),c?null:m,b)))throw Error(`default level:${a} must be included in custom levels`)},genLevelComparison:function(a){return"string"==typeof a?r.bind(null,a):a},assertLevelComparison:function(a){if("function"!=typeof a&&!("string"==typeof a&&Object.values(o).includes(a)))throw Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}}},41818,(a,b,c)=>{"use strict";b.exports={version:"10.0.0"}},879962,(a,b,c)=>{"use strict";let{EventEmitter:d}=a.r(687769),{lsCacheSym:e,levelValSym:f,setLevelSym:g,getLevelSym:h,chindingsSym:i,parsedChindingsSym:j,mixinSym:k,asJsonSym:l,writeSym:m,mixinMergeStrategySym:o,timeSym:p,timeSliceIndexSym:q,streamSym:r,serializersSym:s,formattersSym:t,errorKeySym:u,messageKeySym:v,useOnlyCustomLevelsSym:w,needsMetadataGsym:x,redactFmtSym:y,stringifySym:z,formatOptsSym:A,stringifiersSym:B,msgPrefixSym:C,hooksSym:D}=a.r(951382),{getLevel:E,setLevel:F,isLevelEnabled:G,mappings:H,initialLsCache:I,genLsCache:J,assertNoLevelCollisions:K}=a.r(149749),{asChindings:L,asJson:M,buildFormatters:N,stringify:O,noop:P}=a.r(848938),{version:Q}=a.r(41818),R=a.r(373535),S={constructor:class{},child:function(a,b){if(!a)throw Error("missing bindings for child Pino");let c=this[s],d=this[t],e=Object.create(this);if(null==b)return e[t].bindings!==T&&(e[t]=N(d.level,T,d.log)),e[i]=L(e,a),this.onChild!==P&&this.onChild(e),e;if(!0===b.hasOwnProperty("serializers")){for(let a in e[s]=Object.create(null),c)e[s][a]=c[a];let a=Object.getOwnPropertySymbols(c);for(var f=0;f<a.length;f++){let b=a[f];e[s][b]=c[b]}for(let a in b.serializers)e[s][a]=b.serializers[a];let d=Object.getOwnPropertySymbols(b.serializers);for(var h=0;h<d.length;h++){let a=d[h];e[s][a]=b.serializers[a]}}else e[s]=c;if(b.hasOwnProperty("formatters")){let{level:a,bindings:c,log:f}=b.formatters;e[t]=N(a||d.level,c||T,f||d.log)}else e[t]=N(d.level,T,d.log);if(!0===b.hasOwnProperty("customLevels")&&(K(this.levels,b.customLevels),e.levels=H(b.customLevels,e[w]),J(e)),"object"==typeof b.redact&&null!==b.redact||Array.isArray(b.redact)){e.redact=b.redact;let a=R(e.redact,O),c={stringify:a[y]};e[z]=O,e[B]=a,e[A]=c}if("string"==typeof b.msgPrefix&&(e[C]=(this[C]||"")+b.msgPrefix),e[i]=L(e,a),void 0!==b.level&&b.level!==this.level||b.hasOwnProperty("customLevels")){let a=b.level||this.level;e[g](a)}return this.onChild(e),e},bindings:function(){let a=this[i],b=JSON.parse(`{${a.substr(1)}}`);return delete b.pid,delete b.hostname,b},setBindings:function(a){let b=L(this,a);this[i]=b,delete this[j]},flush:function(a){if(null!=a&&"function"!=typeof a)throw Error("callback must be a function");let b=this[r];"function"==typeof b.flush?b.flush(a||P):a&&a()},isLevelEnabled:G,version:Q,get level(){return this[h]()},set level(lvl){this[g](lvl)},get levelVal(){return this[f]},set levelVal(n){throw Error("levelVal is read-only")},get msgPrefix(){return this[C]},get[Symbol.toStringTag](){return"Pino"},[e]:I,[m]:function(a,b,c){let d,e=this[p](),f=this[k],g=this[u],h=this[v],i=this[o]||U,j=this[D].streamWrite;null==a?d={}:a instanceof Error?(d={[g]:a},void 0===b&&(b=a.message)):(d=a,void 0===b&&void 0===a[h]&&a[g]&&(b=a[g].message)),f&&(d=i(d,f(d,c,this)));let m=this[l](d,b,c,e),s=this[r];!0===s[x]&&(s.lastLevel=c,s.lastObj=d,s.lastMsg=b,s.lastTime=e.slice(this[q]),s.lastLogger=this),s.write(j?j(m):m)},[l]:M,[h]:E,[g]:F};Object.setPrototypeOf(S,d.prototype),b.exports=function(){return Object.create(S)};let T=a=>a;function U(a,b){return Object.assign(b,a)}},320613,(a,b,c)=>{"use strict";let d=a.r(660526),e=a.r(220275),f=a.r(685356),g=a.r(373535),h=a.r(154792),i=a.r(879962),j=a.r(951382),{configure:k}=a.r(689465),{assertDefaultLevelFound:l,mappings:m,genLsCache:o,genLevelComparison:p,assertLevelComparison:q}=a.r(149749),{DEFAULT_LEVELS:r,SORTING_ORDER:s}=a.r(180021),{createArgsNormalizer:t,asChindings:u,buildSafeSonicBoom:v,buildFormatters:w,stringify:x,normalizeDestFileDescriptor:y,noop:z}=a.r(848938),{version:A}=a.r(41818),{chindingsSym:B,redactFmtSym:C,serializersSym:D,timeSym:E,timeSliceIndexSym:F,streamSym:G,stringifySym:H,stringifySafeSym:I,stringifiersSym:J,setLevelSym:K,endSym:L,formatOptsSym:M,messageKeySym:N,errorKeySym:O,nestedKeySym:P,mixinSym:Q,levelCompSym:R,useOnlyCustomLevelsSym:S,formattersSym:T,hooksSym:U,nestedKeyStrSym:V,mixinMergeStrategySym:W,msgPrefixSym:X}=j,{epochTime:Y,nullTime:Z}=h,{pid:$}=process,_=d.hostname(),aa=e.err,ab=t({level:"info",levelComparison:s.ASC,levels:r,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:$,hostname:_},serializers:Object.assign(Object.create(null),{err:aa}),formatters:Object.assign(Object.create(null),{bindings:a=>a,level:(a,b)=>({level:b})}),hooks:{logMethod:void 0,streamWrite:void 0},timestamp:Y,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100}),ac=Object.assign(Object.create(null),e);function ad(...a){let b={},{opts:c,stream:d}=ab(b,f(),...a);c.level&&"string"==typeof c.level&&void 0!==r[c.level.toLowerCase()]&&(c.level=c.level.toLowerCase());let{redact:e,crlf:h,serializers:j,timestamp:s,messageKey:t,errorKey:v,nestedKey:y,base:A,name:$,level:_,customLevels:aa,levelComparison:ac,mixin:ae,mixinMergeStrategy:af,useOnlyCustomLevels:ag,formatters:ah,hooks:ai,depthLimit:aj,edgeLimit:ak,onChild:al,msgPrefix:am}=c,an=k({maximumDepth:aj,maximumBreadth:ak}),ao=w(ah.level,ah.bindings,ah.log),ap=x.bind({[I]:an}),aq=e?g(e,ap):{},ar=e?{stringify:aq[C]}:{stringify:ap},as=u.bind(null,{[B]:"",[D]:j,[J]:aq,[H]:x,[I]:an,[T]:ao}),at="";null!==A&&(at=as(void 0===$?A:Object.assign({},A,{name:$})));let au=s instanceof Function?s:s?Y:Z,av=au().indexOf(":")+1;if(ag&&!aa)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(ae&&"function"!=typeof ae)throw Error(`Unknown mixin type "${typeof ae}" - expected "function"`);if(am&&"string"!=typeof am)throw Error(`Unknown msgPrefix type "${typeof am}" - expected "string"`);l(_,aa,ag);let aw=m(aa,ag);return"function"==typeof d.emit&&d.emit("message",{code:"PINO_CONFIG",config:{levels:aw,messageKey:t,errorKey:v}}),q(ac),Object.assign(b,{levels:aw,[R]:p(ac),[S]:ag,[G]:d,[E]:au,[F]:av,[H]:x,[I]:an,[J]:aq,[L]:"}"+(h?"\r\n":"\n"),[M]:ar,[N]:t,[O]:v,[P]:y,[V]:y?`,${JSON.stringify(y)}:{`:"",[D]:j,[Q]:ae,[W]:af,[B]:at,[T]:ao,[U]:ai,silent:z,onChild:al,[X]:am}),Object.setPrototypeOf(b,i()),o(b),b[K](_),b}b.exports=ad,b.exports.destination=(a=process.stdout.fd)=>"object"==typeof a?(a.dest=y(a.dest||process.stdout.fd),v(a)):v({dest:y(a),minLength:0}),b.exports.transport=a.r(920571),b.exports.multistream=a.r(212087),b.exports.levels=m(),b.exports.stdSerializers=ac,b.exports.stdTimeFunctions=Object.assign({},h),b.exports.symbols=j,b.exports.version=A,b.exports.default=ad,b.exports.pino=ad},116690,(a,b,c)=>{function d(a){return(0x100000000+a).toString(16).substring(1)}b.exports={normalizeInput:function(a){let b;if(a instanceof Uint8Array)b=a;else if("string"==typeof a)b=new TextEncoder().encode(a);else throw Error("Input must be an string, Buffer or Uint8Array");return b},toHex:function(a){return Array.prototype.map.call(a,function(a){return(a<16?"0":"")+a.toString(16)}).join("")},debugPrint:function(a,b,c){let e="\n"+a+" = ";for(let f=0;f<b.length;f+=2){if(32===c)e+=d(b[f]).toUpperCase(),e+=" ",e+=d(b[f+1]).toUpperCase();else if(64===c)e+=d(b[f+1]).toUpperCase(),e+=d(b[f]).toUpperCase();else throw Error("Invalid size "+c);f%6==4?e+="\n"+Array(a.length+4).join(" "):f<b.length-2&&(e+=" ")}console.log(e)},testSpeed:function(a,b,c){let d=new Date().getTime(),e=new Uint8Array(b);for(let a=0;a<b;a++)e[a]=a%256;let f=new Date().getTime();console.log("Generated random input in "+(f-d)+"ms"),d=f;for(let f=0;f<c;f++){let c=a(e),f=new Date().getTime(),g=f-d;d=f,console.log("Hashed in "+g+"ms: "+c.substring(0,20)+"..."),console.log(Math.round(b/1048576/(g/1e3)*100)/100+" MB PER SECOND")}}}},115114,(a,b,c)=>{let d=a.r(116690);function e(a,b,c){let d=a[b]+a[c],e=a[b+1]+a[c+1];d>=0x100000000&&e++,a[b]=d,a[b+1]=e}function f(a,b,c,d){let e=a[b]+c;c<0&&(e+=0x100000000);let f=a[b+1]+d;e>=0x100000000&&f++,a[b]=e,a[b+1]=f}function g(a,b){return a[b]^a[b+1]<<8^a[b+2]<<16^a[b+3]<<24}function h(a,b,c,d,g,h){let i=l[g],j=l[g+1],m=l[h],o=l[h+1];e(k,a,b),f(k,a,i,j);let p=k[d]^k[a],q=k[d+1]^k[a+1];k[d]=q,k[d+1]=p,e(k,c,d),p=k[b]^k[c],q=k[b+1]^k[c+1],k[b]=p>>>24^q<<8,k[b+1]=q>>>24^p<<8,e(k,a,b),f(k,a,m,o),p=k[d]^k[a],q=k[d+1]^k[a+1],k[d]=p>>>16^q<<16,k[d+1]=q>>>16^p<<16,e(k,c,d),p=k[b]^k[c],q=k[b+1]^k[c+1],k[b]=q>>>31^p<<1,k[b+1]=p>>>31^q<<1}let i=new Uint32Array([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),j=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(a){return 2*a})),k=new Uint32Array(32),l=new Uint32Array(32);function m(a,b){let c=0;for(c=0;c<16;c++)k[c]=a.h[c],k[c+16]=i[c];for(k[24]=k[24]^a.t,k[25]=k[25]^a.t/0x100000000,b&&(k[28]=~k[28],k[29]=~k[29]),c=0;c<32;c++)l[c]=g(a.b,4*c);for(c=0;c<12;c++)h(0,8,16,24,j[16*c+0],j[16*c+1]),h(2,10,18,26,j[16*c+2],j[16*c+3]),h(4,12,20,28,j[16*c+4],j[16*c+5]),h(6,14,22,30,j[16*c+6],j[16*c+7]),h(0,10,20,30,j[16*c+8],j[16*c+9]),h(2,12,22,24,j[16*c+10],j[16*c+11]),h(4,14,16,26,j[16*c+12],j[16*c+13]),h(6,8,18,28,j[16*c+14],j[16*c+15]);for(c=0;c<16;c++)a.h[c]=a.h[c]^k[c]^k[c+16]}let o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(a,b,c,d){if(0===a||a>64)throw Error("Illegal output length, expected 0 < length <= 64");if(b&&b.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(c&&16!==c.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(d&&16!==d.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let e={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:a};o.fill(0),o[0]=a,b&&(o[1]=b.length),o[2]=1,o[3]=1,c&&o.set(c,32),d&&o.set(d,48);for(let a=0;a<16;a++)e.h[a]=i[a]^g(o,4*a);return b&&(q(e,b),e.c=128),e}function q(a,b){for(let c=0;c<b.length;c++)128===a.c&&(a.t+=a.c,m(a,!1),a.c=0),a.b[a.c++]=b[c]}function r(a){for(a.t+=a.c;a.c<128;)a.b[a.c++]=0;m(a,!0);let b=new Uint8Array(a.outlen);for(let c=0;c<a.outlen;c++)b[c]=a.h[c>>2]>>8*(3&c);return b}function s(a,b,c,e,f){c=c||64,a=d.normalizeInput(a),e&&(e=d.normalizeInput(e)),f&&(f=d.normalizeInput(f));let g=p(c,b,e,f);return q(g,a),r(g)}b.exports={blake2b:s,blake2bHex:function(a,b,c,e,f){let g=s(a,b,c,e,f);return d.toHex(g)},blake2bInit:p,blake2bUpdate:q,blake2bFinal:r}},511369,(a,b,c)=>{let d=a.r(116690);function e(a,b,c,d,e,g){i[a]=i[a]+i[b]+e,i[d]=f(i[d]^i[a],16),i[c]=i[c]+i[d],i[b]=f(i[b]^i[c],12),i[a]=i[a]+i[b]+g,i[d]=f(i[d]^i[a],8),i[c]=i[c]+i[d],i[b]=f(i[b]^i[c],7)}function f(a,b){return a>>>b^a<<32-b}let g=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),h=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),i=new Uint32Array(16),j=new Uint32Array(16);function k(a,b){let c=0;for(c=0;c<8;c++)i[c]=a.h[c],i[c+8]=g[c];for(i[12]^=a.t,i[13]^=a.t/0x100000000,b&&(i[14]=~i[14]),c=0;c<16;c++){var d,f;j[c]=(d=a.b)[f=4*c]^d[f+1]<<8^d[f+2]<<16^d[f+3]<<24}for(c=0;c<10;c++)e(0,4,8,12,j[h[16*c+0]],j[h[16*c+1]]),e(1,5,9,13,j[h[16*c+2]],j[h[16*c+3]]),e(2,6,10,14,j[h[16*c+4]],j[h[16*c+5]]),e(3,7,11,15,j[h[16*c+6]],j[h[16*c+7]]),e(0,5,10,15,j[h[16*c+8]],j[h[16*c+9]]),e(1,6,11,12,j[h[16*c+10]],j[h[16*c+11]]),e(2,7,8,13,j[h[16*c+12]],j[h[16*c+13]]),e(3,4,9,14,j[h[16*c+14]],j[h[16*c+15]]);for(c=0;c<8;c++)a.h[c]^=i[c]^i[c+8]}function l(a,b){if(!(a>0&&a<=32))throw Error("Incorrect output length, should be in [1, 32]");let c=b?b.length:0;if(b&&!(c>0&&c<=32))throw Error("Incorrect key length, should be in [1, 32]");let d={h:new Uint32Array(g),b:new Uint8Array(64),c:0,t:0,outlen:a};return d.h[0]^=0x1010000^c<<8^a,c>0&&(m(d,b),d.c=64),d}function m(a,b){for(let c=0;c<b.length;c++)64===a.c&&(a.t+=a.c,k(a,!1),a.c=0),a.b[a.c++]=b[c]}function o(a){for(a.t+=a.c;a.c<64;)a.b[a.c++]=0;k(a,!0);let b=new Uint8Array(a.outlen);for(let c=0;c<a.outlen;c++)b[c]=a.h[c>>2]>>8*(3&c)&255;return b}function p(a,b,c){c=c||32,a=d.normalizeInput(a);let e=l(c,b);return m(e,a),o(e)}b.exports={blake2s:p,blake2sHex:function(a,b,c){let e=p(a,b,c);return d.toHex(e)},blake2sInit:l,blake2sUpdate:m,blake2sFinal:o}},715896,(a,b,c)=>{let d=a.r(115114),e=a.r(511369);b.exports={blake2b:d.blake2b,blake2bHex:d.blake2bHex,blake2bInit:d.blake2bInit,blake2bUpdate:d.blake2bUpdate,blake2bFinal:d.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal}},433273,92965,746280,39809,233991,a=>{"use strict";let b,c,d,e,f,g,h;var i,j,k,l,m,o,p=a.i(427699);a.i(227608),a.i(852406),a.i(320613),a.i(875086);Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,a.i(998734);var q=a.i(29432),r=Object.defineProperty;q.IEvents;q.IEvents,q.IEvents,q.IEvents,q.IEvents,q.IEvents,p.default,p.EventEmitter;var s=a.i(66090);a.i(771656),a.i(391112),a.i(492400),a.i(438848);var t=a.i(491927),u=a.i(101833),v=a.i(35141);let w=BigInt(0),x=BigInt(1);function y(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function z(a){if(!y(a))throw Error("Uint8Array expected")}function A(a,b){if("boolean"!=typeof b)throw Error(a+" boolean expected, got "+b)}function B(a){let b=a.toString(16);return 1&b.length?"0"+b:b}function C(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return""===a?w:BigInt("0x"+a)}let D="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,E=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function F(a){if(z(a),D)return a.toHex();let b="";for(let c=0;c<a.length;c++)b+=E[a[c]];return b}function G(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function H(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);if(D)return Uint8Array.fromHex(a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=G(a.charCodeAt(e)),f=G(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}function I(a){return C(F(a))}function J(a){return z(a),C(F(Uint8Array.from(a).reverse()))}function K(a,b){return H(a.toString(16).padStart(2*b,"0"))}function L(a,b){return K(a,b).reverse()}function M(a,b,c){let d;if("string"==typeof b)try{d=H(b)}catch(b){throw Error(a+" must be hex string or Uint8Array, cause: "+b)}else if(y(b))d=Uint8Array.from(b);else throw Error(a+" must be hex string or Uint8Array");let e=d.length;if("number"==typeof c&&e!==c)throw Error(a+" of length "+c+" expected, got "+e);return d}function N(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];z(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}let O=a=>"bigint"==typeof a&&w<=a;function P(a,b,c){return O(a)&&O(b)&&O(c)&&b<=a&&a<c}function Q(a,b,c,d){if(!P(b,c,d))throw Error("expected valid "+a+": "+c+" <= n < "+d+", got "+b)}let R=a=>(x<<BigInt(a))-x,S=a=>new Uint8Array(a),T={bigint:a=>"bigint"==typeof a,function:a=>"function"==typeof a,boolean:a=>"boolean"==typeof a,string:a=>"string"==typeof a,stringOrUint8Array:a=>"string"==typeof a||y(a),isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,b)=>b.Fp.isValid(a),hash:a=>"function"==typeof a&&Number.isSafeInteger(a.outputLen)};function U(a,b,c={}){let d=(b,c,d)=>{let e=T[c];if("function"!=typeof e)throw Error("invalid validator function");let f=a[b];if((!d||void 0!==f)&&!e(f,a))throw Error("param "+String(b)+" is invalid. Expected "+c+", got "+f)};for(let[a,c]of Object.entries(b))d(a,c,!1);for(let[a,b]of Object.entries(c))d(a,b,!0);return a}function V(a){let b=new WeakMap;return(c,...d)=>{let e=b.get(c);if(void 0!==e)return e;let f=a(c,...d);return b.set(c,f),f}}let W=BigInt(0),X=BigInt(1),Y=BigInt(2),Z=BigInt(3),$=BigInt(4),_=BigInt(5),aa=BigInt(8);function ab(a,b){let c=a%b;return c>=W?c:b+c}function ac(a,b,c){let d=a;for(;b-- >W;)d*=d,d%=c;return d}function ad(a,b){if(a===W)throw Error("invert: expected non-zero number");if(b<=W)throw Error("invert: expected positive modulus, got "+b);let c=ab(a,b),d=b,e=W,f=X,g=X,h=W;for(;c!==W;){let a=d/c,b=d%c,i=e-g*a,j=f-h*a;d=c,c=b,e=g,f=h,g=i,h=j}if(d!==X)throw Error("invert: does not exist");return ab(e,b)}function ae(a,b){let c=(a.ORDER+X)/$,d=a.pow(b,c);if(!a.eql(a.sqr(d),b))throw Error("Cannot find square root");return d}function af(a,b){let c=(a.ORDER-_)/aa,d=a.mul(b,Y),e=a.pow(d,c),f=a.mul(b,e),g=a.mul(a.mul(f,Y),e),h=a.mul(f,a.sub(g,a.ONE));if(!a.eql(a.sqr(h),b))throw Error("Cannot find square root");return h}let ag=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ah(a){return U(a,ag.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function ai(a,b,c=!1){let d=Array(b.length).fill(c?a.ZERO:void 0),e=b.reduce((b,c,e)=>a.is0(c)?b:(d[e]=b,a.mul(b,c)),a.ONE),f=a.inv(e);return b.reduceRight((b,c,e)=>a.is0(c)?b:(d[e]=a.mul(b,d[e]),a.mul(b,c)),f),d}function aj(a,b){let c=(a.ORDER-X)/Y,d=a.pow(b,c),e=a.eql(d,a.ONE),f=a.eql(d,a.ZERO),g=a.eql(d,a.neg(a.ONE));if(!e&&!f&&!g)throw Error("invalid Legendre symbol result");return e?1:f?0:-1}function ak(a,b){void 0!==b&&(0,u.anumber)(b);let c=void 0!==b?b:a.toString(2).length,d=Math.ceil(c/8);return{nBitLength:c,nByteLength:d}}function al(a,b,c=!1,d={}){let e;if(a<=W)throw Error("invalid field: expected ORDER > 0, got "+a);let{nBitLength:f,nByteLength:g}=ak(a,b);if(g>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:a,isLE:c,BITS:f,BYTES:g,MASK:R(f),ZERO:W,ONE:X,create:b=>ab(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error("invalid field element: expected bigint, got "+typeof b);return W<=b&&b<a},is0:a=>a===W,isOdd:a=>(a&X)===X,neg:b=>ab(-b,a),eql:(a,b)=>a===b,sqr:b=>ab(b*b,a),add:(b,c)=>ab(b+c,a),sub:(b,c)=>ab(b-c,a),mul:(b,c)=>ab(b*c,a),pow:(a,b)=>(function(a,b,c){if(c<W)throw Error("invalid exponent, negatives unsupported");if(c===W)return a.ONE;if(c===X)return b;let d=a.ONE,e=b;for(;c>W;)c&X&&(d=a.mul(d,e)),e=a.sqr(e),c>>=X;return d})(h,a,b),div:(b,c)=>ab(b*ad(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>ad(b,a),sqrt:d.sqrt||(b=>(e||(e=a%$===Z?ae:a%aa===_?af:function(a){if(a<BigInt(3))throw Error("sqrt is not defined for small field");let b=a-X,c=0;for(;b%Y===W;)b/=Y,c++;let d=Y,e=al(a);for(;1===aj(e,d);)if(d++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===c)return ae;let f=e.pow(d,b),g=(b+X)/Y;return function(a,d){if(a.is0(d))return d;if(1!==aj(a,d))throw Error("Cannot find square root");let e=c,h=a.mul(a.ONE,f),i=a.pow(d,b),j=a.pow(d,g);for(;!a.eql(i,a.ONE);){if(a.is0(i))return a.ZERO;let b=1,c=a.sqr(i);for(;!a.eql(c,a.ONE);)if(b++,c=a.sqr(c),b===e)throw Error("Cannot find square root");let d=X<<BigInt(e-b-1),f=a.pow(h,d);e=b,h=a.sqr(f),i=a.mul(i,h),j=a.mul(j,f)}return j}}(a)),e(h,b))),toBytes:a=>c?L(a,g):K(a,g),fromBytes:a=>{if(a.length!==g)throw Error("Field.fromBytes: expected "+g+" bytes, got "+a.length);return c?J(a):I(a)},invertBatch:a=>ai(h,a),cmov:(a,b,c)=>c?b:a});return Object.freeze(h)}function am(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function an(a){let b=am(a);return b+Math.ceil(b/2)}let ao=BigInt(0),ap=BigInt(1);function aq(a,b){let c=b.negate();return a?c:b}function ar(a,b){if(!Number.isSafeInteger(a)||a<=0||a>b)throw Error("invalid window size, expected [1.."+b+"], got W="+a)}function as(a,b){ar(a,b);let c=Math.ceil(b/a)+1,d=2**(a-1),e=2**a;return{windows:c,windowSize:d,mask:R(a),maxNumber:e,shiftBy:BigInt(a)}}function at(a,b,c){let{windowSize:d,mask:e,maxNumber:f,shiftBy:g}=c,h=Number(a&e),i=a>>g;h>d&&(h-=f,i+=ap);let j=b*d,k=j+Math.abs(h)-1,l=0===h;return{nextN:i,offset:k,isZero:l,isNeg:h<0,isNegF:b%2!=0,offsetF:j}}let au=new WeakMap,av=new WeakMap;function aw(a){return av.get(a)||1}function ax(a){return ah(a.Fp),U(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ak(a.n,a.nBitLength),...a,...{p:a.Fp.ORDER}})}function ay(a){void 0!==a.lowS&&A("lowS",a.lowS),void 0!==a.prehash&&A("prehash",a.prehash)}let az={Err:class extends Error{constructor(a=""){super(a)}},_tlv:{encode:(a,b)=>{let{Err:c}=az;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(1&b.length)throw new c("tlv.encode: unpadded data");let d=b.length/2,e=B(d);if(e.length/2&128)throw new c("tlv.encode: long form length too big");let f=d>127?B(e.length/2|128):"";return B(a)+f+e+b},decode(a,b){let{Err:c}=az,d=0;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(b.length<2||b[d++]!==a)throw new c("tlv.decode: wrong tlv");let e=b[d++],f=0;if(128&e){let a=127&e;if(!a)throw new c("tlv.decode(long): indefinite length not supported");if(a>4)throw new c("tlv.decode(long): byte length is too big");let g=b.subarray(d,d+a);if(g.length!==a)throw new c("tlv.decode: length bytes not complete");if(0===g[0])throw new c("tlv.decode(long): zero leftmost byte");for(let a of g)f=f<<8|a;if(d+=a,f<128)throw new c("tlv.decode(long): not minimal encoding")}else f=e;let g=b.subarray(d,d+f);if(g.length!==f)throw new c("tlv.decode: wrong value length");return{v:g,l:b.subarray(d+f)}}},_int:{encode(a){let{Err:b}=az;if(a<aA)throw new b("integer: negative integers are not allowed");let c=B(a);if(8&Number.parseInt(c[0],16)&&(c="00"+c),1&c.length)throw new b("unexpected DER parsing assertion: unpadded hex");return c},decode(a){let{Err:b}=az;if(128&a[0])throw new b("invalid signature integer: negative");if(0===a[0]&&!(128&a[1]))throw new b("invalid signature integer: unnecessary leading zero");return I(a)}},toSig(a){let{Err:b,_int:c,_tlv:d}=az,e=M("signature",a),{v:f,l:g}=d.decode(48,e);if(g.length)throw new b("invalid signature: left bytes after parsing");let{v:h,l:i}=d.decode(2,f),{v:j,l:k}=d.decode(2,i);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:c.decode(h),s:c.decode(j)}},hexFromSig(a){let{_tlv:b,_int:c}=az,d=b.encode(2,c.encode(a.r)),e=b.encode(2,c.encode(a.s));return b.encode(48,d+e)}},aA=BigInt(0),aB=BigInt(1),aC=BigInt(2),aD=BigInt(3),aE=BigInt(4),aF=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),aG=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aH=BigInt(0),aI=BigInt(1),aJ=BigInt(2),aK=(a,b)=>(a+b/aJ)/b,aL=al(aF,void 0,void 0,{sqrt:function(a){let b=BigInt(3),c=BigInt(6),d=BigInt(11),e=BigInt(22),f=BigInt(23),g=BigInt(44),h=BigInt(88),i=a*a*a%aF,j=i*i*a%aF,k=ac(j,b,aF)*j%aF,l=ac(k,b,aF)*j%aF,m=ac(l,aJ,aF)*i%aF,o=ac(m,d,aF)*m%aF,p=ac(o,e,aF)*o%aF,q=ac(p,g,aF)*p%aF,r=ac(q,h,aF)*q%aF,s=ac(r,g,aF)*p%aF,t=ac(s,b,aF)*j%aF,u=ac(t,f,aF)*o%aF,v=ac(u,c,aF)*i%aF,w=ac(v,aJ,aF);if(!aL.eql(aL.sqr(w),a))throw Error("Cannot find square root");return w}}),aM=(k={a:aH,b:BigInt(7),Fp:aL,n:aG,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{let b=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-aI*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),e=BigInt("0x100000000000000000000000000000000"),f=aK(b*a,aG),g=aK(-c*a,aG),h=ab(a-f*b-g*d,aG),i=ab(-f*c-g*b,aG),j=h>e,k=i>e;if(j&&(h=aG-h),k&&(i=aG-i),h>e||i>e)throw Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:j,k1:h,k2neg:k,k2:i}}}},l=t.sha256,{...(b=a=>(function(a){let b,c=(U(b=ax(a),{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})),{Fp:d,n:e,nByteLength:f,nBitLength:g}=c,h=d.BYTES+1,i=2*d.BYTES+1;function j(a){return ab(a,e)}let{ProjectivePoint:k,normPrivateKeyToScalar:l,weierstrassEquation:m,isWithinCurveOrder:o}=function(a){var b;let c=function(a){let b=ax(a);U(b,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:c,Fp:d,a:e}=b;if(c){if(!d.eql(e,d.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof c||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...b})}(a),{Fp:d}=c,e=al(c.n,c.nBitLength),f=c.toBytes||((a,b,c)=>{let e=b.toAffine();return N(Uint8Array.from([4]),d.toBytes(e.x),d.toBytes(e.y))}),g=c.fromBytes||(a=>{let b=a.subarray(1);return{x:d.fromBytes(b.subarray(0,d.BYTES)),y:d.fromBytes(b.subarray(d.BYTES,2*d.BYTES))}});function h(a){let{a:b,b:e}=c,f=d.sqr(a),g=d.mul(f,a);return d.add(d.add(g,d.mul(a,b)),e)}function i(a,b){let c=d.sqr(b),e=h(a);return d.eql(c,e)}if(!i(c.Gx,c.Gy))throw Error("bad curve params: generator point");let j=d.mul(d.pow(c.a,aD),aE),k=d.mul(d.sqr(c.b),BigInt(27));if(d.is0(d.add(j,k)))throw Error("bad curve params: a or b");function l(a){let b,{allowedPrivateKeyLengths:d,nByteLength:e,wrapPrivateKey:f,n:g}=c;if(d&&"bigint"!=typeof a){if(y(a)&&(a=F(a)),"string"!=typeof a||!d.includes(a.length))throw Error("invalid private key");a=a.padStart(2*e,"0")}try{b="bigint"==typeof a?a:I(M("private key",a,e))}catch(b){throw Error("invalid private key, expected hex or "+e+" bytes, got "+typeof a)}return f&&(b=ab(b,g)),Q("private key",b,aB,g),b}function m(a){if(!(a instanceof q))throw Error("ProjectivePoint expected")}let o=V((a,b)=>{let{px:c,py:e,pz:f}=a;if(d.eql(f,d.ONE))return{x:c,y:e};let g=a.is0();null==b&&(b=g?d.ONE:d.inv(f));let h=d.mul(c,b),i=d.mul(e,b),j=d.mul(f,b);if(g)return{x:d.ZERO,y:d.ZERO};if(!d.eql(j,d.ONE))throw Error("invZ was invalid");return{x:h,y:i}}),p=V(a=>{if(a.is0()){if(c.allowInfinityPoint&&!d.is0(a.py))return;throw Error("bad point: ZERO")}let{x:b,y:e}=a.toAffine();if(!d.isValid(b)||!d.isValid(e))throw Error("bad point: x or y not FE");if(!i(b,e))throw Error("bad point: equation left != right");if(!a.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class q{constructor(a,b,c){if(null==a||!d.isValid(a))throw Error("x required");if(null==b||!d.isValid(b)||d.is0(b))throw Error("y required");if(null==c||!d.isValid(c))throw Error("z required");this.px=a,this.py=b,this.pz=c,Object.freeze(this)}static fromAffine(a){let{x:b,y:c}=a||{};if(!a||!d.isValid(b)||!d.isValid(c))throw Error("invalid affine point");if(a instanceof q)throw Error("projective point not allowed");let e=a=>d.eql(a,d.ZERO);return e(b)&&e(c)?q.ZERO:new q(b,c,d.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(a){let b=ai(d,a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(q.fromAffine)}static fromHex(a){let b=q.fromAffine(g(M("pointHex",a)));return b.assertValidity(),b}static fromPrivateKey(a){return q.BASE.multiply(l(a))}static msm(a,b){return function(a,b,c,d){if(!Array.isArray(c))throw Error("array expected");c.forEach((b,c)=>{if(!(b instanceof a))throw Error("invalid point at index "+c)});if(!Array.isArray(d))throw Error("array of scalars expected");d.forEach((a,c)=>{if(!b.isValid(a))throw Error("invalid scalar at index "+c)});let e=c.length,f=d.length;if(e!==f)throw Error("arrays of points and scalars must have equal length");let g=a.ZERO,h=function(a){let b;for(b=0;a>w;a>>=x,b+=1);return b}(BigInt(e)),i=1;h>12?i=h-3:h>4?i=h-2:h>0&&(i=2);let j=R(i),k=Array(Number(j)+1).fill(g),l=Math.floor((b.BITS-1)/i)*i,m=g;for(let a=l;a>=0;a-=i){k.fill(g);for(let b=0;b<f;b++){let e=Number(d[b]>>BigInt(a)&j);k[e]=k[e].add(c[b])}let b=g;for(let a=k.length-1,c=g;a>0;a--)c=c.add(k[a]),b=b.add(c);if(m=m.add(b),0!==a)for(let a=0;a<i;a++)m=m.double()}return m}(q,e,a,b)}_setWindowSize(a){t.setWindowSize(this,a)}assertValidity(){p(this)}hasEvenY(){let{y:a}=this.toAffine();if(d.isOdd)return!d.isOdd(a);throw Error("Field doesn't support isOdd")}equals(a){m(a);let{px:b,py:c,pz:e}=this,{px:f,py:g,pz:h}=a,i=d.eql(d.mul(b,h),d.mul(f,e)),j=d.eql(d.mul(c,h),d.mul(g,e));return i&&j}negate(){return new q(this.px,d.neg(this.py),this.pz)}double(){let{a,b}=c,e=d.mul(b,aD),{px:f,py:g,pz:h}=this,i=d.ZERO,j=d.ZERO,k=d.ZERO,l=d.mul(f,f),m=d.mul(g,g),o=d.mul(h,h),p=d.mul(f,g);return p=d.add(p,p),k=d.mul(f,h),k=d.add(k,k),i=d.mul(a,k),j=d.mul(e,o),j=d.add(i,j),i=d.sub(m,j),j=d.add(m,j),j=d.mul(i,j),i=d.mul(p,i),k=d.mul(e,k),o=d.mul(a,o),p=d.sub(l,o),p=d.mul(a,p),p=d.add(p,k),k=d.add(l,l),l=d.add(k,l),l=d.add(l,o),l=d.mul(l,p),j=d.add(j,l),o=d.mul(g,h),o=d.add(o,o),l=d.mul(o,p),i=d.sub(i,l),k=d.mul(o,m),k=d.add(k,k),new q(i,j,k=d.add(k,k))}add(a){m(a);let{px:b,py:e,pz:f}=this,{px:g,py:h,pz:i}=a,j=d.ZERO,k=d.ZERO,l=d.ZERO,o=c.a,p=d.mul(c.b,aD),r=d.mul(b,g),s=d.mul(e,h),t=d.mul(f,i),u=d.add(b,e),v=d.add(g,h);u=d.mul(u,v),v=d.add(r,s),u=d.sub(u,v),v=d.add(b,f);let w=d.add(g,i);return v=d.mul(v,w),w=d.add(r,t),v=d.sub(v,w),w=d.add(e,f),j=d.add(h,i),w=d.mul(w,j),j=d.add(s,t),w=d.sub(w,j),l=d.mul(o,v),j=d.mul(p,t),l=d.add(j,l),j=d.sub(s,l),l=d.add(s,l),k=d.mul(j,l),s=d.add(r,r),s=d.add(s,r),t=d.mul(o,t),v=d.mul(p,v),s=d.add(s,t),t=d.sub(r,t),t=d.mul(o,t),v=d.add(v,t),r=d.mul(s,v),k=d.add(k,r),r=d.mul(w,v),j=d.mul(u,j),j=d.sub(j,r),r=d.mul(u,s),l=d.mul(w,l),new q(j,k,l=d.add(l,r))}subtract(a){return this.add(a.negate())}is0(){return this.equals(q.ZERO)}wNAF(a){return t.wNAFCached(this,a,q.normalizeZ)}multiplyUnsafe(a){let{endo:b,n:e}=c;Q("scalar",a,aA,e);let f=q.ZERO;if(a===aA)return f;if(this.is0()||a===aB)return this;if(!b||t.hasPrecomputes(this))return t.wNAFCachedUnsafe(this,a,q.normalizeZ);let{k1neg:g,k1:h,k2neg:i,k2:j}=b.splitScalar(a),k=f,l=f,m=this;for(;h>aA||j>aA;)h&aB&&(k=k.add(m)),j&aB&&(l=l.add(m)),m=m.double(),h>>=aB,j>>=aB;return g&&(k=k.negate()),i&&(l=l.negate()),l=new q(d.mul(l.px,b.beta),l.py,l.pz),k.add(l)}multiply(a){let b,e,{endo:f,n:g}=c;if(Q("scalar",a,aB,g),f){let{k1neg:c,k1:g,k2neg:h,k2:i}=f.splitScalar(a),{p:j,f:k}=this.wNAF(g),{p:l,f:m}=this.wNAF(i);j=t.constTimeNegate(c,j),l=t.constTimeNegate(h,l),l=new q(d.mul(l.px,f.beta),l.py,l.pz),b=j.add(l),e=k.add(m)}else{let{p:c,f:d}=this.wNAF(a);b=c,e=d}return q.normalizeZ([b,e])[0]}multiplyAndAddUnsafe(a,b,c){let d=q.BASE,e=(a,b)=>b!==aA&&b!==aB&&a.equals(d)?a.multiply(b):a.multiplyUnsafe(b),f=e(this,b).add(e(a,c));return f.is0()?void 0:f}toAffine(a){return o(this,a)}isTorsionFree(){let{h:a,isTorsionFree:b}=c;if(a===aB)return!0;if(b)return b(q,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:a,clearCofactor:b}=c;return a===aB?this:b?b(q,this):this.multiplyUnsafe(c.h)}toRawBytes(a=!0){return A("isCompressed",a),this.assertValidity(),f(q,this,a)}toHex(a=!0){return A("isCompressed",a),F(this.toRawBytes(a))}}q.BASE=new q(c.Gx,c.Gy,d.ONE),q.ZERO=new q(d.ZERO,d.ONE,d.ZERO);let{endo:r,nBitLength:s}=c,t=(b=r?Math.ceil(s/2):s,{constTimeNegate:aq,hasPrecomputes:a=>1!==aw(a),unsafeLadder(a,b,c=q.ZERO){let d=a;for(;b>ao;)b&ap&&(c=c.add(d)),d=d.double(),b>>=ap;return c},precomputeWindow(a,c){let{windows:d,windowSize:e}=as(c,b),f=[],g=a,h=g;for(let a=0;a<d;a++){h=g,f.push(h);for(let a=1;a<e;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(a,c,d){let e=q.ZERO,f=q.BASE,g=as(a,b);for(let a=0;a<g.windows;a++){let{nextN:b,offset:h,isZero:i,isNeg:j,isNegF:k,offsetF:l}=at(d,a,g);d=b,i?f=f.add(aq(k,c[l])):e=e.add(aq(j,c[h]))}return{p:e,f}},wNAFUnsafe(a,c,d,e=q.ZERO){let f=as(a,b);for(let a=0;a<f.windows&&d!==ao;a++){let{nextN:b,offset:g,isZero:h,isNeg:i}=at(d,a,f);if(d=b,!h){let a=c[g];e=e.add(i?a.negate():a)}}return e},getPrecomputes(a,b,c){let d=au.get(b);return d||(d=this.precomputeWindow(b,a),1!==a&&au.set(b,c(d))),d},wNAFCached(a,b,c){let d=aw(a);return this.wNAF(d,this.getPrecomputes(d,a,c),b)},wNAFCachedUnsafe(a,b,c,d){let e=aw(a);return 1===e?this.unsafeLadder(a,b,d):this.wNAFUnsafe(e,this.getPrecomputes(e,a,c),b,d)},setWindowSize(a,c){ar(c,b),av.set(a,c),au.delete(a)}});return{CURVE:c,ProjectivePoint:q,normPrivateKeyToScalar:l,weierstrassEquation:h,isWithinCurveOrder:function(a){return P(a,aB,c.n)}}}({...c,toBytes(a,b,c){let e=b.toAffine(),f=d.toBytes(e.x);return(A("isCompressed",c),c)?N(Uint8Array.from([b.hasEvenY()?2:3]),f):N(Uint8Array.from([4]),f,d.toBytes(e.y))},fromBytes(a){let b=a.length,c=a[0],e=a.subarray(1);if(b===h&&(2===c||3===c)){let a,b=I(e);if(!P(b,aB,d.ORDER))throw Error("Point is not on curve");let f=m(b);try{a=d.sqrt(f)}catch(a){throw Error("Point is not on curve"+(a instanceof Error?": "+a.message:""))}return(1&c)==1!=((a&aB)===aB)&&(a=d.neg(a)),{x:b,y:a}}if(b===i&&4===c)return{x:d.fromBytes(e.subarray(0,d.BYTES)),y:d.fromBytes(e.subarray(d.BYTES,2*d.BYTES))};throw Error("invalid Point, expected length of "+h+", or uncompressed "+i+", got "+b)}}),p=(a,b,c)=>I(a.slice(b,c));class q{constructor(a,b,c){Q("r",a,aB,e),Q("s",b,aB,e),this.r=a,this.s=b,null!=c&&(this.recovery=c),Object.freeze(this)}static fromCompact(a){return new q(p(a=M("compactSignature",a,2*f),0,f),p(a,f,2*f))}static fromDER(a){let{r:b,s:c}=az.toSig(M("DER",a));return new q(b,c)}assertValidity(){}addRecoveryBit(a){return new q(this.r,this.s,a)}recoverPublicKey(a){let{r:b,s:f,recovery:g}=this,h=t(M("msgHash",a));if(null==g||![0,1,2,3].includes(g))throw Error("recovery id invalid");let i=2===g||3===g?b+c.n:b;if(i>=d.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&g)==0?"02":"03",m=k.fromHex(l+F(K(i,d.BYTES))),o=ad(i,e),p=j(-h*o),q=j(f*o),r=k.BASE.multiplyAndAddUnsafe(m,p,q);if(!r)throw Error("point at infinify");return r.assertValidity(),r}hasHighS(){return this.s>e>>aB}normalizeS(){return this.hasHighS()?new q(this.r,j(-this.s),this.recovery):this}toDERRawBytes(){return H(this.toDERHex())}toDERHex(){return az.hexFromSig(this)}toCompactRawBytes(){return H(this.toCompactHex())}toCompactHex(){return F(K(this.r,f))+F(K(this.s,f))}}function r(a){if("bigint"==typeof a)return!1;if(a instanceof k)return!0;let b=M("key",a).length,e=d.BYTES,g=e+1;if(!c.allowedPrivateKeyLengths&&f!==g)return b===g||b===2*e+1}let s=c.bits2int||function(a){if(a.length>8192)throw Error("input is too large");let b=I(a),c=8*a.length-g;return c>0?b>>BigInt(c):b},t=c.bits2int_modN||function(a){return j(s(a))},u=R(g);function v(a){return Q("num < 2^"+g,a,aA,u),K(a,f)}let z={lowS:c.lowS,prehash:!1},B={lowS:c.lowS,prehash:!1};return k.BASE._setWindowSize(8),{CURVE:c,getPublicKey:function(a,b=!0){return k.fromPrivateKey(a).toRawBytes(b)},getSharedSecret:function(a,b,c=!0){if(!0===r(a))throw Error("first arg must be private key");if(!1===r(b))throw Error("second arg must be public key");return k.fromHex(b).multiply(l(a)).toRawBytes(c)},sign:function(a,b,f=z){let{seed:g,k2sig:h}=function(a,b,f=z){if(["recovered","canonical"].some(a=>a in f))throw Error("sign() legacy options not supported");let{hash:g,randomBytes:h}=c,{lowS:i,prehash:m,extraEntropy:p}=f;null==i&&(i=!0),a=M("msgHash",a),ay(f),m&&(a=M("prehashed msgHash",g(a)));let r=t(a),u=l(b),w=[v(u),v(r)];if(null!=p&&!1!==p){let a=!0===p?h(d.BYTES):p;w.push(M("extraEntropy",a))}return{seed:N(...w),k2sig:function(a){var b;let c=s(a);if(!o(c))return;let d=ad(c,e),f=k.BASE.multiply(c).toAffine(),g=j(f.x);if(g===aA)return;let h=j(d*j(r+g*u));if(h===aA)return;let l=2*(f.x!==g)|Number(f.y&aB),m=h;return i&&h>e>>aB&&(m=(b=h)>e>>aB?j(-b):b,l^=1),new q(g,m,l)}}}(a,b,f);return(function(a,b,c){if("number"!=typeof a||a<2)throw Error("hashLen must be a number");if("number"!=typeof b||b<2)throw Error("qByteLen must be a number");if("function"!=typeof c)throw Error("hmacFn must be a function");let d=S(a),e=S(a),f=0,g=()=>{d.fill(1),e.fill(0),f=0},h=(...a)=>c(e,d,...a),i=(a=S(0))=>{let b;if(e=h((b=[0],Uint8Array.from(b)),a),d=h(),0!==a.length){let b;e=h((b=[1],Uint8Array.from(b)),a),d=h()}},j=()=>{if(f++>=1e3)throw Error("drbg: tried 1000 values");let a=0,c=[];for(;a<b;){let b=(d=h()).slice();c.push(b),a+=d.length}return N(...c)};return(a,b)=>{let c;for(g(),i(a);!(c=b(j()));)i();return g(),c}})(c.hash.outputLen,c.nByteLength,c.hmac)(g,h)},verify:function(a,b,d,f=B){let g,h;b=M("msgHash",b),d=M("publicKey",d);let{lowS:i,prehash:l,format:m}=f;if(ay(f),"strict"in f)throw Error("options.strict was renamed to lowS");if(void 0!==m&&"compact"!==m&&"der"!==m)throw Error("format must be compact or der");let o="string"==typeof a||y(a),p=!o&&!m&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!o&&!p)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(p&&(h=new q(a.r,a.s)),o){try{"compact"!==m&&(h=q.fromDER(a))}catch(a){if(!(a instanceof az.Err))throw a}h||"der"===m||(h=q.fromCompact(a))}g=k.fromHex(d)}catch(a){return!1}if(!h||i&&h.hasHighS())return!1;l&&(b=c.hash(b));let{r,s}=h,u=t(b),v=ad(s,e),w=j(u*v),x=j(r*v),z=k.BASE.multiplyAndAddUnsafe(g,w,x)?.toAffine();return!!z&&j(z.x)===r},ProjectivePoint:k,Signature:q,utils:{isValidPrivateKey(a){try{return l(a),!0}catch(a){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let a=an(c.n);return function(a,b,c=!1){let d=a.length,e=am(b),f=an(b);if(d<16||d<f||d>1024)throw Error("expected "+f+"-1024 bytes of input, got "+d);let g=ab(c?J(a):I(a),b-X)+X;return c?L(g,e):K(g,e)}(c.randomBytes(a),c.n)},precompute:(a=8,b=k.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}})({...k,...{hash:a,hmac:(b,...c)=>(0,v.hmac)(a,b,(0,u.concatBytes)(...c)),randomBytes:u.randomBytes}}))(l),create:b});aM.ProjectivePoint;let aN=(c=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(a=>a.map(a=>BigInt(a))).map(a=>Array.from(a).reverse()),(a,b)=>{let[d,e,f,g]=c.map(b=>b.reduce((b,c)=>aL.add(aL.mul(b,a),c))),[h,i]=ai(aL,[e,g],!0);return a=aL.mul(d,h),b=aL.mul(b,aL.mul(f,i)),{x:a,y:b}}),aO=function(a,b){if(ah(a),!a.isValid(b.A)||!a.isValid(b.B)||!a.isValid(b.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let c=function(a,b){let c=a.ORDER,d=aA;for(let a=c-aB;a%aC===aA;a/=aC)d+=aB;let e=d,f=aC<<e-aB-aB,g=f*aC,h=(c-aB)/g,i=(h-aB)/aC,j=g-aB,k=a.pow(b,h),l=a.pow(b,(h+aB)/aC),m=(b,c)=>{let d=k,g=a.pow(c,j),h=a.sqr(g);h=a.mul(h,c);let m=a.mul(b,h);m=a.pow(m,i),m=a.mul(m,g),g=a.mul(m,c),h=a.mul(m,b);let o=a.mul(h,g);m=a.pow(o,f);let p=a.eql(m,a.ONE);g=a.mul(h,l),m=a.mul(o,d),h=a.cmov(g,h,p),o=a.cmov(m,o,p);for(let b=e;b>aB;b--){let c=b-aC;c=aC<<c-aB;let e=a.pow(o,c),f=a.eql(e,a.ONE);g=a.mul(h,d),d=a.mul(d,d),e=a.mul(o,d),h=a.cmov(g,h,f),o=a.cmov(e,o,f)}return{isValid:p,value:h}};if(a.ORDER%aE===aD){let c=(a.ORDER-aD)/aE,d=a.sqrt(a.neg(b));m=(b,e)=>{let f=a.sqr(e),g=a.mul(b,e);f=a.mul(f,g);let h=a.pow(f,c);h=a.mul(h,g);let i=a.mul(h,d),j=a.mul(a.sqr(h),e),k=a.eql(j,b),l=a.cmov(i,h,k);return{isValid:k,value:l}}}return m}(a,b.Z);if(!a.isOdd)throw Error("Fp.isOdd is not implemented!");return d=>{let e,f,g,h,i,j,k,l;e=a.sqr(d),e=a.mul(e,b.Z),f=a.sqr(e),f=a.add(f,e),g=a.add(f,a.ONE),g=a.mul(g,b.B),h=a.cmov(b.Z,a.neg(f),!a.eql(f,a.ZERO)),h=a.mul(h,b.A),f=a.sqr(g),j=a.sqr(h),i=a.mul(j,b.A),f=a.add(f,i),f=a.mul(f,g),j=a.mul(j,h),i=a.mul(j,b.B),f=a.add(f,i),k=a.mul(e,g);let{isValid:m,value:o}=c(f,j);l=a.mul(e,d),l=a.mul(l,o),k=a.cmov(k,g,m),l=a.cmov(l,o,m);let p=a.isOdd(d)===a.isOdd(l);l=a.cmov(a.neg(l),l,p);let q=ai(a,[h],!0)[0];return{x:k=a.mul(k,q),y:l}}}(aL,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:aL.create(BigInt("-11"))});!function(a,b,c){if("function"!=typeof b)throw Error("mapToCurve() must be defined")}(aM.ProjectivePoint,a=>{let{x:b,y:c}=aO(aL.create(a[0]));return aN(b,c)},(aL.ORDER,t.sha256));class aP extends Error{constructor(a,b={}){const c=(()=>{if(b.cause instanceof aP){if(b.cause.details)return b.cause.details;if(b.cause.shortMessage)return b.cause.shortMessage}return b.cause&&"details"in b.cause&&"string"==typeof b.cause.details?b.cause.details:b.cause?.message?b.cause.message:b.details})(),d=b.cause instanceof aP&&b.cause.docsPath||b.docsPath,e=`https://oxlib.sh${d??""}`;super([a||"An error occurred.",...b.metaMessages?["",...b.metaMessages]:[],...c||d?["",c?`Details: ${c}`:void 0,d?`See: ${e}`:void 0]:[]].filter(a=>"string"==typeof a).join("\n"),b.cause?{cause:b.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=b.cause,this.details=c,this.docs=e,this.docsPath=d,this.shortMessage=a}walk(a){return function a(b,c){return c?.(b)?b:b&&"object"==typeof b&&"cause"in b&&b.cause?a(b.cause,c):c?null:b}(this,a)}}function aQ(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function aR(a,b){if(a_(a)>b)throw new a4({givenSize:a_(a),maxSize:b})}function aS(a,b={}){let{dir:c,size:d=32}=b;if(0===d)return a;let e=a.replace("0x","");if(e.length>2*d)throw new a6({size:Math.ceil(e.length/2),targetSize:d,type:"Hex"});return`0x${e["right"===c?"padEnd":"padStart"](2*d,"0")}`}function aT(a,b,c){return JSON.stringify(a,(a,c)=>"function"==typeof b?b(a,c):"bigint"==typeof c?c.toString()+"#__bigint":c,c)}let aU=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function aV(...a){return`0x${a.reduce((a,b)=>a+b.replace("0x",""),"")}`}function aW(a){return a instanceof Uint8Array?aX(a):Array.isArray(a)?aX(new Uint8Array(a)):a}function aX(a,b={}){let c="";for(let b=0;b<a.length;b++)c+=aU[a[b]];let d=`0x${c}`;return"number"==typeof b.size?(aR(d,b.size),aZ(d,b.size)):d}function aY(a,b={}){var c;let d,{signed:e,size:f}=b,g=BigInt(a);f?d=e?(1n<<8n*BigInt(f)-1n)-1n:2n**(8n*BigInt(f))-1n:"number"==typeof a&&(d=BigInt(Number.MAX_SAFE_INTEGER));let h="bigint"==typeof d&&e?-d-1n:0;if(d&&g>d||g<h){let b="bigint"==typeof a?"n":"";throw new a1({max:d?`${d}${b}`:void 0,min:`${h}${b}`,signed:e,size:f,value:`${a}${b}`})}let i=(e&&g<0?(1n<<BigInt(8*f))+BigInt(g):g).toString(16),j=`0x${i}`;return f?(c=j,aS(c,{dir:"left",size:f})):j}function aZ(a,b){return aS(a,{dir:"right",size:b})}function a$(a,b,c,d={}){let{strict:e}=d;if("number"==typeof b&&b>0&&b>a_(a)-1)throw new a5({offset:b,position:"start",size:a_(a)});let f=`0x${a.replace("0x","").slice((b??0)*2,(c??a.length)*2)}`;return e&&function(a,b,c){if("number"==typeof b&&"number"==typeof c&&a_(a)!==c-b)throw new a5({offset:c,position:"end",size:a_(a)})}(f,b,c),f}function a_(a){return Math.ceil((a.length-2)/2)}function a0(a){return function(a,b={}){let{dir:c="left"}=b,d=a.replace("0x",""),e=0;for(let a=0;a<d.length-1;a++)if("0"===d["left"===c?a:d.length-a-1].toString())e++;else break;return"0"===(d="left"===c?d.slice(e):d.slice(0,d.length-e))?"0x":"right"===c&&d.length%2==1?`0x${d}0`:`0x${d}`}(a,{dir:"left"})}class a1 extends aP{constructor({max:a,min:b,signed:c,size:d,value:e}){super(`Number \`${e}\` is not in safe${d?` ${8*d}-bit`:""}${c?" signed":" unsigned"} integer range ${a?`(\`${b}\` to \`${a}\`)`:`(above \`${b}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class a2 extends aP{constructor(a){super(`Value \`${"object"==typeof a?aT(a):a}\` of type \`${typeof a}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class a3 extends aP{constructor(a){super(`Value \`${a}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class a4 extends aP{constructor({givenSize:a,maxSize:b}){super(`Size cannot exceed \`${b}\` bytes. Given size: \`${a}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class a5 extends aP{constructor({offset:a,position:b,size:c}){super(`Slice ${"start"===b?"starting":"ending"} at offset \`${a}\` is out-of-bounds (size: \`${c}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class a6 extends aP{constructor({size:a,targetSize:b,type:c}){super(`${c.charAt(0).toUpperCase()}${c.slice(1).toLowerCase()} size (\`${a}\`) exceeds padding size (\`${b}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}let a7=new TextEncoder;function a8(a){var b;return a instanceof Uint8Array?a:"string"==typeof a?a9(a):(b=a)instanceof Uint8Array?b:new Uint8Array(b)}function a9(a,b={}){let{size:c}=b,d=a;c&&(aR(a,c),d=aZ(a,c));let e=d.slice(2);e.length%2&&(e=`0${e}`);let f=e.length/2,g=new Uint8Array(f);for(let a=0,b=0;a<f;a++){let c=aQ(e.charCodeAt(b++)),d=aQ(e.charCodeAt(b++));if(void 0===c||void 0===d)throw new aP(`Invalid byte sequence ("${e[b-2]}${e[b-1]}" in "${e}").`);g[a]=16*c+d}return g}class ba extends aP{constructor(a){super(`Value \`${"object"==typeof a?aT(a):a}\` of type \`${typeof a}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class bb extends aP{constructor({givenSize:a,maxSize:b}){super(`Size cannot exceed \`${b}\` bytes. Given size: \`${a}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class bc extends aP{constructor({size:a,targetSize:b,type:c}){super(`${c.charAt(0).toUpperCase()}${c.slice(1).toLowerCase()} size (\`${a}\`) exceeds padding size (\`${b}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}let bd=2n**256n-1n;function be(a,b={}){let{recovered:c}=b;if(void 0===a.r||void 0===a.s||c&&void 0===a.yParity)throw new bz({signature:a});if(a.r<0n||a.r>bd)throw new bA({value:a.r});if(a.s<0n||a.s>bd)throw new bB({value:a.s});if("number"==typeof a.yParity&&0!==a.yParity&&1!==a.yParity)throw new bC({value:a.yParity})}function bf(a){return bg(aX(a))}function bg(a){if(130!==a.length&&132!==a.length)throw new by({signature:a});let b=BigInt(a$(a,0,32)),c=BigInt(a$(a,32,64)),d=(()=>{let b=Number(`0x${a.slice(130)}`);if(!Number.isNaN(b))try{return bw(b)}catch{throw new bC({value:b})}})();return void 0===d?{r:b,s:c}:{r:b,s:c,yParity:d}}function bh(a){if(void 0!==a.r&&void 0!==a.s)return bi(a)}function bi(a){let b="string"==typeof a?bg(a):a instanceof Uint8Array?bf(a):"string"==typeof a.r?bm(a):a.v?bl(a):{r:a.r,s:a.s,...void 0!==a.yParity?{yParity:a.yParity}:{}};return be(b),b}function bj(a){return bk(aX(a))}function bk(a){let{r:b,s:c}=aM.Signature.fromDER(aW(a).slice(2));return{r:b,s:c}}function bl(a){return{r:a.r,s:a.s,yParity:bw(a.v)}}function bm(a){let b=(()=>{let b=a.v?Number(a.v):void 0,c=a.yParity?Number(a.yParity):void 0;if("number"==typeof b&&"number"!=typeof c&&(c=bw(b)),"number"!=typeof c)throw new bC({value:a.yParity});return c})();return{r:BigInt(a.r),s:BigInt(a.s),yParity:b}}function bn(a){let[b,c,d]=a;return bi({r:"0x"===c?0n:BigInt(c),s:"0x"===d?0n:BigInt(d),yParity:"0x"===b?0:Number(b)})}function bo(a){return a9(bp(a))}function bp(a){be(a);let b=a.r,c=a.s;return aV(aY(b,{size:32}),aY(c,{size:32}),"number"==typeof a.yParity?aY(bx(a.yParity),{size:1}):"0x")}function bq(a){return new aM.Signature(a.r,a.s).toDERRawBytes()}function br(a){let b=new aM.Signature(a.r,a.s);return`0x${b.toDERHex()}`}function bs(a){return{r:a.r,s:a.s,v:bx(a.yParity)}}function bt(a){let{r:b,s:c,yParity:d}=a;return{r:aY(b,{size:32}),s:aY(c,{size:32}),yParity:0===d?"0x0":"0x1"}}function bu(a){let{r:b,s:c,yParity:d}=a;return[d?"0x01":"0x",0n===b?"0x":a0(aY(b)),0n===c?"0x":a0(aY(c))]}function bv(a,b={}){try{return be(a,b),!0}catch{return!1}}function bw(a){if(0===a||27===a)return 0;if(1===a||28===a)return 1;if(a>=35)return+(a%2==0);throw new bD({value:a})}function bx(a){if(0===a)return 27;if(1===a)return 28;throw new bC({value:a})}class by extends aP{constructor({signature:a}){super(`Value \`${a}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${a_(aW(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class bz extends aP{constructor({signature:a}){super(`Signature \`${aT(a)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class bA extends aP{constructor({value:a}){super(`Value \`${a}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class bB extends aP{constructor({value:a}){super(`Value \`${a}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class bC extends aP{constructor({value:a}){super(`Value \`${a}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class bD extends aP{constructor({value:a}){super(`Value \`${a}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}a.s(["InvalidRError",()=>bA,"InvalidSError",()=>bB,"InvalidSerializedSizeError",()=>by,"InvalidVError",()=>bD,"InvalidYParityError",()=>bC,"MissingPropertiesError",()=>bz,"assert",()=>be,"extract",()=>bh,"from",()=>bi,"fromBytes",()=>bf,"fromDerBytes",()=>bj,"fromDerHex",()=>bk,"fromHex",()=>bg,"fromLegacy",()=>bl,"fromRpc",()=>bm,"fromTuple",()=>bn,"toBytes",()=>bo,"toDerBytes",()=>bq,"toDerHex",()=>br,"toHex",()=>bp,"toLegacy",()=>bs,"toRpc",()=>bt,"toTuple",()=>bu,"vToYParity",()=>bw,"validate",()=>bv,"yParityToV",()=>bx],913921),a.i(913921);class bE extends Map{constructor(a){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=a}get(a){let b=super.get(a);return super.has(a)&&void 0!==b&&(this.delete(a),super.set(a,b)),b}set(a,b){if(super.set(a,b),this.maxSize&&this.size>this.maxSize){let a=this.keys().next().value;a&&this.delete(a)}return this}}let bF={checksum:new bE(8192)}.checksum;a.i(268417);var bG=a.i(554876);function bH(a,b={}){let{as:c="string"==typeof a?"Hex":"Bytes"}=b,d=(0,bG.keccak_256)(a8(a));return"Bytes"===c?d:aX(d)}function bI(a,b={}){let{compressed:c}=b,{prefix:d,x:e,y:f}=a;if(!1===c||"bigint"==typeof e&&"bigint"==typeof f){if(4!==d)throw new bN({prefix:d,cause:new bP});return}if(!0===c||"bigint"==typeof e&&void 0===f){if(3!==d&&2!==d)throw new bN({prefix:d,cause:new bO});return}throw new bM({publicKey:a})}function bJ(a){let b=(()=>{if(function(a,b={}){let{strict:c=!1}=b;try{return!function(a,b={}){let{strict:c=!1}=b;if(!a||"string"!=typeof a)throw new a2(a);if(c&&!/^0x[0-9a-fA-F]*$/.test(a)||!a.startsWith("0x"))throw new a3(a)}(a,{strict:c}),!0}catch{return!1}}(a))return bK(a);if(function(a){try{if(!(a instanceof Uint8Array)&&(!a||"object"!=typeof a||!("BYTES_PER_ELEMENT"in a)||1!==a.BYTES_PER_ELEMENT||"Uint8Array"!==a.constructor.name))throw new ba(a);return!0}catch{return!1}}(a))return bK(aX(a));let{prefix:b,x:c,y:d}=a;return"bigint"==typeof c&&"bigint"==typeof d?{prefix:b??4,x:c,y:d}:{prefix:b,x:c}})();return bI(b),b}function bK(a){if(132!==a.length&&130!==a.length&&68!==a.length)throw new bQ({publicKey:a});if(130===a.length)return{prefix:4,x:BigInt(a$(a,0,32)),y:BigInt(a$(a,32,64))};if(132===a.length){let b=Number(a$(a,0,1));return{prefix:b,x:BigInt(a$(a,1,33)),y:BigInt(a$(a,33,65))}}return{prefix:Number(a$(a,0,1)),x:BigInt(a$(a,1,33))}}function bL(a,b={}){bI(a);let{prefix:c,x:d,y:e}=a,{includePrefix:f=!0}=b;return aV(f?aY(c,{size:1}):"0x",aY(d,{size:32}),"bigint"==typeof e?aY(e,{size:32}):"0x")}a.i(610181);class bM extends aP{constructor({publicKey:a}){super(`Value \`${aT(a)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class bN extends aP{constructor({prefix:a,cause:b}){super(`Prefix "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class bO extends aP{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class bP extends aP{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class bQ extends aP{constructor({publicKey:a}){super(`Value \`${a}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${a_(aW(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}let bR=/^0x[a-fA-F0-9]{40}$/;function bS(a,b={}){let{strict:c=!0}=b;if(!bR.test(a))throw new bU({address:a,cause:new bV});if(c){if(a.toLowerCase()===a)return;if(bT(a)!==a)throw new bU({address:a,cause:new bW})}}function bT(a){if(bF.has(a))return bF.get(a);bS(a,{strict:!1});let b=a.substring(2).toLowerCase(),c=bH(function(a,b={}){let{size:c}=b,d=a7.encode(a);if("number"==typeof c){var e;if(d.length>c)throw new bb({givenSize:d.length,maxSize:c});return e=d,function(a,b={}){let{dir:c,size:d=32}=b;if(0===d)return a;if(a.length>d)throw new bc({size:a.length,targetSize:d,type:"Bytes"});let e=new Uint8Array(d);for(let b=0;b<d;b++){let f="right"===c;e[f?b:d-b-1]=a[f?b:a.length-b-1]}return e}(e,{dir:"right",size:c})}return d}(b),{as:"Bytes"}),d=b.split("");for(let a=0;a<40;a+=2)c[a>>1]>>4>=8&&d[a]&&(d[a]=d[a].toUpperCase()),(15&c[a>>1])>=8&&d[a+1]&&(d[a+1]=d[a+1].toUpperCase());let e=`0x${d.join("")}`;return bF.set(a,e),e}class bU extends aP{constructor({address:a,cause:b}){super(`Address "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class bV extends aP{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class bW extends aP{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function bX(a={}){let{as:b="Hex"}=a,c=b$({as:b}),d=bY({privateKey:c});return{privateKey:c,publicKey:d}}function bY(a){let{privateKey:b}=a;return bJ(aM.ProjectivePoint.fromPrivateKey(aW(b).slice(2)))}function bZ(a){let{as:b="Hex",privateKey:c,publicKey:d}=a,e=aM.ProjectivePoint.fromHex(bL(d).slice(2)).multiply(aM.utils.normPrivateKeyToScalar(aW(c).slice(2))).toRawBytes(!0);return"Hex"===b?aX(e):e}function b$(a={}){let{as:b="Hex"}=a,c=aM.utils.randomPrivateKey();return"Hex"===b?aX(c):c}function b_(a){return function(a,b={}){let c=bH(`0x${bL(a).slice(4)}`).substring(26);return function(a,b={}){let{checksum:c=!1}=b;return(bS(a),c)?bT(a):a}(`0x${c}`,b)}(b0(a))}function b0(a){let{payload:b,signature:c}=a,{r:d,s:e,yParity:f}=c;return bJ(new aM.Signature(BigInt(d),BigInt(e)).addRecoveryBit(f).recoverPublicKey(aW(b).substring(2)))}function b1(a){let{extraEntropy:b=!1,hash:c,payload:d,privateKey:e}=a,{r:f,s:g,recovery:h}=aM.sign(a8(d),a8(e),{extraEntropy:"boolean"==typeof b?b:aW(b).slice(2),lowS:!0,...c?{prehash:!0}:{}});return{r:f,s:g,yParity:h}}function b2(a){let{address:b,hash:c,payload:d,publicKey:e,signature:f}=a;if(b){var g;return g=b_({payload:d,signature:f}),bS(b,{strict:!1}),bS(g,{strict:!1}),b.toLowerCase()===g.toLowerCase()}return aM.verify(f,a8(d),function(a,b={}){return a9(bL(a,b))}(e),...c?[{prehash:!0,lowS:!0}]:[])}function b3(a){return`${a<0?"-":""}0x${Math.abs(a).toString(16).padStart(2,"0")}`}a.s(["createKeyPair",()=>bX,"getPublicKey",()=>bY,"getSharedSecret",()=>bZ,"noble",0,aM,"randomPrivateKey",()=>b$,"recoverAddress",()=>b_,"recoverPublicKey",()=>b0,"sign",()=>b1,"verify",()=>b2],518472),a.i(518472),!function(a){if(a.length>=255)throw TypeError("Alphabet too long");let b=new Uint8Array(256);for(let a=0;a<b.length;a++)b[a]=255;for(let c=0;c<a.length;c++){let d=a.charAt(c),e=d.charCodeAt(0);if(255!==b[e])throw TypeError(d+" is ambiguous");b[e]=c}let c=a.length,d=a.charAt(0),e=Math.log(c)/Math.log(256)}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");class b4{constructor(a,b){this.type=a,this.data=b}}class b5 extends Error{constructor(a){super(a),Object.setPrototypeOf(this,Object.create(b5.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:b5.name})}}function b6(a,b,c){let d=Math.floor(c/0x100000000);a.setUint32(b,d),a.setUint32(b+4,c)}function b7(a,b){return 0x100000000*a.getInt32(b)+a.getUint32(b+4)}let b8={type:-1,encode:function(a){if(!(a instanceof Date))return null;{let b,c,d,e;return function({sec:a,nsec:b}){if(a>=0&&b>=0&&a<=0x3ffffffff)if(0===b&&a<=0xffffffff){let b=new Uint8Array(4);return new DataView(b.buffer).setUint32(0,a),b}else{let c=a/0x100000000,d=new Uint8Array(8),e=new DataView(d.buffer);return e.setUint32(0,b<<2|3&c),e.setUint32(4,0|a),d}{let c=new Uint8Array(12),d=new DataView(c.buffer);return d.setUint32(0,b),b6(d,4,a),c}}((c=Math.floor((b=a.getTime())/1e3),e=Math.floor((d=(b-1e3*c)*1e6)/1e9),{sec:c+e,nsec:d-1e9*e}))}},decode:function(a){let b=function(a){let b=new DataView(a.buffer,a.byteOffset,a.byteLength);switch(a.byteLength){case 4:return{sec:b.getUint32(0),nsec:0};case 8:{let a=b.getUint32(0);return{sec:(3&a)*0x100000000+b.getUint32(4),nsec:a>>>2}}case 12:return{sec:b7(b,4),nsec:b.getUint32(0)};default:throw new b5(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${a.length}`)}}(a);return new Date(1e3*b.sec+b.nsec/1e6)}};class b9{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(b8)}register({type:a,encode:b,decode:c}){if(a>=0)this.encoders[a]=b,this.decoders[a]=c;else{let d=-1-a;this.builtInEncoders[d]=b,this.builtInDecoders[d]=c}}tryToEncode(a,b){for(let c=0;c<this.builtInEncoders.length;c++){let d=this.builtInEncoders[c];if(null!=d){let e=d(a,b);if(null!=e)return new b4(-1-c,e)}}for(let c=0;c<this.encoders.length;c++){let d=this.encoders[c];if(null!=d){let e=d(a,b);if(null!=e)return new b4(c,e)}}return a instanceof b4?a:null}decode(a,b,c){let d=b<0?this.builtInDecoders[-1-b]:this.decoders[b];return d?d(a,b,c):new b4(b,a)}}b9.defaultCodec=new b9;let ca=new TextEncoder;function cb(a,b,c){let d=b,e=d+c,f=[],g="";for(;d<e;){let b=a[d++];if((128&b)==0)f.push(b);else if((224&b)==192){let c=63&a[d++];f.push((31&b)<<6|c)}else if((240&b)==224){let c=63&a[d++],e=63&a[d++];f.push((31&b)<<12|c<<6|e)}else if((248&b)==240){let c=(7&b)<<18|(63&a[d++])<<12|(63&a[d++])<<6|63&a[d++];c>65535&&(c-=65536,f.push(c>>>10&1023|55296),c=56320|1023&c),f.push(c)}else f.push(b);f.length>=4096&&(g+=String.fromCharCode(...f),f.length=0)}return f.length>0&&(g+=String.fromCharCode(...f)),g}let cc=new TextDecoder;function cd(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&a instanceof SharedArrayBuffer?new Uint8Array(a):Uint8Array.from(a)}let ce="array",cf="map_key",cg="map_value",ch=a=>{if("string"==typeof a||"number"==typeof a)return a;throw new b5("The type of key must be string or number but "+typeof a)};class ci{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(a){let b=this.getUninitializedStateFromPool();b.type=ce,b.position=0,b.size=a,b.array=Array(a)}pushMapState(a){let b=this.getUninitializedStateFromPool();b.type=cf,b.readCount=0,b.size=a,b.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(a){if(this.stack[this.stackHeadPosition]!==a)throw Error("Invalid stack state. Released state is not on top of the stack.");a.type===ce&&(a.size=0,a.array=void 0,a.position=0,a.type=void 0),(a.type===cf||a.type===cg)&&(a.size=0,a.map=void 0,a.readCount=0,a.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let cj=new DataView(new ArrayBuffer(0)),ck=new Uint8Array(cj.buffer);try{cj.getInt8(0)}catch(a){if(!(a instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let cl=RangeError("Insufficient data"),cm=new class{constructor(a=16,b=16){this.hit=0,this.miss=0,this.maxKeyLength=a,this.maxLengthPerKey=b,this.caches=[];for(let a=0;a<this.maxKeyLength;a++)this.caches.push([])}canBeCached(a){return a>0&&a<=this.maxKeyLength}find(a,b,c){let d=this.caches[c-1];a:for(let e of d){let d=e.bytes;for(let e=0;e<c;e++)if(d[e]!==a[b+e])continue a;return e.str}return null}store(a,b){let c=this.caches[a.length-1],d={bytes:a,str:b};c.length>=this.maxLengthPerKey?c[Math.random()*c.length|0]=d:c.push(d)}decode(a,b,c){let d=this.find(a,b,c);if(null!=d)return this.hit++,d;this.miss++;let e=cb(a,b,c),f=Uint8Array.prototype.slice.call(a,b,b+c);return this.store(f,e),e}};class cn{constructor(a){this.totalPos=0,this.pos=0,this.view=cj,this.bytes=ck,this.headByte=-1,this.stack=new ci,this.entered=!1,this.extensionCodec=a?.extensionCodec??b9.defaultCodec,this.context=a?.context,this.useBigInt64=a?.useBigInt64??!1,this.rawStrings=a?.rawStrings??!1,this.maxStrLength=a?.maxStrLength??0xffffffff,this.maxBinLength=a?.maxBinLength??0xffffffff,this.maxArrayLength=a?.maxArrayLength??0xffffffff,this.maxMapLength=a?.maxMapLength??0xffffffff,this.maxExtLength=a?.maxExtLength??0xffffffff,this.keyDecoder=a?.keyDecoder!==void 0?a.keyDecoder:cm,this.mapKeyConverter=a?.mapKeyConverter??ch}clone(){return new cn({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(a){let b=cd(a);this.bytes=b,this.view=new DataView(b.buffer,b.byteOffset,b.byteLength),this.pos=0}appendBuffer(a){if(-1!==this.headByte||this.hasRemaining(1)){let b=this.bytes.subarray(this.pos),c=cd(a),d=new Uint8Array(b.length+c.length);d.set(b),d.set(c,b.length),this.setBuffer(d)}else this.setBuffer(a)}hasRemaining(a){return this.view.byteLength-this.pos>=a}createExtraByteError(a){let{view:b,pos:c}=this;return RangeError(`Extra ${b.byteLength-c} of ${b.byteLength} byte(s) found at buffer[${a}]`)}decode(a){if(this.entered)return this.clone().decode(a);try{this.entered=!0,this.reinitializeState(),this.setBuffer(a);let b=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return b}finally{this.entered=!1}}*decodeMulti(a){if(this.entered){let b=this.clone();yield*b.decodeMulti(a);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(a);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(a){if(this.entered)return this.clone().decodeAsync(a);try{let b;this.entered=!0;let c=!1;for await(let d of a){if(c)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(d);try{b=this.doDecodeSync(),c=!0}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}if(c){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return b}let{headByte:d,pos:e,totalPos:f}=this;throw RangeError(`Insufficient data in parsing ${b3(d)} at ${f} (${e} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(a){return this.decodeMultiAsync(a,!0)}decodeStream(a){return this.decodeMultiAsync(a,!1)}async *decodeMultiAsync(a,b){if(this.entered){let c=this.clone();yield*c.decodeMultiAsync(a,b);return}try{this.entered=!0;let c=b,d=-1;for await(let e of a){if(b&&0===d)throw this.createExtraByteError(this.totalPos);this.appendBuffer(e),c&&(d=this.readArraySize(),c=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--d;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){b:for(;;){let a,b=this.readHeadByte();if(b>=224)a=b-256;else if(b<192)if(b<128)a=b;else if(b<144){let c=b-128;if(0!==c){this.pushMapState(c),this.complete();continue}a={}}else if(b<160){let c=b-144;if(0!==c){this.pushArrayState(c),this.complete();continue}a=[]}else{let c=b-160;a=this.decodeString(c,0)}else if(192===b)a=null;else if(194===b)a=!1;else if(195===b)a=!0;else if(202===b)a=this.readF32();else if(203===b)a=this.readF64();else if(204===b)a=this.readU8();else if(205===b)a=this.readU16();else if(206===b)a=this.readU32();else if(207===b)a=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===b)a=this.readI8();else if(209===b)a=this.readI16();else if(210===b)a=this.readI32();else if(211===b)a=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===b){let b=this.lookU8();a=this.decodeString(b,1)}else if(218===b){let b=this.lookU16();a=this.decodeString(b,2)}else if(219===b){let b=this.lookU32();a=this.decodeString(b,4)}else if(220===b){let b=this.readU16();if(0!==b){this.pushArrayState(b),this.complete();continue}a=[]}else if(221===b){let b=this.readU32();if(0!==b){this.pushArrayState(b),this.complete();continue}a=[]}else if(222===b){let b=this.readU16();if(0!==b){this.pushMapState(b),this.complete();continue}a={}}else if(223===b){let b=this.readU32();if(0!==b){this.pushMapState(b),this.complete();continue}a={}}else if(196===b){let b=this.lookU8();a=this.decodeBinary(b,1)}else if(197===b){let b=this.lookU16();a=this.decodeBinary(b,2)}else if(198===b){let b=this.lookU32();a=this.decodeBinary(b,4)}else if(212===b)a=this.decodeExtension(1,0);else if(213===b)a=this.decodeExtension(2,0);else if(214===b)a=this.decodeExtension(4,0);else if(215===b)a=this.decodeExtension(8,0);else if(216===b)a=this.decodeExtension(16,0);else if(199===b){let b=this.lookU8();a=this.decodeExtension(b,1)}else if(200===b){let b=this.lookU16();a=this.decodeExtension(b,2)}else if(201===b){let b=this.lookU32();a=this.decodeExtension(b,4)}else throw new b5(`Unrecognized type byte: ${b3(b)}`);this.complete();let c=this.stack;for(;c.length>0;){let b=c.top();if(b.type===ce)if(b.array[b.position]=a,b.position++,b.position===b.size)a=b.array,c.release(b);else continue b;else if(b.type===cf){if("__proto__"===a)throw new b5("The key __proto__ is not allowed");b.key=this.mapKeyConverter(a),b.type=cg;continue b}else if(b.map[b.key]=a,b.readCount++,b.readCount===b.size)a=b.map,c.release(b);else{b.key=null,b.type=cf;continue b}}return a}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let a=this.readHeadByte();switch(a){case 220:return this.readU16();case 221:return this.readU32();default:if(a<160)return a-144;throw new b5(`Unrecognized array type byte: ${b3(a)}`)}}pushMapState(a){if(a>this.maxMapLength)throw new b5(`Max length exceeded: map length (${a}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(a)}pushArrayState(a){if(a>this.maxArrayLength)throw new b5(`Max length exceeded: array length (${a}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(a)}decodeString(a,b){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(a,b):this.decodeBinary(a,b)}decodeUtf8String(a,b){let c;if(a>this.maxStrLength)throw new b5(`Max length exceeded: UTF-8 byte length (${a}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+b+a)throw cl;let d=this.pos+b;return c=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(a)?this.keyDecoder.decode(this.bytes,d,a):function(a,b,c){let d;if(!(c>200))return cb(a,b,c);return d=a.subarray(b,b+c),cc.decode(d)}(this.bytes,d,a),this.pos+=b+a,c}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===cf}decodeBinary(a,b){if(a>this.maxBinLength)throw new b5(`Max length exceeded: bin length (${a}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(a+b))throw cl;let c=this.pos+b,d=this.bytes.subarray(c,c+a);return this.pos+=b+a,d}decodeExtension(a,b){if(a>this.maxExtLength)throw new b5(`Max length exceeded: ext length (${a}) > maxExtLength (${this.maxExtLength})`);let c=this.view.getInt8(this.pos+b),d=this.decodeBinary(a,b+1);return this.extensionCodec.decode(d,c,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let a=this.view.getUint8(this.pos);return this.pos++,a}readI8(){let a=this.view.getInt8(this.pos);return this.pos++,a}readU16(){let a=this.view.getUint16(this.pos);return this.pos+=2,a}readI16(){let a=this.view.getInt16(this.pos);return this.pos+=2,a}readU32(){let a=this.view.getUint32(this.pos);return this.pos+=4,a}readI32(){let a=this.view.getInt32(this.pos);return this.pos+=4,a}readU64(){var a,b;let c=(a=this.view,b=this.pos,0x100000000*a.getUint32(b)+a.getUint32(b+4));return this.pos+=8,c}readI64(){let a=b7(this.view,this.pos);return this.pos+=8,a}readU64AsBigInt(){let a=this.view.getBigUint64(this.pos);return this.pos+=8,a}readI64AsBigInt(){let a=this.view.getBigInt64(this.pos);return this.pos+=8,a}readF32(){let a=this.view.getFloat32(this.pos);return this.pos+=4,a}readF64(){let a=this.view.getFloat64(this.pos);return this.pos+=8,a}}function co(a,b){return new cn(b).decode(a)}a.s(["decode",()=>co],92965);class cp{constructor(a){this.entered=!1,this.extensionCodec=a?.extensionCodec??b9.defaultCodec,this.context=a?.context,this.useBigInt64=a?.useBigInt64??!1,this.maxDepth=a?.maxDepth??100,this.initialBufferSize=a?.initialBufferSize??2048,this.sortKeys=a?.sortKeys??!1,this.forceFloat32=a?.forceFloat32??!1,this.ignoreUndefined=a?.ignoreUndefined??!1,this.forceIntegerToFloat=a?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new cp({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(a){if(this.entered)return this.clone().encodeSharedRef(a);try{return this.entered=!0,this.reinitializeState(),this.doEncode(a,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(a){if(this.entered)return this.clone().encode(a);try{return this.entered=!0,this.reinitializeState(),this.doEncode(a,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(a,b){if(b>this.maxDepth)throw Error(`Too deep objects in depth ${b}`);null==a?this.encodeNil():"boolean"==typeof a?this.encodeBoolean(a):"number"==typeof a?this.forceIntegerToFloat?this.encodeNumberAsFloat(a):this.encodeNumber(a):"string"==typeof a?this.encodeString(a):this.useBigInt64&&"bigint"==typeof a?this.encodeBigInt64(a):this.encodeObject(a,b)}ensureBufferSizeToWrite(a){let b=this.pos+a;this.view.byteLength<b&&this.resizeBuffer(2*b)}resizeBuffer(a){let b=new ArrayBuffer(a),c=new Uint8Array(b),d=new DataView(b);c.set(this.bytes),this.view=d,this.bytes=c}encodeNil(){this.writeU8(192)}encodeBoolean(a){!1===a?this.writeU8(194):this.writeU8(195)}encodeNumber(a){!this.forceIntegerToFloat&&Number.isSafeInteger(a)?a>=0?a<128?this.writeU8(a):a<256?(this.writeU8(204),this.writeU8(a)):a<65536?(this.writeU8(205),this.writeU16(a)):a<0x100000000?(this.writeU8(206),this.writeU32(a)):this.useBigInt64?this.encodeNumberAsFloat(a):(this.writeU8(207),this.writeU64(a)):a>=-32?this.writeU8(224|a+32):a>=-128?(this.writeU8(208),this.writeI8(a)):a>=-32768?(this.writeU8(209),this.writeI16(a)):a>=-0x80000000?(this.writeU8(210),this.writeI32(a)):this.useBigInt64?this.encodeNumberAsFloat(a):(this.writeU8(211),this.writeI64(a)):this.encodeNumberAsFloat(a)}encodeNumberAsFloat(a){this.forceFloat32?(this.writeU8(202),this.writeF32(a)):(this.writeU8(203),this.writeF64(a))}encodeBigInt64(a){a>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(a)):(this.writeU8(211),this.writeBigInt64(a))}writeStringHeader(a){if(a<32)this.writeU8(160+a);else if(a<256)this.writeU8(217),this.writeU8(a);else if(a<65536)this.writeU8(218),this.writeU16(a);else if(a<0x100000000)this.writeU8(219),this.writeU32(a);else throw Error(`Too long string: ${a} bytes in UTF-8`)}encodeString(a){let b=function(a){let b=a.length,c=0,d=0;for(;d<b;){let e=a.charCodeAt(d++);if((0xffffff80&e)==0){c++;continue}if((0xfffff800&e)==0)c+=2;else{if(e>=55296&&e<=56319&&d<b){let b=a.charCodeAt(d);(64512&b)==56320&&(++d,e=((1023&e)<<10)+(1023&b)+65536)}(0xffff0000&e)==0?c+=3:c+=4}}return c}(a);this.ensureBufferSizeToWrite(5+b),this.writeStringHeader(b),function(a,b,c){if(a.length>50)ca.encodeInto(a,b.subarray(c));else!function(a,b,c){let d=a.length,e=c,f=0;for(;f<d;){let c=a.charCodeAt(f++);if((0xffffff80&c)==0){b[e++]=c;continue}if((0xfffff800&c)==0)b[e++]=c>>6&31|192;else{if(c>=55296&&c<=56319&&f<d){let b=a.charCodeAt(f);(64512&b)==56320&&(++f,c=((1023&c)<<10)+(1023&b)+65536)}(0xffff0000&c)==0?b[e++]=c>>12&15|224:(b[e++]=c>>18&7|240,b[e++]=c>>12&63|128),b[e++]=c>>6&63|128}b[e++]=63&c|128}}(a,b,c)}(a,this.bytes,this.pos),this.pos+=b}encodeObject(a,b){let c=this.extensionCodec.tryToEncode(a,this.context);if(null!=c)this.encodeExtension(c);else if(Array.isArray(a))this.encodeArray(a,b);else if(ArrayBuffer.isView(a))this.encodeBinary(a);else if("object"==typeof a)this.encodeMap(a,b);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(a)}`)}encodeBinary(a){let b=a.byteLength;if(b<256)this.writeU8(196),this.writeU8(b);else if(b<65536)this.writeU8(197),this.writeU16(b);else if(b<0x100000000)this.writeU8(198),this.writeU32(b);else throw Error(`Too large binary: ${b}`);let c=cd(a);this.writeU8a(c)}encodeArray(a,b){let c=a.length;if(c<16)this.writeU8(144+c);else if(c<65536)this.writeU8(220),this.writeU16(c);else if(c<0x100000000)this.writeU8(221),this.writeU32(c);else throw Error(`Too large array: ${c}`);for(let c of a)this.doEncode(c,b+1)}countWithoutUndefined(a,b){let c=0;for(let d of b)void 0!==a[d]&&c++;return c}encodeMap(a,b){let c=Object.keys(a);this.sortKeys&&c.sort();let d=this.ignoreUndefined?this.countWithoutUndefined(a,c):c.length;if(d<16)this.writeU8(128+d);else if(d<65536)this.writeU8(222),this.writeU16(d);else if(d<0x100000000)this.writeU8(223),this.writeU32(d);else throw Error(`Too large map object: ${d}`);for(let d of c){let c=a[d];this.ignoreUndefined&&void 0===c||(this.encodeString(d),this.doEncode(c,b+1))}}encodeExtension(a){if("function"==typeof a.data){let b=a.data(this.pos+6),c=b.length;if(c>=0x100000000)throw Error(`Too large extension object: ${c}`);this.writeU8(201),this.writeU32(c),this.writeI8(a.type),this.writeU8a(b);return}let b=a.data.length;if(1===b)this.writeU8(212);else if(2===b)this.writeU8(213);else if(4===b)this.writeU8(214);else if(8===b)this.writeU8(215);else if(16===b)this.writeU8(216);else if(b<256)this.writeU8(199),this.writeU8(b);else if(b<65536)this.writeU8(200),this.writeU16(b);else if(b<0x100000000)this.writeU8(201),this.writeU32(b);else throw Error(`Too large extension object: ${b}`);this.writeI8(a.type),this.writeU8a(a.data)}writeU8(a){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,a),this.pos++}writeU8a(a){let b=a.length;this.ensureBufferSizeToWrite(b),this.bytes.set(a,this.pos),this.pos+=b}writeI8(a){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,a),this.pos++}writeU16(a){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,a),this.pos+=2}writeI16(a){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,a),this.pos+=2}writeU32(a){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,a),this.pos+=4}writeI32(a){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,a),this.pos+=4}writeF32(a){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,a),this.pos+=4}writeF64(a){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,a),this.pos+=8}writeU64(a){var b,c;this.ensureBufferSizeToWrite(8),b=this.view,c=this.pos,b.setUint32(c,a/0x100000000),b.setUint32(c+4,a),this.pos+=8}writeI64(a){this.ensureBufferSizeToWrite(8),b6(this.view,this.pos,a),this.pos+=8}writeBigUint64(a){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,a),this.pos+=8}writeBigInt64(a){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,a),this.pos+=8}}function cq(a,b){return new cp(b).encodeSharedRef(a)}function cr(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function cs(a,b){return!!Array.isArray(b)&&(0===b.length||(a?b.every(a=>"string"==typeof a):b.every(a=>Number.isSafeInteger(a))))}function ct(a){if("function"!=typeof a)throw Error("function expected");return!0}function cu(a,b){if("string"!=typeof b)throw Error(`${a}: string expected`);return!0}function cv(a){if(!Number.isSafeInteger(a))throw Error(`invalid integer: ${a}`)}function cw(a){if(!Array.isArray(a))throw Error("array expected")}function cx(a,b){if(!cs(!0,b))throw Error(`${a}: array of strings expected`)}function cy(a,b){if(!cs(!1,b))throw Error(`${a}: array of numbers expected`)}function cz(...a){let b=a=>a,c=(a,b)=>c=>a(b(c));return{encode:a.map(a=>a.encode).reduceRight(c,b),decode:a.map(a=>a.decode).reduce(c,b)}}function cA(a){let b="string"==typeof a?a.split(""):a,c=b.length;cx("alphabet",b);let d=new Map(b.map((a,b)=>[a,b]));return{encode:d=>(cw(d),d.map(d=>{if(!Number.isSafeInteger(d)||d<0||d>=c)throw Error(`alphabet.encode: digit index outside alphabet "${d}". Allowed: ${a}`);return b[d]})),decode:b=>(cw(b),b.map(b=>{cu("alphabet.decode",b);let c=d.get(b);if(void 0===c)throw Error(`Unknown letter: "${b}". Allowed: ${a}`);return c}))}}function cB(a=""){return cu("join",a),{encode:b=>(cx("join.decode",b),b.join(a)),decode:b=>(cu("join.decode",b),b.split(a))}}function cC(a,b,c){if(b<2)throw Error(`convertRadix: invalid from=${b}, base cannot be less than 2`);if(c<2)throw Error(`convertRadix: invalid to=${c}, base cannot be less than 2`);if(cw(a),!a.length)return[];let d=0,e=[],f=Array.from(a,a=>{if(cv(a),a<0||a>=b)throw Error(`invalid integer: ${a}`);return a}),g=f.length;for(;;){let a=0,h=!0;for(let e=d;e<g;e++){let g=f[e],i=b*a,j=i+g;if(!Number.isSafeInteger(j)||i/b!==a||j-g!==i)throw Error("convertRadix: carry overflow");let k=j/c;a=j%c;let l=Math.floor(k);if(f[e]=l,!Number.isSafeInteger(l)||l*c+a!==j)throw Error("convertRadix: carry overflow");h&&(l?h=!1:d=e)}if(e.push(a),h)break}for(let b=0;b<a.length-1&&0===a[b];b++)e.push(0);return e.reverse()}a.s(["encode",()=>cq],746280);let cD=(a,b)=>0===b?a:cD(b,a%b),cE=(a,b)=>a+(b-cD(a,b)),cF=(()=>{let a=[];for(let b=0;b<40;b++)a.push(2**b);return a})();function cG(a,b,c,d){if(cw(a),b<=0||b>32)throw Error(`convertRadix2: wrong from=${b}`);if(c<=0||c>32)throw Error(`convertRadix2: wrong to=${c}`);if(cE(b,c)>32)throw Error(`convertRadix2: carry overflow from=${b} to=${c} carryBits=${cE(b,c)}`);let e=0,f=0,g=cF[b],h=cF[c]-1,i=[];for(let d of a){if(cv(d),d>=g)throw Error(`convertRadix2: invalid data word=${d} from=${b}`);if(e=e<<b|d,f+b>32)throw Error(`convertRadix2: carry overflow pos=${f} from=${b}`);for(f+=b;f>=c;f-=c)i.push((e>>f-c&h)>>>0);let a=cF[f];if(void 0===a)throw Error("invalid carry");e&=a-1}if(e=e<<c-f&h,!d&&f>=b)throw Error("Excess padding");if(!d&&e>0)throw Error(`Non-zero padding: ${e}`);return d&&f>0&&i.push(e>>>0),i}let cH=cz(function(a,b=!1){cv(5),!1;if(cE(8,5)>32||cE(5,8)>32)throw Error("radix2: carry overflow");return{encode:a=>{if(!cr(a))throw Error("radix2.encode input should be Uint8Array");return cG(Array.from(a),8,5,!b)},decode:a=>(cy("radix2.decode",a),Uint8Array.from(cG(a,5,8,b)))}}(5),cA("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),function(a,b="="){return cv(5),cu("padding",b),{encode(a){for(cx("padding.encode",a);5*a.length%8;)a.push(b);return a},decode(a){cx("padding.decode",a);let c=a.length;if(5*c%8)throw Error("padding: invalid, string should have whole number of bytes");for(;c>0&&a[c-1]===b;c--)if((c-1)*5%8==0)throw Error("padding: invalid, string has too much padding");return a.slice(0,c)}}}(5),cB("")),cI="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64;cv(58);"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex||ct(a=>{if("string"!=typeof a||a.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()}),a.s(["base32",0,cH],39809);var cJ=a.i(559651);function cK(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}cK("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),cK("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{let b=function(a=0){if(null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe){var b;return b=globalThis.Buffer.allocUnsafe(a),null!=globalThis.Buffer?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):b}return new Uint8Array(a)}((a=a.substring(1)).length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),cJ.bases.base16,cJ.bases,a.i(717155),a.i(715896),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let cL=BigInt(0x100000000-1),cM=BigInt(32);function cN(a,b=!1){return b?{h:Number(a&cL),l:Number(a>>cM&cL)}:{h:0|Number(a>>cM&cL),l:0|Number(a&cL)}}function cO(a,b=!1){let c=a.length,d=new Uint32Array(c),e=new Uint32Array(c);for(let f=0;f<c;f++){let{h:c,l:g}=cN(a[f],b);[d[f],e[f]]=[c,g]}return[d,e]}let cP=(a,b,c)=>a>>>c,cQ=(a,b,c)=>a<<32-c|b>>>c,cR=(a,b,c)=>a>>>c|b<<32-c,cS=(a,b,c)=>a<<32-c|b>>>c,cT=(a,b,c)=>a<<64-c|b>>>c-32,cU=(a,b,c)=>a>>>c-32|b<<64-c;function cV(a,b,c,d){let e=(b>>>0)+(d>>>0);return{h:a+c+(e/0x100000000|0)|0,l:0|e}}let cW=(a,b,c)=>(a>>>0)+(b>>>0)+(c>>>0),cX=(a,b,c,d)=>b+c+d+(a/0x100000000|0)|0,cY=(a,b,c,d)=>(a>>>0)+(b>>>0)+(c>>>0)+(d>>>0),cZ=(a,b,c,d,e)=>b+c+d+e+(a/0x100000000|0)|0,c$=(a,b,c,d,e)=>(a>>>0)+(b>>>0)+(c>>>0)+(d>>>0)+(e>>>0),c_=(a,b,c,d,e,f)=>b+c+d+e+f+(a/0x100000000|0)|0,c0="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function c1(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function c2(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function c3(a,...b){if(!c1(a))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error("Uint8Array expected of length "+b+", got length="+a.length)}function c4(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash should be wrapped by utils.createHasher");c2(a.outputLen),c2(a.blockLen)}function c5(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function c6(a,b){c3(a);let c=b.outputLen;if(a.length<c)throw Error("digestInto() expects output buffer of length at least "+c)}function c7(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function c8(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}function c9(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function da(a,b){return a<<32-b|a>>>b}let db=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function dc(a){return a<<24&0xff000000|a<<8&0xff0000|a>>>8&65280|a>>>24&255}let dd=db?a=>a:a=>dc(a),de=db?a=>a:function(a){for(let b=0;b<a.length;b++)a[b]=dc(a[b]);return a},df="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,dg=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function dh(a){if(c3(a),df)return a.toHex();let b="";for(let c=0;c<a.length;c++)b+=dg[a[c]];return b}function di(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function dj(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);if(df)return Uint8Array.fromHex(a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=di(a.charCodeAt(e)),f=di(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}function dk(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}function dl(a){return"string"==typeof a&&(a=dk(a)),c3(a),a}function dm(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];c3(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}class dn{}function dp(a){let b=b=>a().update(dl(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b}function dq(a=32){if(c0&&"function"==typeof c0.getRandomValues)return c0.getRandomValues(new Uint8Array(a));if(c0&&"function"==typeof c0.randomBytes)return Uint8Array.from(c0.randomBytes(a));throw Error("crypto.getRandomValues must be defined")}let dr=BigInt(0),ds=BigInt(1),dt=BigInt(2),du=BigInt(7),dv=BigInt(256),dw=BigInt(113),dx=[],dy=[],dz=[];for(let a=0,b=ds,c=1,d=0;a<24;a++){[c,d]=[d,(2*c+3*d)%5],dx.push(2*(5*d+c)),dy.push((a+1)*(a+2)/2%64);let e=dr;for(let a=0;a<7;a++)(b=(b<<ds^(b>>du)*dw)%dv)&dt&&(e^=ds<<(ds<<BigInt(a))-ds);dz.push(e)}let dA=cO(dz,!0),dB=dA[0],dC=dA[1],dD=(a,b,c)=>c>32?b<<c-32|a>>>64-c:a<<c|b>>>32-c,dE=(a,b,c)=>c>32?a<<c-32|b>>>64-c:b<<c|a>>>32-c;class dF extends dn{constructor(a,b,c,d=!1,e=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=a,this.suffix=b,this.outputLen=c,this.enableXOF=d,this.rounds=e,c2(c),!(0<a&&a<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=c7(this.state)}clone(){return this._cloneInto()}keccak(){de(this.state32),function(a,b=24){let c=new Uint32Array(10);for(let d=24-b;d<24;d++){for(let b=0;b<10;b++)c[b]=a[b]^a[b+10]^a[b+20]^a[b+30]^a[b+40];for(let b=0;b<10;b+=2){let d=(b+8)%10,e=(b+2)%10,f=c[e],g=c[e+1],h=dD(f,g,1)^c[d],i=dE(f,g,1)^c[d+1];for(let c=0;c<50;c+=10)a[b+c]^=h,a[b+c+1]^=i}let b=a[2],e=a[3];for(let c=0;c<24;c++){let d=dy[c],f=dD(b,e,d),g=dE(b,e,d),h=dx[c];b=a[h],e=a[h+1],a[h]=f,a[h+1]=g}for(let b=0;b<50;b+=10){for(let d=0;d<10;d++)c[d]=a[b+d];for(let d=0;d<10;d++)a[b+d]^=~c[(d+2)%10]&c[(d+4)%10]}a[0]^=dB[d],a[1]^=dC[d]}c8(c)}(this.state32,this.rounds),de(this.state32),this.posOut=0,this.pos=0}update(a){c5(this),c3(a=dl(a));let{blockLen:b,state:c}=this,d=a.length;for(let e=0;e<d;){let f=Math.min(b-this.pos,d-e);for(let b=0;b<f;b++)c[this.pos++]^=a[e++];this.pos===b&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:a,suffix:b,pos:c,blockLen:d}=this;a[c]^=b,(128&b)!=0&&c===d-1&&this.keccak(),a[d-1]^=128,this.keccak()}writeInto(a){c5(this,!1),c3(a),this.finish();let b=this.state,{blockLen:c}=this;for(let d=0,e=a.length;d<e;){this.posOut>=c&&this.keccak();let f=Math.min(c-this.posOut,e-d);a.set(b.subarray(this.posOut,this.posOut+f),d),this.posOut+=f,d+=f}return a}xofInto(a){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return c2(a),this.xofInto(new Uint8Array(a))}digestInto(a){if(c6(a,this),this.finished)throw Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,c8(this.state)}_cloneInto(a){let{blockLen:b,suffix:c,outputLen:d,rounds:e,enableXOF:f}=this;return a||(a=new dF(b,c,d,f,e)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=e,a.suffix=c,a.outputLen=d,a.enableXOF=f,a.destroyed=this.destroyed,a}}dp(()=>new dF(136,1,32));class dG extends dn{constructor(a,b,c,d){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.buffer=new Uint8Array(a),this.view=c9(this.buffer)}update(a){c5(this),c3(a=dl(a));let{view:b,buffer:c,blockLen:d}=this,e=a.length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g===d){let b=c9(a);for(;d<=e-f;f+=d)this.process(b,f);continue}c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){c5(this),c6(a,this),this.finished=!0;let{buffer:b,view:c,blockLen:d,isLE:e}=this,{pos:f}=this;b[f++]=128,c8(this.buffer.subarray(f)),this.padOffset>d-f&&(this.process(c,0),f=0);for(let a=f;a<d;a++)b[a]=0;(function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)})(c,d-8,BigInt(8*this.length),e),this.process(c,0);let g=c9(a),h=this.outputLen;if(h%4)throw Error("_sha2: outputLen should be aligned to 32bit");let i=h/4,j=this.get();if(i>j.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<i;a++)g.setUint32(4*a,j[a],e)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.destroyed=f,a.finished=e,a.length=d,a.pos=g,d%b&&a.buffer.set(c),a}clone(){return this._cloneInto()}}let dH=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),dI=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),dJ=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),dK=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),dL=new Uint32Array(64);class dM extends dG{constructor(a=32){super(64,a,8,!1),this.A=0|dH[0],this.B=0|dH[1],this.C=0|dH[2],this.D=0|dH[3],this.E=0|dH[4],this.F=0|dH[5],this.G=0|dH[6],this.H=0|dH[7]}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)dL[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=dL[a-15],c=dL[a-2],d=da(b,7)^da(b,18)^b>>>3,e=da(c,17)^da(c,19)^c>>>10;dL[a]=e+dL[a-7]+d+dL[a-16]|0}let{A:c,B:d,C:e,D:f,E:g,F:h,G:i,H:j}=this;for(let a=0;a<64;a++){var k,l,m,o;let b=j+(da(g,6)^da(g,11)^da(g,25))+((k=g)&h^~k&i)+dK[a]+dL[a]|0,p=(da(c,2)^da(c,13)^da(c,22))+((l=c)&(m=d)^l&(o=e)^m&o)|0;j=i,i=h,h=g,g=f+b|0,f=e,e=d,d=c,c=b+p|0}c=c+this.A|0,d=d+this.B|0,e=e+this.C|0,f=f+this.D|0,g=g+this.E|0,h=h+this.F|0,i=i+this.G|0,j=j+this.H|0,this.set(c,d,e,f,g,h,i,j)}roundClean(){c8(dL)}destroy(){this.set(0,0,0,0,0,0,0,0),c8(this.buffer)}}let dN=cO(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),dO=dN[0],dP=dN[1],dQ=new Uint32Array(80),dR=new Uint32Array(80);class dS extends dG{constructor(a=64){super(128,a,16,!1),this.Ah=0|dJ[0],this.Al=0|dJ[1],this.Bh=0|dJ[2],this.Bl=0|dJ[3],this.Ch=0|dJ[4],this.Cl=0|dJ[5],this.Dh=0|dJ[6],this.Dl=0|dJ[7],this.Eh=0|dJ[8],this.El=0|dJ[9],this.Fh=0|dJ[10],this.Fl=0|dJ[11],this.Gh=0|dJ[12],this.Gl=0|dJ[13],this.Hh=0|dJ[14],this.Hl=0|dJ[15]}get(){let{Ah:a,Al:b,Bh:c,Bl:d,Ch:e,Cl:f,Dh:g,Dl:h,Eh:i,El:j,Fh:k,Fl:l,Gh:m,Gl:o,Hh:p,Hl:q}=this;return[a,b,c,d,e,f,g,h,i,j,k,l,m,o,p,q]}set(a,b,c,d,e,f,g,h,i,j,k,l,m,o,p,q){this.Ah=0|a,this.Al=0|b,this.Bh=0|c,this.Bl=0|d,this.Ch=0|e,this.Cl=0|f,this.Dh=0|g,this.Dl=0|h,this.Eh=0|i,this.El=0|j,this.Fh=0|k,this.Fl=0|l,this.Gh=0|m,this.Gl=0|o,this.Hh=0|p,this.Hl=0|q}process(a,b){for(let c=0;c<16;c++,b+=4)dQ[c]=a.getUint32(b),dR[c]=a.getUint32(b+=4);for(let a=16;a<80;a++){let b=0|dQ[a-15],c=0|dR[a-15],d=cR(b,c,1)^cR(b,c,8)^cP(b,c,7),e=cS(b,c,1)^cS(b,c,8)^cQ(b,c,7),f=0|dQ[a-2],g=0|dR[a-2],h=cR(f,g,19)^cT(f,g,61)^cP(f,g,6),i=cY(e,cS(f,g,19)^cU(f,g,61)^cQ(f,g,6),dR[a-7],dR[a-16]),j=cZ(i,d,h,dQ[a-7],dQ[a-16]);dQ[a]=0|j,dR[a]=0|i}let{Ah:c,Al:d,Bh:e,Bl:f,Ch:g,Cl:h,Dh:i,Dl:j,Eh:k,El:l,Fh:m,Fl:o,Gh:p,Gl:q,Hh:r,Hl:s}=this;for(let a=0;a<80;a++){let b=cR(k,l,14)^cR(k,l,18)^cT(k,l,41),t=cS(k,l,14)^cS(k,l,18)^cU(k,l,41),u=k&m^~k&p,v=c$(s,t,l&o^~l&q,dP[a],dR[a]),w=c_(v,r,b,u,dO[a],dQ[a]),x=0|v,y=cR(c,d,28)^cT(c,d,34)^cT(c,d,39),z=cS(c,d,28)^cU(c,d,34)^cU(c,d,39),A=c&e^c&g^e&g,B=d&f^d&h^f&h;r=0|p,s=0|q,p=0|m,q=0|o,m=0|k,o=0|l,({h:k,l:l}=cV(0|i,0|j,0|w,0|x)),i=0|g,j=0|h,g=0|e,h=0|f,e=0|c,f=0|d;let C=cW(x,z,B);c=cX(C,w,y,A),d=0|C}({h:c,l:d}=cV(0|this.Ah,0|this.Al,0|c,0|d)),({h:e,l:f}=cV(0|this.Bh,0|this.Bl,0|e,0|f)),({h:g,l:h}=cV(0|this.Ch,0|this.Cl,0|g,0|h)),({h:i,l:j}=cV(0|this.Dh,0|this.Dl,0|i,0|j)),({h:k,l:l}=cV(0|this.Eh,0|this.El,0|k,0|l)),({h:m,l:o}=cV(0|this.Fh,0|this.Fl,0|m,0|o)),({h:p,l:q}=cV(0|this.Gh,0|this.Gl,0|p,0|q)),({h:r,l:s}=cV(0|this.Hh,0|this.Hl,0|r,0|s)),this.set(c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s)}roundClean(){c8(dQ,dR)}destroy(){c8(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class dT extends dS{constructor(){super(48),this.Ah=0|dI[0],this.Al=0|dI[1],this.Bh=0|dI[2],this.Bl=0|dI[3],this.Ch=0|dI[4],this.Cl=0|dI[5],this.Dh=0|dI[6],this.Dl=0|dI[7],this.Eh=0|dI[8],this.El=0|dI[9],this.Fh=0|dI[10],this.Fl=0|dI[11],this.Gh=0|dI[12],this.Gl=0|dI[13],this.Hh=0|dI[14],this.Hl=0|dI[15]}}let dU=Uint32Array.from([0x22312194,0xfc2bf72c,0x9f555fa3,0xc84c64c2,0x2393b86b,0x6f53b151,0x96387719,0x5940eabd,0x96283ee2,0xa88effe3,0xbe5e1e25,0x53863992,0x2b0199fc,0x2c85b8aa,0xeb72ddc,0x81c52ca2]);class dV extends dS{constructor(){super(32),this.Ah=0|dU[0],this.Al=0|dU[1],this.Bh=0|dU[2],this.Bl=0|dU[3],this.Ch=0|dU[4],this.Cl=0|dU[5],this.Dh=0|dU[6],this.Dl=0|dU[7],this.Eh=0|dU[8],this.El=0|dU[9],this.Fh=0|dU[10],this.Fl=0|dU[11],this.Gh=0|dU[12],this.Gl=0|dU[13],this.Hh=0|dU[14],this.Hl=0|dU[15]}}let dW=dp(()=>new dM),dX=dp(()=>new dS),dY=dp(()=>new dT),dZ=(dp(()=>new dV),Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9])),d$=Uint32Array.from([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),d_=new Uint32Array(32);function d0(a,b,c,d,e,f){let g=e[f],h=e[f+1],i=d_[2*a],j=d_[2*a+1],k=d_[2*b],l=d_[2*b+1],m=d_[2*c],o=d_[2*c+1],p=d_[2*d],q=d_[2*d+1],r=cW(i,k,g);j=cX(r,j,l,h),i=0|r,({Dh:q,Dl:p}={Dh:q^j,Dl:p^i}),({Dh:q,Dl:p}={Dh:p,Dl:q}),({h:o,l:m}=cV(o,m,q,p)),({Bh:l,Bl:k}={Bh:l^o,Bl:k^m}),({Bh:l,Bl:k}={Bh:cR(l,k,24),Bl:cS(l,k,24)}),d_[2*a]=i,d_[2*a+1]=j,d_[2*b]=k,d_[2*b+1]=l,d_[2*c]=m,d_[2*c+1]=o,d_[2*d]=p,d_[2*d+1]=q}function d1(a,b,c,d,e,f){let g=e[f],h=e[f+1],i=d_[2*a],j=d_[2*a+1],k=d_[2*b],l=d_[2*b+1],m=d_[2*c],o=d_[2*c+1],p=d_[2*d],q=d_[2*d+1],r=cW(i,k,g);j=cX(r,j,l,h),i=0|r,({Dh:q,Dl:p}={Dh:q^j,Dl:p^i}),({Dh:q,Dl:p}={Dh:cR(q,p,16),Dl:cS(q,p,16)}),({h:o,l:m}=cV(o,m,q,p)),({Bh:l,Bl:k}={Bh:l^o,Bl:k^m}),({Bh:l,Bl:k}={Bh:cT(l,k,63),Bl:cU(l,k,63)}),d_[2*a]=i,d_[2*a+1]=j,d_[2*b]=k,d_[2*b+1]=l,d_[2*c]=m,d_[2*c+1]=o,d_[2*d]=p,d_[2*d+1]=q}class d2 extends dn{constructor(a,b){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,c2(a),c2(b),this.blockLen=a,this.outputLen=b,this.buffer=new Uint8Array(a),this.buffer32=c7(this.buffer)}update(a){c5(this),c3(a=dl(a));let{blockLen:b,buffer:c,buffer32:d}=this,e=a.length,f=a.byteOffset,g=a.buffer;for(let h=0;h<e;){this.pos===b&&(de(d),this.compress(d,0,!1),de(d),this.pos=0);let i=Math.min(b-this.pos,e-h),j=f+h;if(i===b&&!(j%4)&&h+i<e){let a=new Uint32Array(g,j,Math.floor((e-h)/4));de(a);for(let c=0;h+b<e;c+=d.length,h+=b)this.length+=b,this.compress(a,c,!1);de(a);continue}c.set(a.subarray(h,h+i),this.pos),this.pos+=i,this.length+=i,h+=i}return this}digestInto(a){c5(this),c6(a,this);let{pos:b,buffer32:c}=this;this.finished=!0,c8(this.buffer.subarray(b)),de(c),this.compress(c,0,!0),de(c);let d=c7(a);this.get().forEach((a,b)=>d[b]=dd(a))}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){let{buffer:b,length:c,finished:d,destroyed:e,outputLen:f,pos:g}=this;return a||(a=new this.constructor({dkLen:f})),a.set(...this.get()),a.buffer.set(b),a.destroyed=e,a.finished=d,a.length=c,a.pos=g,a.outputLen=f,a}clone(){return this._cloneInto()}}class d3 extends d2{constructor(a={}){const b=void 0===a.dkLen?64:a.dkLen;super(128,b),this.v0l=0|d$[0],this.v0h=0|d$[1],this.v1l=0|d$[2],this.v1h=0|d$[3],this.v2l=0|d$[4],this.v2h=0|d$[5],this.v3l=0|d$[6],this.v3h=0|d$[7],this.v4l=0|d$[8],this.v4h=0|d$[9],this.v5l=0|d$[10],this.v5h=0|d$[11],this.v6l=0|d$[12],this.v6h=0|d$[13],this.v7l=0|d$[14],this.v7h=0|d$[15],function(a,b={},c,d,e){if(c2(64),a<0||a>64)throw Error("outputLen bigger than keyLen");let{key:f,salt:g,personalization:h}=b;if(void 0!==f&&(f.length<1||f.length>64))throw Error("key length must be undefined or 1..64");if(void 0!==g&&16!==g.length)throw Error("salt must be undefined or 16");if(void 0!==h&&16!==h.length)throw Error("personalization must be undefined or 16")}(b,a,0,0,0);let{key:c,personalization:d,salt:e}=a,f=0;if(void 0!==c&&(f=(c=dl(c)).length),this.v0l^=this.outputLen|f<<8|0x1010000,void 0!==e){const a=c7(e=dl(e));this.v4l^=dd(a[0]),this.v4h^=dd(a[1]),this.v5l^=dd(a[2]),this.v5h^=dd(a[3])}if(void 0!==d){const a=c7(d=dl(d));this.v6l^=dd(a[0]),this.v6h^=dd(a[1]),this.v7l^=dd(a[2]),this.v7h^=dd(a[3])}if(void 0!==c){const a=new Uint8Array(this.blockLen);a.set(c),this.update(a)}}get(){let{v0l:a,v0h:b,v1l:c,v1h:d,v2l:e,v2h:f,v3l:g,v3h:h,v4l:i,v4h:j,v5l:k,v5h:l,v6l:m,v6h:o,v7l:p,v7h:q}=this;return[a,b,c,d,e,f,g,h,i,j,k,l,m,o,p,q]}set(a,b,c,d,e,f,g,h,i,j,k,l,m,o,p,q){this.v0l=0|a,this.v0h=0|b,this.v1l=0|c,this.v1h=0|d,this.v2l=0|e,this.v2h=0|f,this.v3l=0|g,this.v3h=0|h,this.v4l=0|i,this.v4h=0|j,this.v5l=0|k,this.v5h=0|l,this.v6l=0|m,this.v6h=0|o,this.v7l=0|p,this.v7h=0|q}compress(a,b,c){this.get().forEach((a,b)=>d_[b]=a),d_.set(d$,16);let{h:d,l:e}=cN(BigInt(this.length));d_[24]=d$[8]^e,d_[25]=d$[9]^d,c&&(d_[28]=~d_[28],d_[29]=~d_[29]);let f=0;for(let c=0;c<12;c++)d0(0,4,8,12,a,b+2*dZ[f++]),d1(0,4,8,12,a,b+2*dZ[f++]),d0(1,5,9,13,a,b+2*dZ[f++]),d1(1,5,9,13,a,b+2*dZ[f++]),d0(2,6,10,14,a,b+2*dZ[f++]),d1(2,6,10,14,a,b+2*dZ[f++]),d0(3,7,11,15,a,b+2*dZ[f++]),d1(3,7,11,15,a,b+2*dZ[f++]),d0(0,5,10,15,a,b+2*dZ[f++]),d1(0,5,10,15,a,b+2*dZ[f++]),d0(1,6,11,12,a,b+2*dZ[f++]),d1(1,6,11,12,a,b+2*dZ[f++]),d0(2,7,8,13,a,b+2*dZ[f++]),d1(2,7,8,13,a,b+2*dZ[f++]),d0(3,4,9,14,a,b+2*dZ[f++]),d1(3,4,9,14,a,b+2*dZ[f++]);this.v0l^=d_[0]^d_[16],this.v0h^=d_[1]^d_[17],this.v1l^=d_[2]^d_[18],this.v1h^=d_[3]^d_[19],this.v2l^=d_[4]^d_[20],this.v2h^=d_[5]^d_[21],this.v3l^=d_[6]^d_[22],this.v3h^=d_[7]^d_[23],this.v4l^=d_[8]^d_[24],this.v4h^=d_[9]^d_[25],this.v5l^=d_[10]^d_[26],this.v5h^=d_[11]^d_[27],this.v6l^=d_[12]^d_[28],this.v6h^=d_[13]^d_[29],this.v7l^=d_[14]^d_[30],this.v7h^=d_[15]^d_[31],c8(d_)}destroy(){this.destroyed=!0,c8(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}function d4(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function d5(a){if("boolean"!=typeof a)throw Error(`boolean expected, not ${a}`)}function d6(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function d7(a,...b){if(!d4(a))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error("Uint8Array expected of length "+b+", got length="+a.length)}function d8(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function d9(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function ea(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}m=a=>new d3(a),(d=(a,b)=>m(b).update(dl(a)).digest()).outputLen=(e=m({})).outputLen,d.blockLen=e.blockLen,d.create=a=>m(a),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let eb=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function ec(a){if("string"==typeof a)a=function(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}(a);else if(d4(a))a=ef(a);else throw Error("Uint8Array expected, got "+typeof a);return a}function ed(a,b,c=!0){if(void 0===b)return new Uint8Array(a);if(b.length!==a)throw Error("invalid output length, expected "+a+", got: "+b.length);if(c&&b.byteOffset%4!=0)throw Error("invalid output, must be aligned");return b}function ee(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)}function ef(a){return Uint8Array.from(a)}let eg=a=>Uint8Array.from(a.split("").map(a=>a.charCodeAt(0))),eh=eg("expand 16-byte k"),ei=eg("expand 32-byte k"),ej=d9(eh),ek=d9(ei);function el(a,b){return a<<b|a>>>32-b}function em(a){return a.byteOffset%4==0}let en=0x100000000-1,eo=new Uint32Array,ep=(a,b)=>255&a[b++]|(255&a[b++])<<8;class eq{constructor(a){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,d7(a=ec(a),32);const b=ep(a,0),c=ep(a,2),d=ep(a,4),e=ep(a,6),f=ep(a,8),g=ep(a,10),h=ep(a,12),i=ep(a,14);this.r[0]=8191&b,this.r[1]=(b>>>13|c<<3)&8191,this.r[2]=(c>>>10|d<<6)&7939,this.r[3]=(d>>>7|e<<9)&8191,this.r[4]=(e>>>4|f<<12)&255,this.r[5]=f>>>1&8190,this.r[6]=(f>>>14|g<<2)&8191,this.r[7]=(g>>>11|h<<5)&8065,this.r[8]=(h>>>8|i<<8)&8191,this.r[9]=i>>>5&127;for(let b=0;b<8;b++)this.pad[b]=ep(a,16+2*b)}process(a,b,c=!1){let{h:d,r:e}=this,f=e[0],g=e[1],h=e[2],i=e[3],j=e[4],k=e[5],l=e[6],m=e[7],o=e[8],p=e[9],q=ep(a,b+0),r=ep(a,b+2),s=ep(a,b+4),t=ep(a,b+6),u=ep(a,b+8),v=ep(a,b+10),w=ep(a,b+12),x=ep(a,b+14),y=d[0]+(8191&q),z=d[1]+((q>>>13|r<<3)&8191),A=d[2]+((r>>>10|s<<6)&8191),B=d[3]+((s>>>7|t<<9)&8191),C=d[4]+((t>>>4|u<<12)&8191),D=d[5]+(u>>>1&8191),E=d[6]+((u>>>14|v<<2)&8191),F=d[7]+((v>>>11|w<<5)&8191),G=d[8]+((w>>>8|x<<8)&8191),H=d[9]+(x>>>5|2048*!c),I=0,J=0+y*f+5*p*z+5*o*A+5*m*B+5*l*C;I=J>>>13,J&=8191,J+=5*k*D+5*j*E+5*i*F+5*h*G+5*g*H,I+=J>>>13,J&=8191;let K=I+y*g+z*f+5*p*A+5*o*B+5*m*C;I=K>>>13,K&=8191,K+=5*l*D+5*k*E+5*j*F+5*i*G+5*h*H,I+=K>>>13,K&=8191;let L=I+y*h+z*g+A*f+5*p*B+5*o*C;I=L>>>13,L&=8191,L+=5*m*D+5*l*E+5*k*F+5*j*G+5*i*H,I+=L>>>13,L&=8191;let M=I+y*i+z*h+A*g+B*f+5*p*C;I=M>>>13,M&=8191,M+=5*o*D+5*m*E+5*l*F+5*k*G+5*j*H,I+=M>>>13,M&=8191;let N=I+y*j+z*i+A*h+B*g+C*f;I=N>>>13,N&=8191,N+=5*p*D+5*o*E+5*m*F+5*l*G+5*k*H,I+=N>>>13,N&=8191;let O=I+y*k+z*j+A*i+B*h+C*g;I=O>>>13,O&=8191,O+=D*f+5*p*E+5*o*F+5*m*G+5*l*H,I+=O>>>13,O&=8191;let P=I+y*l+z*k+A*j+B*i+C*h;I=P>>>13,P&=8191,P+=D*g+E*f+5*p*F+5*o*G+5*m*H,I+=P>>>13,P&=8191;let Q=I+y*m+z*l+A*k+B*j+C*i;I=Q>>>13,Q&=8191,Q+=D*h+E*g+F*f+5*p*G+5*o*H,I+=Q>>>13,Q&=8191;let R=I+y*o+z*m+A*l+B*k+C*j;I=R>>>13,R&=8191,R+=D*i+E*h+F*g+G*f+5*p*H,I+=R>>>13,R&=8191;let S=I+y*p+z*o+A*m+B*l+C*k;I=S>>>13,S&=8191,S+=D*j+E*i+F*h+G*g+H*f,I+=S>>>13,S&=8191,J=8191&(I=(I=(I<<2)+I|0)+J|0),I>>>=13,K+=I,d[0]=J,d[1]=K,d[2]=L,d[3]=M,d[4]=N,d[5]=O,d[6]=P,d[7]=Q,d[8]=R,d[9]=S}finalize(){let{h:a,pad:b}=this,c=new Uint16Array(10),d=a[1]>>>13;a[1]&=8191;for(let b=2;b<10;b++)a[b]+=d,d=a[b]>>>13,a[b]&=8191;a[0]+=5*d,d=a[0]>>>13,a[0]&=8191,a[1]+=d,d=a[1]>>>13,a[1]&=8191,a[2]+=d,c[0]=a[0]+5,d=c[0]>>>13,c[0]&=8191;for(let b=1;b<10;b++)c[b]=a[b]+d,d=c[b]>>>13,c[b]&=8191;c[9]-=8192;let e=(1^d)-1;for(let a=0;a<10;a++)c[a]&=e;e=~e;for(let b=0;b<10;b++)a[b]=a[b]&e|c[b];a[0]=(a[0]|a[1]<<13)&65535,a[1]=(a[1]>>>3|a[2]<<10)&65535,a[2]=(a[2]>>>6|a[3]<<7)&65535,a[3]=(a[3]>>>9|a[4]<<4)&65535,a[4]=(a[4]>>>12|a[5]<<1|a[6]<<14)&65535,a[5]=(a[6]>>>2|a[7]<<11)&65535,a[6]=(a[7]>>>5|a[8]<<8)&65535,a[7]=(a[8]>>>8|a[9]<<5)&65535;let f=a[0]+b[0];a[0]=65535&f;for(let c=1;c<8;c++)f=(a[c]+b[c]|0)+(f>>>16)|0,a[c]=65535&f;ea(c)}update(a){d8(this),d7(a=ec(a));let{buffer:b,blockLen:c}=this,d=a.length;for(let e=0;e<d;){let f=Math.min(c-this.pos,d-e);if(f===c){for(;c<=d-e;e+=c)this.process(a,e);continue}b.set(a.subarray(e,e+f),this.pos),this.pos+=f,e+=f,this.pos===c&&(this.process(b,0,!1),this.pos=0)}return this}destroy(){ea(this.h,this.r,this.buffer,this.pad)}digestInto(a){d8(this),function(a,b){d7(a);let c=b.outputLen;if(a.length<c)throw Error("digestInto() expects output buffer of length at least "+c)}(a,this),this.finished=!0;let{buffer:b,h:c}=this,{pos:d}=this;if(d){for(b[d++]=1;d<16;d++)b[d]=0;this.process(b,0,!0)}this.finalize();let e=0;for(let b=0;b<8;b++)a[e++]=c[b]>>>0,a[e++]=c[b]>>>8;return a}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}}let er=(o=a=>new eq(a),(f=(a,b)=>o(b).update(ec(a)).digest()).outputLen=(g=o(new Uint8Array(32))).outputLen,f.blockLen=g.blockLen,f.create=a=>o(a),f),es=function(a,b){let{allowShortKeys:c,extendNonceFn:d,counterLength:e,counterRight:f,rounds:g}=function(a,b){if(null==b||"object"!=typeof b)throw Error("options must be defined");return Object.assign(a,b)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},b);if("function"!=typeof a)throw Error("core must be a function");return d6(e),d6(g),d5(f),d5(c),(b,h,i,j,k=0)=>{d7(b),d7(h),d7(i);let l=i.length;if(void 0===j&&(j=new Uint8Array(l)),d7(j),d6(k),k<0||k>=en)throw Error("arx: counter overflow");if(j.length<l)throw Error(`arx: output (${j.length}) is shorter than data (${l})`);let m=[],o=b.length,p,q;if(32===o)m.push(p=ef(b)),q=ek;else if(16===o&&c)(p=new Uint8Array(32)).set(b),p.set(b,16),q=ej,m.push(p);else throw Error(`arx: invalid 32-byte key, got length=${o}`);em(h)||m.push(h=ef(h));let r=d9(p);if(d){if(24!==h.length)throw Error("arx: extended nonce must be 24 bytes");d(q,r,d9(h.subarray(0,16)),r),h=h.subarray(16)}let s=16-e;if(s!==h.length)throw Error(`arx: nonce must be ${s} or 16 bytes`);if(12!==s){let a=new Uint8Array(12);a.set(h,f?0:12-h.length),h=a,m.push(h)}return function(a,b,c,d,e,f,g,h){let i=e.length,j=new Uint8Array(64),k=d9(j),l=em(e)&&em(f),m=l?d9(e):eo,o=l?d9(f):eo;for(let p=0;p<i;g++){if(a(b,c,d,k,g,h),g>=en)throw Error("arx: counter overflow");let q=Math.min(64,i-p);if(l&&64===q){let a=p/4;if(p%4!=0)throw Error("arx: invalid block position");for(let b=0,c;b<16;b++)o[c=a+b]=m[c]^k[b];p+=64;continue}for(let a=0,b;a<q;a++)f[b=p+a]=e[b]^j[a];p+=q}}(a,q,r,d9(h),i,j,k,g),ea(...m),j}}(function(a,b,c,d,e,f=20){let g=a[0],h=a[1],i=a[2],j=a[3],k=b[0],l=b[1],m=b[2],o=b[3],p=b[4],q=b[5],r=b[6],s=b[7],t=c[0],u=c[1],v=c[2],w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=o,E=p,F=q,G=r,H=s,I=e,J=t,K=u,L=v;for(let a=0;a<f;a+=2)E=E+(I=el(I^(w=w+A|0),16))|0,w=w+(A=el(A^E,12))|0,E=E+(I=el(I^w,8))|0,A=el(A^E,7),F=F+(J=el(J^(x=x+B|0),16))|0,x=x+(B=el(B^F,12))|0,F=F+(J=el(J^x,8))|0,B=el(B^F,7),G=G+(K=el(K^(y=y+C|0),16))|0,y=y+(C=el(C^G,12))|0,G=G+(K=el(K^y,8))|0,C=el(C^G,7),H=H+(L=el(L^(z=z+D|0),16))|0,z=z+(D=el(D^H,12))|0,H=H+(L=el(L^z,8))|0,D=el(D^H,7),G=G+(L=el(L^(w=w+B|0),16))|0,w=w+(B=el(B^G,12))|0,G=G+(L=el(L^w,8))|0,B=el(B^G,7),H=H+(I=el(I^(x=x+C|0),16))|0,x=x+(C=el(C^H,12))|0,H=H+(I=el(I^x,8))|0,C=el(C^H,7),E=E+(J=el(J^(y=y+D|0),16))|0,y=y+(D=el(D^E,12))|0,E=E+(J=el(J^y,8))|0,D=el(D^E,7),F=F+(K=el(K^(z=z+A|0),16))|0,z=z+(A=el(A^F,12))|0,F=F+(K=el(K^z,8))|0,A=el(A^F,7);let M=0;d[M++]=g+w|0,d[M++]=h+x|0,d[M++]=i+y|0,d[M++]=j+z|0,d[M++]=k+A|0,d[M++]=l+B|0,d[M++]=m+C|0,d[M++]=o+D|0,d[M++]=p+E|0,d[M++]=q+F|0,d[M++]=r+G|0,d[M++]=s+H|0,d[M++]=e+I|0,d[M++]=t+J|0,d[M++]=u+K|0,d[M++]=v+L|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),et=new Uint8Array(16),eu=(a,b)=>{a.update(b);let c=b.length%16;c&&a.update(et.subarray(c))},ev=new Uint8Array(32);function ew(a,b,c,d,e){var f,g;let h,i,j=a(b,c,ev),k=er.create(j);e&&eu(k,e),eu(k,d);let l=(f=d.length,g=e?e.length:0,d5(!0),ee(i=new DataView((h=new Uint8Array(16)).buffer,h.byteOffset,h.byteLength),0,BigInt(g),!0),ee(i,8,BigInt(f),!0),h);k.update(l);let m=k.digest();return ea(j,l),m}i={blockSize:64,nonceLength:12,tagLength:16},j=(a,b,c)=>({encrypt(d,e){let f=d.length;(e=ed(f+16,e,!1)).set(d);let g=e.subarray(0,-16);es(a,b,g,g,1);let h=ew(es,a,b,g,c);return e.set(h,f),ea(h),e},decrypt(d,e){e=ed(d.length-16,e,!1);let f=d.subarray(0,-16),g=d.subarray(-16),h=ew(es,a,b,f,c);if(!function(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c}(g,h))throw Error("invalid tag");return e.set(d.subarray(0,-16)),es(a,b,e,e,1),ea(h),e}}),Object.assign(function(a,...b){if(d7(a),!eb)throw Error("Non little-endian hardware is not yet supported");if(void 0!==i.nonceLength){let a=b[0];if(!a)throw Error("nonce / iv required");i.varSizeNonce?d7(a):d7(a,i.nonceLength)}let c=i.tagLength;c&&void 0!==b[1]&&d7(b[1]);let d=j(a,...b),e=(a,b)=>{if(void 0!==b){if(2!==a)throw Error("cipher output not supported");d7(b)}},f=!1;return{encrypt(a,b){if(f)throw Error("cannot encrypt() twice with same key + nonce");return f=!0,d7(a),e(d.encrypt.length,b),d.encrypt(a,b)},decrypt(a,b){if(d7(a),c&&a.length<c)throw Error("invalid ciphertext length: smaller than tagLength="+c);return e(d.decrypt.length,b),d.decrypt(a,b)}}},i);class ex extends dn{constructor(a,b){super(),this.finished=!1,this.destroyed=!1,c4(a);const c=dl(b);if(this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,e=new Uint8Array(d);e.set(c.length>d?a.create().update(c).digest():c);for(let a=0;a<e.length;a++)e[a]^=54;this.iHash.update(e),this.oHash=a.create();for(let a=0;a<e.length;a++)e[a]^=106;this.oHash.update(e),c8(e)}update(a){return c5(this),this.iHash.update(a),this}digestInto(a){c5(this),c3(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ey=(a,b,c)=>new ex(a,b).update(c).digest();ey.create=(a,b)=>new ex(a,b),Uint8Array.from([0]),Uint8Array.of();let ez=BigInt(0),eA=BigInt(1);function eB(a,b=""){if("boolean"!=typeof a)throw Error((b&&`"${b}"`)+"expected boolean, got type="+typeof a);return a}function eC(a,b,c=""){let d=c1(a),e=a?.length,f=void 0!==b;if(!d||f&&e!==b)throw Error((c&&`"${c}" `)+"expected Uint8Array"+(f?` of length ${b}`:"")+", got "+(d?`length=${e}`:`type=${typeof a}`));return a}function eD(a){let b=a.toString(16);return 1&b.length?"0"+b:b}function eE(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return""===a?ez:BigInt("0x"+a)}function eF(a){return c3(a),eE(dh(Uint8Array.from(a).reverse()))}function eG(a,b){return dj(a.toString(16).padStart(2*b,"0"))}function eH(a,b){return eG(a,b).reverse()}function eI(a,b,c){let d;if("string"==typeof b)try{d=dj(b)}catch(b){throw Error(a+" must be hex string or Uint8Array, cause: "+b)}else if(c1(b))d=Uint8Array.from(b);else throw Error(a+" must be hex string or Uint8Array");let e=d.length;if("number"==typeof c&&e!==c)throw Error(a+" of length "+c+" expected, got "+e);return d}let eJ=a=>"bigint"==typeof a&&ez<=a;function eK(a,b,c,d){if(!(eJ(b)&&eJ(c)&&eJ(d))||!(c<=b)||!(b<d))throw Error("expected valid "+a+": "+c+" <= n < "+d+", got "+b)}function eL(a){let b;for(b=0;a>ez;a>>=eA,b+=1);return b}let eM=a=>(eA<<BigInt(a))-eA;function eN(a,b,c={}){if(!a||"object"!=typeof a)throw Error("expected valid options object");function d(b,c,d){let e=a[b];if(d&&void 0===e)return;let f=typeof e;if(f!==c||null===e)throw Error(`param "${b}" is invalid: expected ${c}, got ${f}`)}Object.entries(b).forEach(([a,b])=>d(a,b,!1)),Object.entries(c).forEach(([a,b])=>d(a,b,!0))}function eO(a){let b=new WeakMap;return(c,...d)=>{let e=b.get(c);if(void 0!==e)return e;let f=a(c,...d);return b.set(c,f),f}}let eP=BigInt(0),eQ=BigInt(1),eR=BigInt(2),eS=BigInt(3),eT=BigInt(4),eU=BigInt(5),eV=BigInt(7),eW=BigInt(8),eX=BigInt(9),eY=BigInt(16);function eZ(a,b){let c=a%b;return c>=eP?c:b+c}function e$(a,b,c){let d=a;for(;b-- >eP;)d*=d,d%=c;return d}function e_(a,b){if(a===eP)throw Error("invert: expected non-zero number");if(b<=eP)throw Error("invert: expected positive modulus, got "+b);let c=eZ(a,b),d=b,e=eP,f=eQ;for(;c!==eP;){let a=d/c,b=d%c,g=e-f*a;d=c,c=b,e=f,f=g}if(d!==eQ)throw Error("invert: does not exist");return eZ(e,b)}function e0(a,b,c){if(!a.eql(a.sqr(b),c))throw Error("Cannot find square root")}function e1(a,b){let c=(a.ORDER+eQ)/eT,d=a.pow(b,c);return e0(a,d,b),d}function e2(a,b){let c=(a.ORDER-eU)/eW,d=a.mul(b,eR),e=a.pow(d,c),f=a.mul(b,e),g=a.mul(a.mul(f,eR),e),h=a.mul(f,a.sub(g,a.ONE));return e0(a,h,b),h}function e3(a){if(a<eS)throw Error("sqrt is not defined for small field");let b=a-eQ,c=0;for(;b%eR===eP;)b/=eR,c++;let d=eR,e=e8(a);for(;1===e6(e,d);)if(d++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===c)return e1;let f=e.pow(d,b),g=(b+eQ)/eR;return function(a,d){if(a.is0(d))return d;if(1!==e6(a,d))throw Error("Cannot find square root");let e=c,h=a.mul(a.ONE,f),i=a.pow(d,b),j=a.pow(d,g);for(;!a.eql(i,a.ONE);){if(a.is0(i))return a.ZERO;let b=1,c=a.sqr(i);for(;!a.eql(c,a.ONE);)if(b++,c=a.sqr(c),b===e)throw Error("Cannot find square root");let d=eQ<<BigInt(e-b-1),f=a.pow(h,d);e=b,h=a.sqr(f),i=a.mul(i,h),j=a.mul(j,f)}return j}}let e4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e5(a,b,c=!1){let d=Array(b.length).fill(c?a.ZERO:void 0),e=b.reduce((b,c,e)=>a.is0(c)?b:(d[e]=b,a.mul(b,c)),a.ONE),f=a.inv(e);return b.reduceRight((b,c,e)=>a.is0(c)?b:(d[e]=a.mul(b,d[e]),a.mul(b,c)),f),d}function e6(a,b){let c=(a.ORDER-eQ)/eR,d=a.pow(b,c),e=a.eql(d,a.ONE),f=a.eql(d,a.ZERO),g=a.eql(d,a.neg(a.ONE));if(!e&&!f&&!g)throw Error("invalid Legendre symbol result");return e?1:f?0:-1}function e7(a,b){void 0!==b&&c2(b);let c=void 0!==b?b:a.toString(2).length,d=Math.ceil(c/8);return{nBitLength:c,nByteLength:d}}function e8(a,b,c=!1,d={}){let e;if(a<=eP)throw Error("invalid field: expected ORDER > 0, got "+a);let f,g,h=!1,i;if("object"==typeof b&&null!=b){if(d.sqrt||c)throw Error("cannot specify opts in two arguments");b.BITS&&(f=b.BITS),b.sqrt&&(g=b.sqrt),"boolean"==typeof b.isLE&&(c=b.isLE),"boolean"==typeof b.modFromBytes&&(h=b.modFromBytes),i=b.allowedLengths}else"number"==typeof b&&(f=b),d.sqrt&&(g=d.sqrt);let{nBitLength:j,nByteLength:k}=e7(a,f);if(k>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let l=Object.freeze({ORDER:a,isLE:c,BITS:j,BYTES:k,MASK:eM(j),ZERO:eP,ONE:eQ,allowedLengths:i,create:b=>eZ(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error("invalid field element: expected bigint, got "+typeof b);return eP<=b&&b<a},is0:a=>a===eP,isValidNot0:a=>!l.is0(a)&&l.isValid(a),isOdd:a=>(a&eQ)===eQ,neg:b=>eZ(-b,a),eql:(a,b)=>a===b,sqr:b=>eZ(b*b,a),add:(b,c)=>eZ(b+c,a),sub:(b,c)=>eZ(b-c,a),mul:(b,c)=>eZ(b*c,a),pow:(a,b)=>(function(a,b,c){if(c<eP)throw Error("invalid exponent, negatives unsupported");if(c===eP)return a.ONE;if(c===eQ)return b;let d=a.ONE,e=b;for(;c>eP;)c&eQ&&(d=a.mul(d,e)),e=a.sqr(e),c>>=eQ;return d})(l,a,b),div:(b,c)=>eZ(b*e_(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>e_(b,a),sqrt:g||(b=>{let c,d,f,g,h,i;return e||(e=a%eT===eS?e1:a%eW===eU?e2:a%eY===eX?(c=e8(a),f=(d=e3(a))(c,c.neg(c.ONE)),g=d(c,f),h=d(c,c.neg(f)),i=(a+eV)/eY,(a,b)=>{let c=a.pow(b,i),d=a.mul(c,f),e=a.mul(c,g),j=a.mul(c,h),k=a.eql(a.sqr(d),b),l=a.eql(a.sqr(e),b);c=a.cmov(c,d,k),d=a.cmov(j,e,l);let m=a.eql(a.sqr(d),b),o=a.cmov(c,d,m);return e0(a,o,b),o}):e3(a)),e(l,b)}),toBytes:a=>c?eH(a,k):eG(a,k),fromBytes:(b,d=!0)=>{if(i){if(!i.includes(b.length)||b.length>k)throw Error("Field.fromBytes: expected "+i+" bytes, got "+b.length);let a=new Uint8Array(k);a.set(b,c?0:a.length-b.length),b=a}if(b.length!==k)throw Error("Field.fromBytes: expected "+k+" bytes, got "+b.length);let e=c?eF(b):eE(dh(b));if(h&&(e=eZ(e,a)),!d&&!l.isValid(e))throw Error("invalid field element: outside of range 0..ORDER");return e},invertBatch:a=>e5(l,a),cmov:(a,b,c)=>c?b:a});return Object.freeze(l)}function e9(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function fa(a){let b=e9(a);return b+Math.ceil(b/2)}let fb=BigInt(0),fc=BigInt(1);function fd(a,b){let c=b.negate();return a?c:b}function fe(a,b){let c=e5(a.Fp,b.map(a=>a.Z));return b.map((b,d)=>a.fromAffine(b.toAffine(c[d])))}function ff(a,b){if(!Number.isSafeInteger(a)||a<=0||a>b)throw Error("invalid window size, expected [1.."+b+"], got W="+a)}function fg(a,b){ff(a,b);let c=Math.ceil(b/a)+1,d=2**(a-1),e=2**a;return{windows:c,windowSize:d,mask:eM(a),maxNumber:e,shiftBy:BigInt(a)}}function fh(a,b,c){let{windowSize:d,mask:e,maxNumber:f,shiftBy:g}=c,h=Number(a&e),i=a>>g;h>d&&(h-=f,i+=fc);let j=b*d;return{nextN:i,offset:j+Math.abs(h)-1,isZero:0===h,isNeg:h<0,isNegF:b%2!=0,offsetF:j}}let fi=new WeakMap,fj=new WeakMap;function fk(a){return fj.get(a)||1}function fl(a){if(a!==fb)throw Error("invalid wNAF")}class fm{constructor(a,b){this.BASE=a.BASE,this.ZERO=a.ZERO,this.Fn=a.Fn,this.bits=b}_unsafeLadder(a,b,c=this.ZERO){let d=a;for(;b>fb;)b&fc&&(c=c.add(d)),d=d.double(),b>>=fc;return c}precomputeWindow(a,b){let{windows:c,windowSize:d}=fg(b,this.bits),e=[],f=a,g=f;for(let a=0;a<c;a++){g=f,e.push(g);for(let a=1;a<d;a++)g=g.add(f),e.push(g);f=g.double()}return e}wNAF(a,b,c){if(!this.Fn.isValid(c))throw Error("invalid scalar");let d=this.ZERO,e=this.BASE,f=fg(a,this.bits);for(let a=0;a<f.windows;a++){let{nextN:g,offset:h,isZero:i,isNeg:j,isNegF:k,offsetF:l}=fh(c,a,f);c=g,i?e=e.add(fd(k,b[l])):d=d.add(fd(j,b[h]))}return fl(c),{p:d,f:e}}wNAFUnsafe(a,b,c,d=this.ZERO){let e=fg(a,this.bits);for(let a=0;a<e.windows&&c!==fb;a++){let{nextN:f,offset:g,isZero:h,isNeg:i}=fh(c,a,e);if(c=f,!h){let a=b[g];d=d.add(i?a.negate():a)}}return fl(c),d}getPrecomputes(a,b,c){let d=fi.get(b);return d||(d=this.precomputeWindow(b,a),1!==a&&("function"==typeof c&&(d=c(d)),fi.set(b,d))),d}cached(a,b,c){let d=fk(a);return this.wNAF(d,this.getPrecomputes(d,a,c),b)}unsafe(a,b,c,d){let e=fk(a);return 1===e?this._unsafeLadder(a,b,d):this.wNAFUnsafe(e,this.getPrecomputes(e,a,c),b,d)}createCache(a,b){ff(b,this.bits),fj.set(a,b),fi.delete(a)}hasCache(a){return 1!==fk(a)}}function fn(a,b,c){if(!b)return e8(a,{isLE:c});if(b.ORDER!==a)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return eN(b,e4.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),b}BigInt(0),BigInt(1),BigInt(2),BigInt(8),dk("HashToScalar-");let fo=BigInt(0),fp=BigInt(1),fq=BigInt(2),fr=BigInt(1),fs=BigInt(2),ft=BigInt(3),fu=BigInt(5),fv=BigInt(8),fw=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),fx={p:fw,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:fv,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},fy=(function(a){let{P:b,type:c,adjustScalarBytes:d,powPminus2:e,randomBytes:f}=(eN(a,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...a})),g="x25519"===c;if(!g&&"x448"!==c)throw Error("invalid type");let h=g?32:56,i=BigInt(g?9:5),j=BigInt(g?121665:39081),k=g?fq**BigInt(254):fq**BigInt(447),l=k+(g?BigInt(8)*fq**BigInt(251)-fp:BigInt(4)*fq**BigInt(445)-fp)+fp,m=a=>eZ(a,b),o=eH(m(i),h);o.slice()}({P:h=e8(fx.p,{isLE:!0}).ORDER,type:"x25519",powPminus2:a=>{let b,c,d,e,f,g,i,j,k,l,m,o,p,q,{pow_p_5_8:r,b2:s}=(b=BigInt(10),c=BigInt(20),d=BigInt(40),e=BigInt(80),g=e$(f=a*a%fw*a%fw,fs,fw)*f%fw,i=e$(g,fr,fw)*a%fw,j=e$(i,fu,fw)*i%fw,k=e$(j,b,fw)*j%fw,l=e$(k,c,fw)*k%fw,m=e$(l,d,fw)*l%fw,o=e$(m,e,fw)*m%fw,p=e$(o,e,fw)*m%fw,q=e$(p,b,fw)*j%fw,{pow_p_5_8:e$(q,fs,fw)*a%fw,b2:f});return eZ(e$(r,ft,h)*s,h)},adjustScalarBytes:function(a){return a[0]&=248,a[31]&=127,a[31]|=64,a}}),(a,b)=>(a+(a>=0?b:-b)/fE)/b);function fz(a){if(!["compact","recovered","der"].includes(a))throw Error('Signature format must be "compact", "recovered", or "der"');return a}function fA(a,b){let c={};for(let d of Object.keys(b))c[d]=void 0===a[d]?b[d]:a[d];return eB(c.lowS,"lowS"),eB(c.prehash,"prehash"),void 0!==c.format&&fz(c.format),c}let fB={Err:class extends Error{constructor(a=""){super(a)}},_tlv:{encode:(a,b)=>{let{Err:c}=fB;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(1&b.length)throw new c("tlv.encode: unpadded data");let d=b.length/2,e=eD(d);if(e.length/2&128)throw new c("tlv.encode: long form length too big");let f=d>127?eD(e.length/2|128):"";return eD(a)+f+e+b},decode(a,b){let{Err:c}=fB,d=0;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(b.length<2||b[d++]!==a)throw new c("tlv.decode: wrong tlv");let e=b[d++],f=0;if(128&e){let a=127&e;if(!a)throw new c("tlv.decode(long): indefinite length not supported");if(a>4)throw new c("tlv.decode(long): byte length is too big");let g=b.subarray(d,d+a);if(g.length!==a)throw new c("tlv.decode: length bytes not complete");if(0===g[0])throw new c("tlv.decode(long): zero leftmost byte");for(let a of g)f=f<<8|a;if(d+=a,f<128)throw new c("tlv.decode(long): not minimal encoding")}else f=e;let g=b.subarray(d,d+f);if(g.length!==f)throw new c("tlv.decode: wrong value length");return{v:g,l:b.subarray(d+f)}}},_int:{encode(a){let{Err:b}=fB;if(a<fC)throw new b("integer: negative integers are not allowed");let c=eD(a);if(8&Number.parseInt(c[0],16)&&(c="00"+c),1&c.length)throw new b("unexpected DER parsing assertion: unpadded hex");return c},decode(a){let{Err:b}=fB;if(128&a[0])throw new b("invalid signature integer: negative");if(0===a[0]&&!(128&a[1]))throw new b("invalid signature integer: unnecessary leading zero");return eE(dh(a))}},toSig(a){let{Err:b,_int:c,_tlv:d}=fB,e=eI("signature",a),{v:f,l:g}=d.decode(48,e);if(g.length)throw new b("invalid signature: left bytes after parsing");let{v:h,l:i}=d.decode(2,f),{v:j,l:k}=d.decode(2,i);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:c.decode(h),s:c.decode(j)}},hexFromSig(a){let{_tlv:b,_int:c}=fB,d=b.encode(2,c.encode(a.r)),e=b.encode(2,c.encode(a.s));return b.encode(48,d+e)}},fC=BigInt(0),fD=BigInt(1),fE=BigInt(2),fF=BigInt(3),fG=BigInt(4);function fH(a,b){let c,{BYTES:d}=a;if("bigint"==typeof b)c=b;else{let e=eI("private key",b);try{c=a.fromBytes(e)}catch{throw Error(`invalid private key: expected ui8a of size ${d}, got ${typeof b}`)}}if(!a.isValidNot0(c))throw Error("invalid private key: out of range [1..N-1]");return c}function fI(a){return Uint8Array.of(a?2:3)}function fJ(a,b){return{secretKey:b.BYTES,publicKey:1+a.BYTES,publicKeyUncompressed:1+2*a.BYTES,publicKeyHasPrefix:!0,signature:2*b.BYTES}}function fK(a,b){let c=b=>(function(a){let b,{CURVE:c,curveOpts:d,hash:e,ecdsaOpts:f}=function(a){let b,c,d,e,{CURVE:f,curveOpts:g}=(b={a:a.a,b:a.b,p:a.Fp.ORDER,n:a.n,h:a.h,Gx:a.Gx,Gy:a.Gy},c=a.Fp,d=a.allowedPrivateKeyLengths?Array.from(new Set(a.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0,e={Fp:c,Fn:e8(b.n,{BITS:a.nBitLength,allowedLengths:d,modFromBytes:a.wrapPrivateKey}),allowInfinityPoint:a.allowInfinityPoint,endo:a.endo,isTorsionFree:a.isTorsionFree,clearCofactor:a.clearCofactor,fromBytes:a.fromBytes,toBytes:a.toBytes},{CURVE:b,curveOpts:e}),h={hmac:a.hmac,randomBytes:a.randomBytes,lowS:a.lowS,bits2int:a.bits2int,bits2int_modN:a.bits2int_modN};return{CURVE:f,curveOpts:g,hash:a.hash,ecdsaOpts:h}}(a),g=function(a,b,c={}){c4(b),eN(c,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let d=c.randomBytes||dq,e=c.hmac||((a,...c)=>ey(b,a,dm(...c))),{Fp:f,Fn:g}=a,{ORDER:h,BITS:i}=g,{keygen:j,getPublicKey:k,getSharedSecret:l,utils:m,lengths:o}=function(a,b={}){let{Fn:c}=a,d=b.randomBytes||dq,e=Object.assign(fJ(a.Fp,c),{seed:fa(c.ORDER)});function f(a){try{return!!fH(c,a)}catch{return!1}}function g(a=d(e.seed)){return function(a,b,c=!1){let d=a.length,e=e9(b),f=fa(b);if(d<16||d<f||d>1024)throw Error("expected "+f+"-1024 bytes of input, got "+d);let g=eZ(c?eF(a):eE(dh(a)),b-eQ)+eQ;return c?eH(g,e):eG(g,e)}(eC(a,e.seed,"seed"),c.ORDER)}function h(b,d=!0){return a.BASE.multiply(fH(c,b)).toBytes(d)}function i(b){if("bigint"==typeof b)return!1;if(b instanceof a)return!0;let{secretKey:d,publicKey:f,publicKeyUncompressed:g}=e;if(c.allowedLengths||d===f)return;let h=eI("key",b).length;return h===f||h===g}return Object.freeze({getPublicKey:h,getSharedSecret:function(b,d,e=!0){if(!0===i(b))throw Error("first arg must be private key");if(!1===i(d))throw Error("second arg must be public key");let f=fH(c,b);return a.fromHex(d).multiply(f).toBytes(e)},keygen:function(a){let b=g(a);return{secretKey:b,publicKey:h(b)}},Point:a,utils:{isValidSecretKey:f,isValidPublicKey:function(b,c){let{publicKey:d,publicKeyUncompressed:f}=e;try{let e=b.length;return(!0!==c||e===d)&&(!1!==c||e===f)&&!!a.fromBytes(b)}catch{return!1}},randomSecretKey:g,isValidPrivateKey:f,randomPrivateKey:g,normPrivateKeyToScalar:a=>fH(c,a),precompute:(b=8,c=a.BASE)=>c.precompute(b,!1)},lengths:e})}(a,c),p={prehash:!1,lowS:"boolean"==typeof c.lowS&&c.lowS,format:void 0,extraEntropy:!1},q="compact";function r(a,b){if(!g.isValidNot0(b))throw Error(`invalid signature ${a}: out of range 1..Point.Fn.ORDER`);return b}class s{constructor(a,b,c){this.r=r("r",a),this.s=r("s",b),null!=c&&(this.recovery=c),Object.freeze(this)}static fromBytes(a,b=q){var c,d;let e,f;if(c=a,fz(d=b),f=o.signature,eC(c,"compact"===d?f:"recovered"===d?f+1:void 0,`${d} signature`),"der"===b){let{r:b,s:c}=fB.toSig(eC(a));return new s(b,c)}"recovered"===b&&(e=a[0],b="compact",a=a.subarray(1));let h=g.BYTES,i=a.subarray(0,h),j=a.subarray(h,2*h);return new s(g.fromBytes(i),g.fromBytes(j),e)}static fromHex(a,b){return this.fromBytes(dj(a),b)}addRecoveryBit(a){return new s(this.r,this.s,a)}recoverPublicKey(b){let c=f.ORDER,{r:d,s:e,recovery:i}=this;if(null==i||![0,1,2,3].includes(i))throw Error("recovery id invalid");if(h*fE<c&&i>1)throw Error("recovery id is ambiguous for h>1 curve");let j=2===i||3===i?d+h:d;if(!f.isValid(j))throw Error("recovery id 2 or 3 invalid");let k=f.toBytes(j),l=a.fromBytes(dm(fI((1&i)==0),k)),m=g.inv(j),o=u(eI("msgHash",b)),p=g.create(-o*m),q=g.create(e*m),r=a.BASE.multiplyUnsafe(p).add(l.multiplyUnsafe(q));if(r.is0())throw Error("point at infinify");return r.assertValidity(),r}hasHighS(){return this.s>h>>fD}toBytes(a=q){if(fz(a),"der"===a)return dj(fB.hexFromSig(this));let b=g.toBytes(this.r),c=g.toBytes(this.s);if("recovered"===a){if(null==this.recovery)throw Error("recovery bit must be present");return dm(Uint8Array.of(this.recovery),b,c)}return dm(b,c)}toHex(a){return dh(this.toBytes(a))}assertValidity(){}static fromCompact(a){return s.fromBytes(eI("sig",a),"compact")}static fromDER(a){return s.fromBytes(eI("sig",a),"der")}normalizeS(){return this.hasHighS()?new s(this.r,g.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return dh(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return dh(this.toBytes("compact"))}}let t=c.bits2int||function(a){if(a.length>8192)throw Error("input is too large");let b=eE(dh(a)),c=8*a.length-i;return c>0?b>>BigInt(c):b},u=c.bits2int_modN||function(a){return g.create(t(a))},v=eM(i);function w(a){return eK("num < 2^"+i,a,fC,v),g.toBytes(a)}function x(a,c){return eC(a,void 0,"message"),c?eC(b(a),void 0,"prehashed message"):a}return Object.freeze({keygen:j,getPublicKey:k,getSharedSecret:l,utils:m,lengths:o,Point:a,sign:function(c,f,i={}){let{seed:j,k2sig:k}=function(b,c,e){if(["recovered","canonical"].some(a=>a in e))throw Error("sign() legacy options not supported");let{lowS:f,prehash:i,extraEntropy:j}=fA(e,p),k=u(b=x(b,i)),l=fH(g,c),m=[w(l),w(k)];if(null!=j&&!1!==j){let a=!0===j?d(o.secretKey):j;m.push(eI("extraEntropy",a))}return{seed:dm(...m),k2sig:function(b){let c=t(b);if(!g.isValidNot0(c))return;let d=g.inv(c),e=a.BASE.multiply(c).toAffine(),i=g.create(e.x);if(i===fC)return;let j=g.create(d*g.create(k+i*l));if(j===fC)return;let m=2*(e.x!==i)|Number(e.y&fD),o=j;return f&&j>h>>fD&&(o=g.neg(j),m^=1),new s(i,o,m)}}}(c=eI("message",c),f,i);return(function(a,b,c){if("number"!=typeof a||a<2)throw Error("hashLen must be a number");if("number"!=typeof b||b<2)throw Error("qByteLen must be a number");if("function"!=typeof c)throw Error("hmacFn must be a function");let d=a=>new Uint8Array(a),e=d(a),f=d(a),g=0,h=()=>{e.fill(1),f.fill(0),g=0},i=(...a)=>c(f,e,...a),j=(a=d(0))=>{f=i(Uint8Array.of(0),a),e=i(),0!==a.length&&(f=i(Uint8Array.of(1),a),e=i())},k=()=>{if(g++>=1e3)throw Error("drbg: tried 1000 values");let a=0,c=[];for(;a<b;){let b=(e=i()).slice();c.push(b),a+=e.length}return dm(...c)};return(a,b)=>{let c;for(h(),j(a);!(c=b(k()));)j();return h(),c}})(b.outputLen,g.BYTES,e)(j,k)},verify:function(b,c,d,e={}){let{lowS:f,prehash:h,format:i}=fA(e,p);if(d=eI("publicKey",d),c=x(eI("message",c),h),"strict"in e)throw Error("options.strict was renamed to lowS");let j=void 0===i?function(a){let b,c="string"==typeof a||c1(a),d=!c&&null!==a&&"object"==typeof a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!c&&!d)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(d)b=new s(a.r,a.s);else if(c){try{b=s.fromBytes(eI("sig",a),"der")}catch(a){if(!(a instanceof fB.Err))throw a}if(!b)try{b=s.fromBytes(eI("sig",a),"compact")}catch{return!1}}return b||!1}(b):s.fromBytes(eI("sig",b),i);if(!1===j)return!1;try{let b=a.fromBytes(d);if(f&&j.hasHighS())return!1;let{r:e,s:h}=j,i=u(c),k=g.inv(h),l=g.create(i*k),m=g.create(e*k),o=a.BASE.multiplyUnsafe(l).add(b.multiplyUnsafe(m));return!o.is0()&&g.create(o.x)===e}catch{return!1}},recoverPublicKey:function(a,b,c={}){let{prehash:d}=fA(c,p);return b=x(b,d),s.fromBytes(a,"recovered").recoverPublicKey(b).toBytes()},Signature:s,hash:b})}(function(a,b={}){let c=function(a,b,c={},d){if(void 0===d&&(d="edwards"===a),!b||"object"!=typeof b)throw Error(`expected valid ${a} CURVE object`);for(let a of["p","n","h"]){let c=b[a];if(!("bigint"==typeof c&&c>fb))throw Error(`CURVE.${a} must be positive bigint`)}let e=fn(b.p,c.Fp,d),f=fn(b.n,c.Fn,d);for(let c of["Gx","Gy","a","weierstrass"===a?"b":"d"])if(!e.isValid(b[c]))throw Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return{CURVE:b=Object.freeze(Object.assign({},b)),Fp:e,Fn:f}}("weierstrass",a,b),{Fp:d,Fn:e}=c,f=c.CURVE,{h:g,n:h}=f;eN(b,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:i}=b;if(i&&(!d.is0(f.a)||"bigint"!=typeof i.beta||!Array.isArray(i.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let j=fJ(d,e);function k(){if(!d.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let l=b.toBytes||function(a,b,c){let{x:e,y:f}=b.toAffine(),g=d.toBytes(e);return(eB(c,"isCompressed"),c)?(k(),dm(fI(!d.isOdd(f)),g)):dm(Uint8Array.of(4),g,d.toBytes(f))},m=b.fromBytes||function(a){eC(a,void 0,"Point");let{publicKey:b,publicKeyUncompressed:c}=j,e=a.length,f=a[0],g=a.subarray(1);if(e===b&&(2===f||3===f)){let a,b=d.fromBytes(g);if(!d.isValid(b))throw Error("bad point: is not on curve, wrong x");let c=o(b);try{a=d.sqrt(c)}catch(a){throw Error("bad point: is not on curve, sqrt error"+(a instanceof Error?": "+a.message:""))}return k(),(1&f)==1!==d.isOdd(a)&&(a=d.neg(a)),{x:b,y:a}}if(e===c&&4===f){let a=d.BYTES,b=d.fromBytes(g.subarray(0,a)),c=d.fromBytes(g.subarray(a,2*a));if(!p(b,c))throw Error("bad point: is not on curve");return{x:b,y:c}}throw Error(`bad point: got length ${e}, expected compressed=${b} or uncompressed=${c}`)};function o(a){let b=d.sqr(a),c=d.mul(b,a);return d.add(d.add(c,d.mul(a,f.a)),f.b)}function p(a,b){let c=d.sqr(b),e=o(a);return d.eql(c,e)}if(!p(f.Gx,f.Gy))throw Error("bad curve params: generator point");let q=d.mul(d.pow(f.a,fF),fG),r=d.mul(d.sqr(f.b),BigInt(27));if(d.is0(d.add(q,r)))throw Error("bad curve params: a or b");function s(a,b,c=!1){if(!d.isValid(b)||c&&d.is0(b))throw Error(`bad point coordinate ${a}`);return b}function t(a){if(!(a instanceof y))throw Error("ProjectivePoint expected")}function u(a){if(!i||!i.basises)throw Error("no endo");return function(a,b,c){let[[d,e],[f,g]]=b,h=fy(g*a,c),i=fy(-e*a,c),j=a-h*d-i*f,k=-h*e-i*g,l=j<fC,m=k<fC;l&&(j=-j),m&&(k=-k);let o=eM(Math.ceil(eL(c)/2))+fD;if(j<fC||j>=o||k<fC||k>=o)throw Error("splitScalar (endomorphism): failed, k="+a);return{k1neg:l,k1:j,k2neg:m,k2:k}}(a,i.basises,e.ORDER)}let v=eO((a,b)=>{let{X:c,Y:e,Z:f}=a;if(d.eql(f,d.ONE))return{x:c,y:e};let g=a.is0();null==b&&(b=g?d.ONE:d.inv(f));let h=d.mul(c,b),i=d.mul(e,b),j=d.mul(f,b);if(g)return{x:d.ZERO,y:d.ZERO};if(!d.eql(j,d.ONE))throw Error("invZ was invalid");return{x:h,y:i}}),w=eO(a=>{if(a.is0()){if(b.allowInfinityPoint&&!d.is0(a.Y))return;throw Error("bad point: ZERO")}let{x:c,y:e}=a.toAffine();if(!d.isValid(c)||!d.isValid(e))throw Error("bad point: x or y not field elements");if(!p(c,e))throw Error("bad point: equation left != right");if(!a.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function x(a,b,c,e,f){return c=new y(d.mul(c.X,a),c.Y,c.Z),b=fd(e,b),c=fd(f,c),b.add(c)}class y{constructor(a,b,c){this.X=s("x",a),this.Y=s("y",b,!0),this.Z=s("z",c),Object.freeze(this)}static CURVE(){return f}static fromAffine(a){let{x:b,y:c}=a||{};if(!a||!d.isValid(b)||!d.isValid(c))throw Error("invalid affine point");if(a instanceof y)throw Error("projective point not allowed");return d.is0(b)&&d.is0(c)?y.ZERO:new y(b,c,d.ONE)}static fromBytes(a){let b=y.fromAffine(m(eC(a,void 0,"point")));return b.assertValidity(),b}static fromHex(a){return y.fromBytes(eI("pointHex",a))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(a=8,b=!0){return A.createCache(this,a),b||this.multiply(fF),this}assertValidity(){w(this)}hasEvenY(){let{y:a}=this.toAffine();if(!d.isOdd)throw Error("Field doesn't support isOdd");return!d.isOdd(a)}equals(a){t(a);let{X:b,Y:c,Z:e}=this,{X:f,Y:g,Z:h}=a,i=d.eql(d.mul(b,h),d.mul(f,e)),j=d.eql(d.mul(c,h),d.mul(g,e));return i&&j}negate(){return new y(this.X,d.neg(this.Y),this.Z)}double(){let{a:a,b}=f,c=d.mul(b,fF),{X:e,Y:g,Z:h}=this,i=d.ZERO,j=d.ZERO,k=d.ZERO,l=d.mul(e,e),m=d.mul(g,g),o=d.mul(h,h),p=d.mul(e,g);return p=d.add(p,p),k=d.mul(e,h),k=d.add(k,k),i=d.mul(a,k),j=d.mul(c,o),j=d.add(i,j),i=d.sub(m,j),j=d.add(m,j),j=d.mul(i,j),i=d.mul(p,i),k=d.mul(c,k),o=d.mul(a,o),p=d.sub(l,o),p=d.mul(a,p),p=d.add(p,k),k=d.add(l,l),l=d.add(k,l),l=d.add(l,o),l=d.mul(l,p),j=d.add(j,l),o=d.mul(g,h),o=d.add(o,o),l=d.mul(o,p),i=d.sub(i,l),k=d.mul(o,m),k=d.add(k,k),new y(i,j,k=d.add(k,k))}add(a){t(a);let{X:b,Y:c,Z:e}=this,{X:g,Y:h,Z:i}=a,j=d.ZERO,k=d.ZERO,l=d.ZERO,m=f.a,o=d.mul(f.b,fF),p=d.mul(b,g),q=d.mul(c,h),r=d.mul(e,i),s=d.add(b,c),u=d.add(g,h);s=d.mul(s,u),u=d.add(p,q),s=d.sub(s,u),u=d.add(b,e);let v=d.add(g,i);return u=d.mul(u,v),v=d.add(p,r),u=d.sub(u,v),v=d.add(c,e),j=d.add(h,i),v=d.mul(v,j),j=d.add(q,r),v=d.sub(v,j),l=d.mul(m,u),j=d.mul(o,r),l=d.add(j,l),j=d.sub(q,l),l=d.add(q,l),k=d.mul(j,l),q=d.add(p,p),q=d.add(q,p),r=d.mul(m,r),u=d.mul(o,u),q=d.add(q,r),r=d.sub(p,r),r=d.mul(m,r),u=d.add(u,r),p=d.mul(q,u),k=d.add(k,p),p=d.mul(v,u),j=d.mul(s,j),j=d.sub(j,p),p=d.mul(s,q),l=d.mul(v,l),new y(j,k,l=d.add(l,p))}subtract(a){return this.add(a.negate())}is0(){return this.equals(y.ZERO)}multiply(a){let c,d,{endo:f}=b;if(!e.isValidNot0(a))throw Error("invalid scalar: out of range");let g=a=>A.cached(this,a,a=>fe(y,a));if(f){let{k1neg:b,k1:e,k2neg:h,k2:i}=u(a),{p:j,f:k}=g(e),{p:l,f:m}=g(i);d=k.add(m),c=x(f.beta,j,l,b,h)}else{let{p:b,f:e}=g(a);c=b,d=e}return fe(y,[c,d])[0]}multiplyUnsafe(a){let{endo:c}=b;if(!e.isValid(a))throw Error("invalid scalar: out of range");if(a===fC||this.is0())return y.ZERO;if(a===fD)return this;if(A.hasCache(this))return this.multiply(a);if(!c)return A.unsafe(this,a);{let{k1neg:b,k1:d,k2neg:e,k2:f}=u(a),{p1:g,p2:h}=function(a,b,c,d){let e=b,f=a.ZERO,g=a.ZERO;for(;c>fb||d>fb;)c&fc&&(f=f.add(e)),d&fc&&(g=g.add(e)),e=e.double(),c>>=fc,d>>=fc;return{p1:f,p2:g}}(y,this,d,f);return x(c.beta,g,h,b,e)}}multiplyAndAddUnsafe(a,b,c){let d=this.multiplyUnsafe(b).add(a.multiplyUnsafe(c));return d.is0()?void 0:d}toAffine(a){return v(this,a)}isTorsionFree(){let{isTorsionFree:a}=b;return g===fD||(a?a(y,this):A.unsafe(this,h).is0())}clearCofactor(){let{clearCofactor:a}=b;return g===fD?this:a?a(y,this):this.multiplyUnsafe(g)}isSmallOrder(){return this.multiplyUnsafe(g).is0()}toBytes(a=!0){return eB(a,"isCompressed"),this.assertValidity(),l(y,this,a)}toHex(a=!0){return dh(this.toBytes(a))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(a=!0){return this.toBytes(a)}_setWindowSize(a){this.precompute(a)}static normalizeZ(a){return fe(y,a)}static msm(a,b){return function(a,b,c,d){(function(a,b){if(!Array.isArray(a))throw Error("array expected");a.forEach((a,c)=>{if(!(a instanceof b))throw Error("invalid point at index "+c)})})(c,a),function(a,b){if(!Array.isArray(a))throw Error("array of scalars expected");a.forEach((a,c)=>{if(!b.isValid(a))throw Error("invalid scalar at index "+c)})}(d,b);let e=c.length,f=d.length;if(e!==f)throw Error("arrays of points and scalars must have equal length");let g=a.ZERO,h=eL(BigInt(e)),i=1;h>12?i=h-3:h>4?i=h-2:h>0&&(i=2);let j=eM(i),k=Array(Number(j)+1).fill(g),l=Math.floor((b.BITS-1)/i)*i,m=g;for(let a=l;a>=0;a-=i){k.fill(g);for(let b=0;b<f;b++){let e=Number(d[b]>>BigInt(a)&j);k[e]=k[e].add(c[b])}let b=g;for(let a=k.length-1,c=g;a>0;a--)c=c.add(k[a]),b=b.add(c);if(m=m.add(b),0!==a)for(let a=0;a<i;a++)m=m.double()}return m}(y,e,a,b)}static fromPrivateKey(a){return y.BASE.multiply(fH(e,a))}}y.BASE=new y(f.Gx,f.Gy,d.ONE),y.ZERO=new y(d.ZERO,d.ONE,d.ZERO),y.Fp=d,y.Fn=e;let z=e.BITS,A=new fm(y,b.endo?Math.ceil(z/2):z);return y.BASE.precompute(8),y}(c,d),e,f);return b=g.Point,Object.assign({},g,{ProjectivePoint:b,CURVE:Object.assign({},a,e7(b.Fn.ORDER,b.Fn.BITS))})})({...a,hash:b});return{...c(b),create:c}}let fL={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},fM={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},fN={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},fO=e8(fL.p),fP=e8(fM.p),fQ=e8(fN.p);fK({...fL,Fp:fO,lowS:!1},dW),fK({...fM,Fp:fP,lowS:!1},dY),fK({...fN,Fp:fQ,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},dX),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,a.i(26354),a.i(446105),a.i(221810),a.i(619684),a.i(552612),s.ONE_DAY,s.SIX_HOURS,s.THIRTY_DAYS,s.FIVE_SECONDS,s.THIRTY_DAYS,s.ONE_DAY,s.ONE_DAY,s.THIRTY_SECONDS,s.THIRTY_SECONDS,s.ONE_DAY,s.ONE_DAY,s.ONE_DAY;var fR=function(a,b){if(a.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),d=0;d<c.length;d++)c[d]=255;for(var e=0;e<a.length;e++){var f=a.charAt(e),g=f.charCodeAt(0);if(255!==c[g])throw TypeError(f+" is ambiguous");c[g]=e}var h=a.length,i=a.charAt(0),j=Math.log(h)/Math.log(256),k=Math.log(256)/Math.log(h);function l(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;var b=0;if(" "!==a[0]){for(var d=0,e=0;a[b]===i;)d++,b++;for(var f=(a.length-b)*j+1>>>0,g=new Uint8Array(f);a[b];){var k=c[a.charCodeAt(b)];if(255===k)return;for(var l=0,m=f-1;(0!==k||l<e)&&-1!==m;m--,l++)k+=h*g[m]>>>0,g[m]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");e=l,b++}if(" "!==a[b]){for(var o=f-e;o!==f&&0===g[o];)o++;for(var p=new Uint8Array(d+(f-o)),q=d;o!==f;)p[q++]=g[o++];return p}}}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var g=(f-e)*k+1>>>0,j=new Uint8Array(g);e!==f;){for(var l=b[e],m=0,o=g-1;(0!==l||m<d)&&-1!==o;o--,m++)l+=256*j[o]>>>0,j[o]=l%h>>>0,l=l/h>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var p=g-d;p!==g&&0===j[p];)p++;for(var q=i.repeat(c);p<g;++p)q+=a.charAt(j[p]);return q},decodeUnsafe:l,decode:function(a){var c=l(a);if(c)return c;throw Error(`Non-${b} character`)}}};let fS=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Unknown type, must be binary type")};class fT{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}class fU{constructor(a,b,c){if(this.name=a,this.prefix=b,void 0===b.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=b.codePointAt(0),this.baseDecode=c}decode(a){if("string"==typeof a){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(a){return fW(this,a)}}class fV{constructor(a){this.decoders=a}or(a){return fW(this,a)}decode(a){let b=a[0],c=this.decoders[b];if(c)return c.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let fW=(a,b)=>new fV({...a.decoders||{[a.prefix]:a},...b.decoders||{[b.prefix]:b}});class fX{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new fT(a,b,c),this.decoder=new fU(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}let fY=({name:a,prefix:b,encode:c,decode:d})=>new fX(a,b,c,d),fZ=({prefix:a,name:b,alphabet:c})=>{let{encode:d,decode:e}=fR(c,b);return fY({prefix:a,name:b,encode:d,decode:a=>fS(e(a))})},f$=({name:a,prefix:b,bitsPerChar:c,alphabet:d})=>fY({prefix:b,name:a,encode:a=>((a,b,c)=>{let d="="===b[b.length-1],e=(1<<c)-1,f="",g=0,h=0;for(let d=0;d<a.length;++d)for(h=h<<8|a[d],g+=8;g>c;)g-=c,f+=b[e&h>>g];if(g&&(f+=b[e&h<<c-g]),d)for(;f.length*c&7;)f+="=";return f})(a,d,c),decode:b=>((a,b,c,d)=>{let e={};for(let a=0;a<b.length;++a)e[b[a]]=a;let f=a.length;for(;"="===a[f-1];)--f;let g=new Uint8Array(f*c/8|0),h=0,i=0,j=0;for(let b=0;b<f;++b){let f=e[a[b]];if(void 0===f)throw SyntaxError(`Non-${d} character`);i=i<<c|f,(h+=c)>=8&&(h-=8,g[j++]=255&i>>h)}if(h>=c||255&i<<8-h)throw SyntaxError("Unexpected end of data");return g})(b,d,c,a)});var f_=Object.freeze({__proto__:null,identity:fY({prefix:"\0",name:"identity",encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)})}),f0=Object.freeze({__proto__:null,base2:f$({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),f1=Object.freeze({__proto__:null,base8:f$({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),f2=Object.freeze({__proto__:null,base10:fZ({prefix:"9",name:"base10",alphabet:"0123456789"})}),f3=Object.freeze({__proto__:null,base16:f$({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:f$({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),f4=Object.freeze({__proto__:null,base32:f$({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper:f$({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad:f$({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper:f$({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex:f$({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper:f$({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad:f$({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:f$({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:f$({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),f5=Object.freeze({__proto__:null,base36:fZ({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:fZ({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),f6=Object.freeze({__proto__:null,base58btc:fZ({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:fZ({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),f7=Object.freeze({__proto__:null,base64:f$({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad:f$({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:f$({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:f$({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let f8=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),f9=f8.reduce((a,b,c)=>(a[c]=b,a),[]),ga=f8.reduce((a,b,c)=>(a[b.codePointAt(0)]=c,a),[]);var gb=Object.freeze({__proto__:null,base256emoji:fY({prefix:"ðŸš€",name:"base256emoji",encode:function(a){return a.reduce((a,b)=>a+=f9[b],"")},decode:function(a){let b=[];for(let c of a){let a=ga[c.codePointAt(0)];if(void 0===a)throw Error(`Non-base256emoji character: ${c}`);b.push(a)}return new Uint8Array(b)}})});function gc(a,b,c){b=b||[],c=c||0;for(var d=c;a>=0x80000000;)b[c++]=255&a|128,a/=128;for(;-128&a;)b[c++]=255&a|128,a>>>=7;return b[c]=0|a,gc.bytes=c-d+1,b}var gd=function(a){return a<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:a<0x800000000?5:a<0x40000000000?6:a<0x2000000000000?7:a<0x100000000000000?8:a<0x8000000000000000?9:10};let ge=(a,b,c=0)=>(gc(a,b,c),b),gf=(a,b)=>{let c=b.byteLength,d=gd(a),e=d+gd(c),f=new Uint8Array(e+c);return ge(a,f,0),ge(c,f,d),f.set(b,e),new gg(a,c,b,f)};class gg{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}let gh=({name:a,code:b,encode:c})=>new gi(a,b,c);class gi{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}digest(a){if(a instanceof Uint8Array){let b=this.encode(a);return b instanceof Uint8Array?gf(this.code,b):b.then(a=>gf(this.code,a))}throw Error("Unknown type, must be binary type")}}let gj=a=>async b=>new Uint8Array(await crypto.subtle.digest(a,b));var gk=Object.freeze({__proto__:null,sha256:gh({name:"sha2-256",code:18,encode:gj("SHA-256")}),sha512:gh({name:"sha2-512",code:19,encode:gj("SHA-512")})}),gl=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:fS,digest:a=>gf(0,fS(a))}});new TextEncoder,new TextDecoder;let gm={...f_,...f0,...f1,...f2,...f3,...f4,...f5,...f6,...f7,...gb};function gn(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}({...gk,...gl}),gn("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),gn("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{let b=function(a=0){var b;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(b=globalThis.Buffer.allocUnsafe(a),null!=globalThis.Buffer?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):b):new Uint8Array(a)}((a=a.substring(1)).length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),gm.base16,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,s.THIRTY_DAYS,s.SEVEN_DAYS,s.FIVE_MINUTES,s.FIVE_MINUTES,s.FIVE_MINUTES,s.FIVE_MINUTES,s.FIVE_MINUTES,s.FIVE_MINUTES,s.ONE_DAY,s.ONE_DAY,s.ONE_DAY,s.ONE_DAY,s.FIVE_MINUTES,s.FIVE_MINUTES,s.FIVE_MINUTES,s.FIVE_MINUTES,s.ONE_DAY,s.ONE_DAY,s.ONE_DAY,s.ONE_DAY,s.ONE_HOUR,s.ONE_HOUR,s.FIVE_MINUTES,s.FIVE_MINUTES,s.FIVE_MINUTES,s.SEVEN_DAYS,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,a.i(652854),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,a.s([],233991);var go=a.i(50516),gp=a.i(577248),gq=a.i(230158),gr=a.i(490610),gs=a.i(739741),gt=a.i(832557),gu=a.i(881791),gv=a.i(426779),gw=a.i(351428),gx=a.i(802320),gy=a.i(848800),gz=a.i(358765),gA=a.i(203479);let gB=null,gC={getSIWX:()=>gw.OptionsController.state.siwx,async initializeIfEnabled(a=gr.ChainController.getActiveCaipAddress()){let b=gw.OptionsController.state.siwx;if(!(b&&a))return;let[c,d,e]=a.split(":");if(gr.ChainController.checkIfSupportedNetwork(c,`${c}:${d}`))try{if(gw.OptionsController.state.remoteFeatures?.emailCapture){let a=gr.ChainController.getAccountData(c)?.user;await gv.ModalController.open({view:"DataCapture",data:{email:a?.email??void 0}});return}if(gB&&await gB,(await b.getSessions(`${c}:${d}`,e)).length)return;await gv.ModalController.open({view:"SIWXSignMessage"})}catch(a){console.error("SIWXUtil:initializeIfEnabled",a),gu.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(a)}),await gs.ConnectionController._getClient()?.disconnect().catch(console.error),gx.RouterController.reset("Connect"),gy.SnackController.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(a=gr.ChainController.getActiveCaipAddress()){if(!gw.OptionsController.state.siwx||!a)return!0;let{chainNamespace:b,chainId:c,address:d}=gp.ParseUtil.parseCaipAddress(a),e=`${b}:${c}`;return(await gC.getSessions({address:d,caipNetworkId:e})).length>0},async requestSignMessage(){let a=gw.OptionsController.state.siwx,b=gA.CoreHelperUtil.getPlainAddress(gr.ChainController.getActiveCaipAddress()),c=(0,gz.getActiveCaipNetwork)();if(!a)throw Error("SIWX is not enabled");if(!b)throw Error("No ActiveCaipAddress found");if(!c)throw Error("No ActiveCaipNetwork or client found");try{let d=await a.createMessage({chainId:c.caipNetworkId,accountAddress:b}),e=d.toString(),f="";a.signMessage?f=await a.signMessage({message:e,chainId:c.caipNetworkId,accountAddress:b}):(gt.ConnectorController.getConnectorId(c.chainNamespace)===go.ConstantsUtil.CONNECTOR_ID.AUTH&&gx.RouterController.pushTransactionStack({}),f=await gs.ConnectionController.signMessage(e)||""),await a.addSession({data:d,message:e,signature:f}),gr.ChainController.setLastConnectedSIWECaipNetwork(c),gv.ModalController.close(),gu.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(a){gv.ModalController.state.open&&"ApproveTransaction"!==gx.RouterController.state.view||await gv.ModalController.open({view:"SIWXSignMessage"}),gy.SnackController.showError("Error signing message"),gu.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(a)}),console.error("SWIXUtil:requestSignMessage",a)}},async cancelSignMessage(){try{let a=this.getSIWX();if(a?.getRequired?.()){let b=gr.ChainController.getLastConnectedSIWECaipNetwork();if(b){let c=await a?.getSessions(b?.caipNetworkId,gA.CoreHelperUtil.getPlainAddress(gr.ChainController.getActiveCaipAddress())||"");c&&c.length>0?await gr.ChainController.switchActiveNetwork(b):await gs.ConnectionController.disconnect()}else await gs.ConnectionController.disconnect()}else gv.ModalController.close();gv.ModalController.close(),gu.EventsController.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(a){console.error("SIWXUtil:cancelSignMessage",a)}},async getAllSessions(){let a=this.getSIWX(),b=gr.ChainController.getAllRequestedCaipNetworks(),c=[];return await Promise.all(b.map(async b=>{let d=await a?.getSessions(b.caipNetworkId,gA.CoreHelperUtil.getPlainAddress(gr.ChainController.getActiveCaipAddress())||"");d&&c.push(...d)})),c},async getSessions(a){let b=gw.OptionsController.state.siwx,c=a?.address;if(!c){let a=gr.ChainController.getActiveCaipAddress();c=gA.CoreHelperUtil.getPlainAddress(a)}let d=a?.caipNetworkId;if(!d){let a=gr.ChainController.getActiveCaipNetwork();d=a?.caipNetworkId}return b&&c&&d?b.getSessions(d,c):[]},async isSIWXCloseDisabled(){let a=this.getSIWX();if(a){let b="ApproveTransaction"===gx.RouterController.state.view,c="SIWXSignMessage"===gx.RouterController.state.view;if(b||c)return a.getRequired?.()&&0===(await this.getSessions()).length}return!1},async authConnectorAuthenticate({authConnector:a,chainId:b,socialUri:c,preferredAccountType:d,chainNamespace:e}){let f=gC.getSIWX(),g=(0,gz.getActiveCaipNetwork)();if(!f||!e.includes(go.ConstantsUtil.CHAIN.EVM)||gw.OptionsController.state.remoteFeatures?.emailCapture){let e=await a.connect({chainId:b,socialUri:c,preferredAccountType:d});return{address:e.address,chainId:e.chainId,accounts:e.accounts}}let h=`${e}:${b}`,i=await f.createMessage({chainId:h,accountAddress:"<<AccountAddress>>"}),j={accountAddress:i.accountAddress,chainId:i.chainId,domain:i.domain,uri:i.uri,version:i.version,nonce:i.nonce,notBefore:i.notBefore,statement:i.statement,resources:i.resources,requestId:i.requestId,issuedAt:i.issuedAt,expirationTime:i.expirationTime,serializedMessage:i.toString()},k=await a.connect({chainId:b,socialUri:c,siwxMessage:j,preferredAccountType:d});if(j.accountAddress=k.address,j.serializedMessage=k.message||"",k.signature&&k.message){let a=gC.addEmbeddedWalletSession(j,k.message,k.signature);await a}return gr.ChainController.setLastConnectedSIWECaipNetwork(g),{address:k.address,chainId:k.chainId,accounts:k.accounts}},async addEmbeddedWalletSession(a,b,c){if(gB)return gB;let d=gC.getSIWX();return d?gB=d.addSession({data:a,message:b,signature:c}).finally(()=>{gB=null}):Promise.resolve()},async universalProviderAuthenticate({universalProvider:a,chains:b,methods:c}){let d=gC.getSIWX(),e=(0,gz.getActiveCaipNetwork)(),f=new Set(b.map(a=>a.split(":")[0]));if(!d||1!==f.size||!f.has("eip155"))return!1;let g=await d.createMessage({chainId:(0,gz.getActiveCaipNetwork)()?.caipNetworkId||"",accountAddress:""}),h=await a.authenticate({nonce:g.nonce,domain:g.domain,uri:g.uri,exp:g.expirationTime,iat:g.issuedAt,nbf:g.notBefore,requestId:g.requestId,version:g.version,resources:g.resources,statement:g.statement,chainId:g.chainId,methods:c,chains:[g.chainId,...b.filter(a=>a!==g.chainId)]});gy.SnackController.showLoading("Authenticating...",{autoClose:!1});let i={...h.session.peer.metadata,name:h.session.peer.metadata.name,icon:h.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(gr.ChainController.setAccountProp("connectedWalletInfo",i,Array.from(f)[0]),h?.auths?.length){let b=h.auths.map(b=>{let c=a.client.formatAuthMessage({request:b.p,iss:b.p.iss});return{data:{...b.p,accountAddress:b.p.iss.split(":").slice(-1).join(""),chainId:b.p.iss.split(":").slice(2,4).join(":"),uri:b.p.aud,version:b.p.version||g.version,expirationTime:b.p.exp,issuedAt:b.p.iat,notBefore:b.p.nbf},message:c,signature:b.s.s,cacao:b}});try{await d.setSessions(b),e&&gr.ChainController.setLastConnectedSIWECaipNetwork(e),gu.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:gC.getSIWXEventProperties()})}catch(b){throw console.error("SIWX:universalProviderAuth - failed to set sessions",b),gu.EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:gC.getSIWXEventProperties(b)}),await a.disconnect().catch(console.error),b}finally{gy.SnackController.hide()}}return!0},getSIWXEventProperties(a){let b=gr.ChainController.state.activeChain;if(!b)throw Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:gr.ChainController.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:(0,gz.getPreferredAccountType)(b)===gq.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,message:a?gA.CoreHelperUtil.parseError(a):void 0}},async clearSessions(){let a=this.getSIWX();a&&await a.setSessions([])}};a.s(["SIWXUtil",0,gC],433273)},911405,356230,a=>{"use strict";a.i(730025);var b=a.i(637573),c=a.i(178506);a.i(53218);var d=a.i(799188),e=a.i(802320);a.i(675998);var f=a.i(140833),g=b,h=a.i(881791);a.i(439399),a.i(318137);var i=a.i(116626),j=a.i(279421);let k=j.css`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:a})=>a["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:a})=>a["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`;var l=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};let m=class extends g.LitElement{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=e.RouterController.state.view}firstUpdated(){this.status=i.HelpersUtil.hasFooter()?"show":"hide",this.unsubscribe.push(e.RouterController.subscribeKey("view",a=>{this.view=a,this.status=i.HelpersUtil.hasFooter()?"show":"hide","hide"===this.status&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(a=>{for(let b of a)if(b.target===this.getWrapper()){let a=`${b.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",a)}}),this.resizeObserver.observe(this.getWrapper())}render(){return c.html`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return i.HelpersUtil.hasFooter()?c.html` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return c.html`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return c.html`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return c.html` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){h.EventsController.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),e.RouterController.push("WhatIsANetwork")}getWrapper(){return this.shadowRoot?.querySelector("div.container")}};m.styles=[k],l([(0,d.state)()],m.prototype,"status",void 0),l([(0,d.state)()],m.prototype,"view",void 0),m=l([(0,f.customElement)("w3m-footer")],m),a.s(["W3mFooter",()=>m],356230);let o=j.css`
  :host {
    display: block;
    width: inherit;
  }
`;var p=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};let q=class extends b.LitElement{constructor(){super(),this.unsubscribe=[],this.viewState=e.RouterController.state.view,this.history=e.RouterController.state.history.join(","),this.unsubscribe.push(e.RouterController.subscribeKey("view",()=>{this.history=e.RouterController.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(a=>a()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return c.html`${this.templatePageContainer()}`}templatePageContainer(){return c.html`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=e.RouterController.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(a){switch(a){case"AccountSettings":return c.html`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return c.html`<w3m-account-view></w3m-account-view>`;case"AllWallets":return c.html`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return c.html`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return c.html`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return c.html`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":default:return c.html`<w3m-connect-view></w3m-connect-view>`;case"Create":return c.html`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return c.html`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return c.html`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return c.html`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return c.html`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return c.html`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return c.html`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return c.html`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return c.html`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return c.html`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return c.html`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return c.html`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return c.html`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return c.html`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return c.html`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return c.html`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return c.html`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return c.html`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return c.html`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return c.html`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return c.html`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return c.html`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return c.html`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return c.html`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return c.html`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return c.html`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return c.html`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return c.html`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return c.html`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return c.html`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return c.html`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return c.html`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return c.html`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return c.html`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return c.html`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return c.html`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return c.html`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return c.html`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return c.html`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return c.html`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return c.html`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return c.html`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return c.html`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return c.html`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return c.html`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return c.html`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return c.html`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return c.html`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return c.html`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"FundWallet":return c.html`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return c.html`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return c.html`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;case"UsageExceeded":return c.html`<w3m-usage-exceeded-view></w3m-usage-exceeded-view>`}}};q.styles=[o],p([(0,d.state)()],q.prototype,"viewState",void 0),p([(0,d.state)()],q.prototype,"history",void 0),q=p([(0,f.customElement)("w3m-router")],q),a.s(["W3mRouter",()=>q],911405)},193458,a=>{"use strict";a.i(693328),a.s([])},305813,a=>{"use strict";a.i(730025);var b=a.i(637573),c=a.i(178506);a.i(53218);var d=a.i(833559);a.i(852094);var e=a.i(396426);a.i(764831),a.i(508717),a.i(603288);var f=a.i(998772),g=a.i(140833),h=b;a.i(854074);var i=a.i(279421);let j=i.css`
  :host {
    position: relative;
    border-radius: ${({borderRadius:a})=>a[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:a})=>a.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:a})=>a[1]};
    padding: ${({spacing:a})=>a[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`;var k=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};let l=class extends h.LitElement{constructor(){super(...arguments),this.walletImages=[]}render(){let a=this.walletImages.length<4;return c.html`${this.walletImages.slice(0,4).map(({src:a,walletName:b})=>c.html`
          <wui-wallet-image
            size="sm"
            imageSrc=${a}
            name=${(0,e.ifDefined)(b)}
          ></wui-wallet-image>
        `)}
    ${a?[...Array(4-this.walletImages.length)].map(()=>c.html` <wui-wallet-image size="sm" name=""></wui-wallet-image>`):null} `}};l.styles=[f.resetStyles,j],k([(0,d.property)({type:Array})],l.prototype,"walletImages",void 0),l=k([(0,g.customElement)("wui-all-wallets-image")],l),a.i(693328);let m=i.css`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:a})=>a[2]};
    padding: ${({spacing:a})=>a[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:a})=>a[4]};
    color: ${({tokens:a})=>a.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:a})=>a.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:a})=>a.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:a})=>a.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:a})=>a.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:a})=>a.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:a})=>a.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:a})=>a.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:a})=>a.core.glass010};
    color: ${({tokens:a})=>a.theme.foregroundTertiary};
  }
`;var o=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};let p=class extends b.LitElement{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,c.html`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${(0,e.ifDefined)(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?c.html` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?c.html` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?c.html`<wui-wallet-image
        size=${(0,e.ifDefined)("sm"===this.size?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:this.showAllWallets||this.imageSrc?null:c.html`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`}templateStatus(){return this.loading?c.html`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?c.html`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};p.styles=[f.resetStyles,f.elementStyles,m],o([(0,d.property)({type:Array})],p.prototype,"walletImages",void 0),o([(0,d.property)()],p.prototype,"imageSrc",void 0),o([(0,d.property)()],p.prototype,"name",void 0),o([(0,d.property)()],p.prototype,"size",void 0),o([(0,d.property)()],p.prototype,"tagLabel",void 0),o([(0,d.property)()],p.prototype,"tagVariant",void 0),o([(0,d.property)()],p.prototype,"walletIcon",void 0),o([(0,d.property)()],p.prototype,"tabIdx",void 0),o([(0,d.property)({type:Boolean})],p.prototype,"disabled",void 0),o([(0,d.property)({type:Boolean})],p.prototype,"showAllWallets",void 0),o([(0,d.property)({type:Boolean})],p.prototype,"loading",void 0),o([(0,d.property)({type:String})],p.prototype,"loadingSpinnerColor",void 0),p=o([(0,g.customElement)("wui-list-wallet")],p),a.s([],305813)}];

//# sourceMappingURL=89298_214844fa._.js.map