module.exports=[828283,736814,474001,839862,a=>{"use strict";var b=a.i(309812),c=a.i(559758),d=a.i(117884),e=a.i(93117),f=a.i(87172),g=a.i(258509),h=a.i(760771);function i(a){let{abi:b,data:c}=a,i=(0,e.slice)(c,0,4),j=b.find(a=>"function"===a.type&&i===(0,f.toFunctionSelector)((0,h.formatAbiItem)(a)));if(!j)throw new d.AbiFunctionSignatureNotFoundError(i,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:j.name,args:"inputs"in j&&j.inputs&&j.inputs.length>0?(0,g.decodeAbiParameters)(j.inputs,(0,e.slice)(c,4)):void 0}}a.s(["decodeFunctionData",()=>i],736814);var j=a.i(570080),k=a.i(58281),l=a.i(95285);let m="/docs/contract/encodeErrorResult";function n(a){let{abi:b,errorName:c,args:e}=a,g=b[0];if(c){let a=(0,l.getAbiItem)({abi:b,args:e,name:c});if(!a)throw new d.AbiErrorNotFoundError(c,{docsPath:m});g=a}if("error"!==g.type)throw new d.AbiErrorNotFoundError(void 0,{docsPath:m});let i=(0,h.formatAbiItem)(g),n=(0,f.toFunctionSelector)(i),o="0x";if(e&&e.length>0){if(!g.inputs)throw new d.AbiErrorInputsNotFoundError(g.name,{docsPath:m});o=(0,k.encodeAbiParameters)(g.inputs,e)}return(0,j.concatHex)([n,o])}a.s(["encodeErrorResult",()=>n],474001);let o="/docs/contract/encodeFunctionResult";function p(a){let{abi:b,functionName:c,result:e}=a,f=b[0];if(c){let a=(0,l.getAbiItem)({abi:b,name:c});if(!a)throw new d.AbiFunctionNotFoundError(c,{docsPath:o});f=a}if("function"!==f.type)throw new d.AbiFunctionNotFoundError(void 0,{docsPath:o});if(!f.outputs)throw new d.AbiFunctionOutputsNotFoundError(f.name,{docsPath:o});let g=(()=>{if(0===f.outputs.length)return[];if(1===f.outputs.length)return[e];if(Array.isArray(e))return e;throw new d.InvalidArrayError(e)})();return(0,k.encodeAbiParameters)(f.outputs,g)}a.s(["encodeFunctionResult",()=>p],839862);let q="x-batch-gateway:true";async function r(a){let{data:d,ccipRequest:e}=a,{args:[f]}=i({abi:b.batchGatewayAbi,data:d}),g=[],h=[];return await Promise.all(f.map(async(a,d)=>{try{h[d]=a.urls.includes(q)?await r({data:a.data,ccipRequest:e}):await e(a),g[d]=!1}catch(a){var f;g[d]=!0,h[d]="HttpRequestError"===(f=a).name&&f.status?n({abi:b.batchGatewayAbi,errorName:"HttpError",args:[f.status,f.shortMessage]}):n({abi:[c.solidityError],errorName:"Error",args:["shortMessage"in f?f.shortMessage:f.message]})}})),p({abi:b.batchGatewayAbi,functionName:"query",result:[g,h]})}a.s(["localBatchGatewayRequest",()=>r,"localBatchGatewayUrl",0,q],828283)},48250,a=>{a.v({name:"@base-org/account",version:"2.4.0",description:"Base Account SDK",keywords:["base","account","sdk","web3"],publishConfig:{access:"public"},type:"module",main:"dist/index.js",types:"dist/index.d.ts",browser:"dist/base-account.min.js",exports:{".":{types:"./dist/index.d.ts",browser:{import:"./dist/index.js",require:"./dist/index.js"},node:{import:"./dist/index.node.js",require:"./dist/index.node.js"},default:"./dist/index.js"},"./browser":{types:"./dist/index.d.ts",import:"./dist/index.js",require:"./dist/index.js"},"./node":{types:"./dist/index.node.d.ts",import:"./dist/index.node.js",require:"./dist/index.node.js"},"./payment/browser":{types:"./dist/interface/payment/index.d.ts",import:"./dist/interface/payment/index.js",require:"./dist/interface/payment/index.js"},"./payment/node":{types:"./dist/interface/payment/index.node.d.ts",import:"./dist/interface/payment/index.node.js",require:"./dist/interface/payment/index.node.js"},"./payment":{types:"./dist/interface/payment/index.d.ts",browser:{types:"./dist/interface/payment/index.d.ts",import:"./dist/interface/payment/index.js",require:"./dist/interface/payment/index.js"},node:{types:"./dist/interface/payment/index.node.d.ts",import:"./dist/interface/payment/index.node.js",require:"./dist/interface/payment/index.node.js"}},"./spend-permission/browser":{types:"./dist/interface/public-utilities/spend-permission/index.d.ts",import:"./dist/interface/public-utilities/spend-permission/index.js",require:"./dist/interface/public-utilities/spend-permission/index.js"},"./spend-permission/node":{types:"./dist/interface/public-utilities/spend-permission/index.node.d.ts",import:"./dist/interface/public-utilities/spend-permission/index.node.js",require:"./dist/interface/public-utilities/spend-permission/index.node.js"},"./spend-permission":{types:"./dist/interface/public-utilities/spend-permission/index.d.ts",browser:{types:"./dist/interface/public-utilities/spend-permission/index.d.ts",import:"./dist/interface/public-utilities/spend-permission/index.js",require:"./dist/interface/public-utilities/spend-permission/index.js"},node:{types:"./dist/interface/public-utilities/spend-permission/index.node.d.ts",import:"./dist/interface/public-utilities/spend-permission/index.node.js",require:"./dist/interface/public-utilities/spend-permission/index.node.js"}},"./ui-assets":{types:"./dist/ui/assets/index.d.ts",import:"./dist/ui/assets/index.js",require:"./dist/ui/assets/index.js"}},files:["dist","README.md","LICENSE"],sideEffects:!1,repository:"https://github.com/base/account-sdk.git",author:"Base",license:"Apache-2.0",scripts:{clean:"rm -rf dist && rm -rf node_modules",pretest:"node compile-assets.cjs",test:"vitest","test:coverage":"vitest --coverage",prebuild:"rm -rf ./dist",build:"node compile-assets.cjs && tsc -p ./tsconfig.build.json && tsc-alias && yarn build:browser","build:browser":"rollup -c rollup.config.js",prepublishOnly:"yarn build",dev:"yarn build && tsc --watch & nodemon --watch dist --delay 1 --exec tsc-alias",typecheck:"tsc --noEmit",lint:"biome lint .",format:"biome format . --write","format:check":"biome check . --formatter-enabled=true --linter-enabled=false --organize-imports-enabled=false",size:"size-limit"},dependencies:{"@coinbase/cdp-sdk":"^1.0.0","@noble/hashes":"1.4.0",clsx:"1.2.1",eventemitter3:"5.0.1","idb-keyval":"6.2.1",ox:"0.6.9",preact:"10.24.2",viem:"^2.31.7",zustand:"5.0.3"},devDependencies:{"@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-replace":"^5.0.5","@rollup/plugin-typescript":"^11.1.6","@size-limit/preset-big-lib":"^11.1.6","@testing-library/jest-dom":"^6.5.0","@testing-library/preact":"^3.2.4","@types/node":"^14.18.54","@vitest/coverage-v8":"2.1.2","@vitest/web-worker":"3.2.1","fake-indexeddb":"^6.0.0",glob:"^11.0.0","jest-websocket-mock":"^2.4.0",jsdom:"^25.0.1",nodemon:"^3.1.0",rollup:"^4.9.6","rollup-plugin-terser":"^7.0.2",sass:"^1.64.1","size-limit":"^11.1.6","tsc-alias":"^1.8.8",tslib:"^2.6.0",typescript:"^5.1.6",vitest:"^2.1.9"},"size-limit":[{path:"./dist/index.js",limit:"31 KB",import:"*"}]})},20780,(a,b,c)=>{function d(a,b,c,d){return Math.round(a/c)+" "+d+(b>=1.5*c?"s":"")}b.exports=function(a,b){b=b||{};var c,e,f,g,h=typeof a;if("string"===h&&a.length>0){var i=a;if(!((i=String(i)).length>100)){var j=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(j){var k=parseFloat(j[1]);switch((j[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*k;case"weeks":case"week":case"w":return 6048e5*k;case"days":case"day":case"d":return 864e5*k;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*k;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*k;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*k;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return k;default:break}}}return}if("number"===h&&isFinite(a)){return b.long?(e=Math.abs(c=a))>=864e5?d(c,e,864e5,"day"):e>=36e5?d(c,e,36e5,"hour"):e>=6e4?d(c,e,6e4,"minute"):e>=1e3?d(c,e,1e3,"second"):c+" ms":(g=Math.abs(f=a))>=864e5?Math.round(f/864e5)+"d":g>=36e5?Math.round(f/36e5)+"h":g>=6e4?Math.round(f/6e4)+"m":g>=1e3?Math.round(f/1e3)+"s":f+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},870722,(a,b,c)=>{b.exports=a.x("tty",()=>require("tty"))},883522,(a,b,c)=>{"use strict";b.exports=(a,b=process.argv)=>{let c=a.startsWith("-")?"":1===a.length?"-":"--",d=b.indexOf(c+a),e=b.indexOf("--");return -1!==d&&(-1===e||d<e)}},965412,(a,b,c)=>{"use strict";let d,e=a.r(446786),f=a.r(870722),g=a.r(883522),{env:h}=process;function i(a){return 0!==a&&{level:a,hasBasic:!0,has256:a>=2,has16m:a>=3}}function j(a,b){if(0===d)return 0;if(g("color=16m")||g("color=full")||g("color=truecolor"))return 3;if(g("color=256"))return 2;if(a&&!b&&void 0===d)return 0;let c=d||0;if("dumb"===h.TERM)return c;{let a=e.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}}g("no-color")||g("no-colors")||g("color=false")||g("color=never")?d=0:(g("color")||g("colors")||g("color=true")||g("color=always"))&&(d=1),"FORCE_COLOR"in h&&(d="true"===h.FORCE_COLOR?1:"false"===h.FORCE_COLOR?0:0===h.FORCE_COLOR.length?1:Math.min(parseInt(h.FORCE_COLOR,10),3)),b.exports={supportsColor:function(a){return i(j(a,a&&a.isTTY))},stdout:i(j(!0,f.isatty(1))),stderr:i(j(!0,f.isatty(2)))}},908712,a=>{"use strict";var b=a.i(254799);let c=new Uint8Array(256),d=c.length;function e(){return d>c.length-16&&(b.default.randomFillSync(c),d=0),c.slice(d,d+=16)}a.s(["default",()=>e])},256469,a=>{"use strict";let b=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;a.s(["default",0,function(a){return"string"==typeof a&&b.test(a)}],256469)},135623,a=>{"use strict";var b=a.i(256469);let c=[];for(let a=0;a<256;++a)c.push((a+256).toString(16).substr(1));a.s(["default",0,function(a,d=0){let e=(c[a[d+0]]+c[a[d+1]]+c[a[d+2]]+c[a[d+3]]+"-"+c[a[d+4]]+c[a[d+5]]+"-"+c[a[d+6]]+c[a[d+7]]+"-"+c[a[d+8]]+c[a[d+9]]+"-"+c[a[d+10]]+c[a[d+11]]+c[a[d+12]]+c[a[d+13]]+c[a[d+14]]+c[a[d+15]]).toLowerCase();if(!(0,b.default)(e))throw TypeError("Stringified UUID is invalid");return e}])},643821,a=>{"use strict";var b=a.i(908712),c=a.i(135623);a.s(["default",0,function(a,d,e){let f=(a=a||{}).random||(a.rng||b.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,d){e=e||0;for(let a=0;a<16;++a)d[e+a]=f[a];return d}return(0,c.default)(f)}])},165609,379547,a=>{"use strict";var b=a.i(266297),c=a.i(250945),d=a.i(4905);async function e(a,{chain:b}){let{id:c,name:e,nativeCurrency:f,rpcUrls:g,blockExplorers:h}=b;await a.request({method:"wallet_addEthereumChain",params:[{chainId:(0,d.numberToHex)(c),chainName:e,nativeCurrency:f,rpcUrls:g.default.http,blockExplorerUrls:h?Object.values(h).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}var f=a.i(752513),g=a.i(510130),h=a.i(243978);async function i(a){return a.account?.type==="local"?[a.account.address]:(await a.request({method:"eth_accounts"},{dedupe:!0})).map(a=>(0,h.checksumAddress)(a))}var j=a.i(478585),k=a.i(416778);async function l(a,b={}){let{account:c=a.account,chainId:e}=b,f=c?(0,k.parseAccount)(c):void 0,g=e?[f?.address,[(0,d.numberToHex)(e)]]:[f?.address],h=await a.request({method:"wallet_getCapabilities",params:g}),i={};for(let[a,b]of Object.entries(h))for(let[c,d]of(i[Number(a)]={},Object.entries(b)))"addSubAccount"===c&&(c="unstable_addSubAccount"),i[Number(a)][c]=d;return"number"==typeof e?i[e]:i}async function m(a){return await a.request({method:"wallet_getPermissions"},{dedupe:!0})}var n=a.i(387013),o=a.i(979469);async function p(a){return(await a.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(a=>(0,h.getAddress)(a))}async function q(a,b){return a.request({method:"wallet_requestPermissions",params:[b]},{retryCount:0})}var r=a.i(36171),s=a.i(513120);async function t(a,b){let{chain:c=a.chain}=b,d=b.timeout??Math.max((c?.blockTime??0)*3,5e3),e=await (0,r.sendCalls)(a,b);return await (0,s.waitForCallsStatus)(a,{...b,id:e.id,timeout:d})}var u=a.i(831313),v=a.i(737830),w=a.i(965766),x=a.i(485430),y=a.i(322301),z=a.i(19422),A=a.i(119734),B=a.i(380402),C=a.i(168873),D=a.i(221330),E=a.i(790022),F=a.i(139407),G=a.i(943228),H=a.i(879578);let I=new F.LruMap(128);async function J(a,b){let{account:d=a.account,chain:e=a.chain,accessList:f,authorizationList:g,blobs:h,data:i,gas:j,gasPrice:l,maxFeePerBlobGas:m,maxFeePerGas:n,maxPriorityFeePerGas:p,nonce:q,pollingInterval:r,throwOnReceiptRevert:s,type:t,value:u,...F}=b,J=b.timeout??Math.max((e?.blockTime??0)*3,5e3);if(void 0===d)throw new w.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransactionSync"});let K=d?(0,k.parseAccount)(d):null;try{(0,G.assertRequest)(b);let d=await (async()=>b.to?b.to:null!==b.to&&g&&g.length>0?await (0,z.recoverAuthorizationAddress)({authorization:g[0]}).catch(()=>{throw new x.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(K?.type==="json-rpc"||null===K){let b;null!==e&&(b=await (0,E.getAction)(a,c.getChainId,"getChainId")({}),(0,A.assertCurrentChain)({currentChainId:b,chain:e}));let k=a.chain?.formatters?.transactionRequest?.format,o=(k||D.formatTransactionRequest)({...(0,C.extract)(F,{format:k}),accessList:f,account:K,authorizationList:g,blobs:h,chainId:b,data:i,gas:j,gasPrice:l,maxFeePerBlobGas:m,maxFeePerGas:n,maxPriorityFeePerGas:p,nonce:q,to:d,type:t,value:u},"sendTransaction"),v=I.get(a.uid),w=v?"wallet_sendTransaction":"eth_sendTransaction",x=await (async()=>{try{return await a.request({method:w,params:[o]},{retryCount:0})}catch(b){if(!1===v)throw b;if("InvalidInputRpcError"===b.name||"InvalidParamsRpcError"===b.name||"MethodNotFoundRpcError"===b.name||"MethodNotSupportedRpcError"===b.name)return await a.request({method:"wallet_sendTransaction",params:[o]},{retryCount:0}).then(b=>(I.set(a.uid,!0),b)).catch(c=>{if("MethodNotFoundRpcError"===c.name||"MethodNotSupportedRpcError"===c.name)throw I.set(a.uid,!1),b;throw c});throw b}})(),z=await (0,E.getAction)(a,H.waitForTransactionReceipt,"waitForTransactionReceipt")({checkReplacement:!1,hash:x,pollingInterval:r,timeout:J});if(s&&"reverted"===z.status)throw new y.TransactionReceiptRevertedError({receipt:z});return z}if(K?.type==="local"){let b=await (0,E.getAction)(a,o.prepareTransactionRequest,"prepareTransactionRequest")({account:K,accessList:f,authorizationList:g,blobs:h,chain:e,data:i,gas:j,gasPrice:l,maxFeePerBlobGas:m,maxFeePerGas:n,maxPriorityFeePerGas:p,nonce:q,nonceManager:K.nonceManager,parameters:[...o.defaultParameters,"sidecars"],type:t,value:u,...F,to:d}),c=e?.serializers?.transaction,k=await K.signTransaction(b,{serializer:c});return await (0,E.getAction)(a,v.sendRawTransactionSync,"sendRawTransactionSync")({serializedTransaction:k,throwOnReceiptRevert:s})}if(K?.type==="smart")throw new w.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new w.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransactionSync",type:K?.type})}catch(a){if(a instanceof w.AccountTypeNotSupportedError)throw a;throw(0,B.getTransactionError)(a,{...b,account:K,chain:b.chain||void 0})}}async function K(a,b){let{id:c}=b;await a.request({method:"wallet_showCallsStatus",params:[c]})}async function L(a,b){let{account:c=a.account}=b;if(!c)throw new w.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});let d=(0,k.parseAccount)(c);if(!d.signAuthorization)throw new w.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:d.type});let e=await (0,n.prepareAuthorization)(a,b);return d.signAuthorization(e)}var M=a.i(620994);async function N(a,b){let{account:e=a.account,chain:f=a.chain,...g}=b;if(!e)throw new w.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});let h=(0,k.parseAccount)(e);(0,G.assertRequest)({account:h,...b});let i=await (0,E.getAction)(a,c.getChainId,"getChainId")({});null!==f&&(0,A.assertCurrentChain)({currentChainId:i,chain:f});let j=f?.formatters||a.chain?.formatters,l=j?.transactionRequest?.format||D.formatTransactionRequest;return h.signTransaction?h.signTransaction({...g,chainId:i},{serializer:a.chain?.serializers?.transaction}):await a.request({method:"eth_signTransaction",params:[{...l({...g,account:h},"signTransaction"),chainId:(0,d.numberToHex)(i),from:h.address}]},{retryCount:0})}var O=a.i(353818);async function P(a,b){let{account:c=a.account,domain:d,message:e,primaryType:f}=b;if(!c)throw new w.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});let g=(0,k.parseAccount)(c),h={EIP712Domain:(0,O.getTypesForEIP712Domain)({domain:d}),...b.types};if((0,O.validateTypedData)({domain:d,message:e,primaryType:f,types:h}),g.signTypedData)return g.signTypedData({domain:d,message:e,primaryType:f,types:h});let i=(0,O.serializeTypedData)({domain:d,message:e,primaryType:f,types:h});return a.request({method:"eth_signTypedData_v4",params:[g.address,i]},{retryCount:0})}async function Q(a,{id:b}){await a.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,d.numberToHex)(b)}]},{retryCount:0})}async function R(a,b){return await a.request({method:"wallet_watchAsset",params:b},{retryCount:0})}var S=a.i(453217);async function T(a,b){return S.writeContract.internal(a,J,"sendTransactionSync",b)}function U(a){return{addChain:b=>e(a,b),deployContract:b=>(function(a,b){let{abi:c,args:d,bytecode:e,...h}=b,i=(0,f.encodeDeployData)({abi:c,args:d,bytecode:e});return(0,g.sendTransaction)(a,{...h,...h.authorizationList?{to:null}:{},data:i})})(a,b),getAddresses:()=>i(a),getCallsStatus:b=>(0,j.getCallsStatus)(a,b),getCapabilities:b=>l(a,b),getChainId:()=>(0,c.getChainId)(a),getPermissions:()=>m(a),prepareAuthorization:b=>(0,n.prepareAuthorization)(a,b),prepareTransactionRequest:b=>(0,o.prepareTransactionRequest)(a,b),requestAddresses:()=>p(a),requestPermissions:b=>q(a,b),sendCalls:b=>(0,r.sendCalls)(a,b),sendCallsSync:b=>t(a,b),sendRawTransaction:b=>(0,u.sendRawTransaction)(a,b),sendRawTransactionSync:b=>(0,v.sendRawTransactionSync)(a,b),sendTransaction:b=>(0,g.sendTransaction)(a,b),sendTransactionSync:b=>J(a,b),showCallsStatus:b=>K(a,b),signAuthorization:b=>L(a,b),signMessage:b=>(0,M.signMessage)(a,b),signTransaction:b=>N(a,b),signTypedData:b=>P(a,b),switchChain:b=>Q(a,b),waitForCallsStatus:b=>(0,s.waitForCallsStatus)(a,b),watchAsset:b=>R(a,b),writeContract:b=>(0,S.writeContract)(a,b),writeContractSync:b=>T(a,b)}}function V(a){let{key:c="wallet",name:d="Wallet Client",transport:e}=a;return(0,b.createClient)({...a,key:c,name:d,transport:e,type:"walletClient"}).extend(U)}a.s(["walletActions",()=>U],379547),a.s(["createWalletClient",()=>V],165609)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__de5f3f77._.js.map