module.exports=[50516,a=>{"use strict";let b={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:("undefined"!=typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:"undefined"!=typeof process&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};a.s(["ConstantsUtil",0,b])},325163,a=>{"use strict";var b=a.i(50516);let c=("undefined"!=typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",d={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:c,SECURE_SITE_DASHBOARD:`${c}/dashboard`,SECURE_SITE_FAVICON:`${c}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USDâ‚®0"]},BALANCE_SUPPORTED_CHAINS:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[b.ConstantsUtil.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}};a.s(["ConstantsUtil",0,d,"MELD_PUBLIC_KEY",0,"WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU","ONRAMP_PROVIDERS",0,[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}]])},976365,a=>{"use strict";function b(a){if(!a)throw Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${a}:connected_connector_id`}function c(){return!1}a.s(["SafeLocalStorage",0,{setItem(a,b){},getItem(a){},removeItem(a){},clear(){}},"SafeLocalStorageKeys",0,{WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version"},"getSafeConnectorIdKey",()=>b,"isSafe",()=>c])},203479,961081,a=>{"use strict";var b=a.i(50516),c=a.i(325163),d=a.i(976365);let e={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired:(a,b)=>Date.now()-a>b,getActiveNetworkProps(){let a=e.getActiveNamespace(),b=e.getActiveCaipNetworkId(),c=b?b.split(":")[1]:void 0;return{namespace:a,caipNetworkId:b,chainId:c?isNaN(Number(c))?c:Number(c):void 0}},setWalletConnectDeepLink({name:a,href:b}){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.DEEPLINK_CHOICE,JSON.stringify({href:b,name:a}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.DEEPLINK_CHOICE);if(a)return JSON.parse(a)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ACTIVE_NAMESPACE,a)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID,a),e.setActiveNamespace(a.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(a){try{let b=(0,d.getSafeConnectorIdKey)(a);d.SafeLocalStorage.removeItem(b)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(a){try{let b=e.getRecentWallets();b.find(b=>b.id===a.id)||(b.unshift(a),b.length>2&&b.pop(),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.RECENT_WALLETS,JSON.stringify(b)),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.RECENT_WALLET,JSON.stringify(a)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.RECENT_WALLETS);return a?JSON.parse(a):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.RECENT_WALLET);return a?JSON.parse(a):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(a,b){try{let c=(0,d.getSafeConnectorIdKey)(a);d.SafeLocalStorage.setItem(c,b)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(a){if(a)try{let b=(0,d.getSafeConnectorIdKey)(a);return d.SafeLocalStorage.getItem(b)}catch(b){console.info("Unable to get connected connector id in namespace",a)}},setConnectedSocialProvider(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL,a)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);return a?.split(":")?.[1]},setConnectionStatus(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTION_STATUS,a)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTED_NAMESPACES);if(!a?.length)return[];return a.split(",")}catch{return[]}},setConnectedNamespaces(a){try{let b=Array.from(new Set(a));d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTED_NAMESPACES,b.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(a){try{let b=e.getConnectedNamespaces();b.includes(a)||(b.push(a),e.setConnectedNamespaces(b))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(a){try{let b=e.getConnectedNamespaces(),c=b.indexOf(a);c>-1&&(b.splice(c,1),e.setConnectedNamespaces(b))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER,a)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get balance cache")}return a},removeAddressFromBalanceCache(a){try{let b=e.getBalanceCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove address from balance cache",a)}},getBalanceCacheForCaipAddress(a){try{let b=e.getBalanceCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.portfolio))return b.balance;e.removeAddressFromBalanceCache(a)}catch{console.info("Unable to get balance cache for address",a)}},updateBalanceCache(a){try{let b=e.getBalanceCache();b[a.caipAddress]=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify(b))}catch{console.info("Unable to update balance cache",a)}},getNativeBalanceCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get balance cache")}return a},removeAddressFromNativeBalanceCache(a){try{let b=e.getBalanceCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove address from balance cache",a)}},getNativeBalanceCacheForCaipAddress(a){try{let b=e.getNativeBalanceCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.nativeBalance))return b;console.info("Discarding cache for address",a),e.removeAddressFromBalanceCache(a)}catch{console.info("Unable to get balance cache for address",a)}},updateNativeBalanceCache(a){try{let b=e.getNativeBalanceCache();b[a.caipAddress]=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify(b))}catch{console.info("Unable to update balance cache",a)}},getEnsCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ENS_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get ens name cache")}return a},getEnsFromCacheForAddress(a){try{let b=e.getEnsCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.ens))return b.ens;e.removeEnsFromCache(a)}catch{console.info("Unable to get ens name from cache",a)}},updateEnsCache(a){try{let b=e.getEnsCache();b[a.address]=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify(b))}catch{console.info("Unable to update ens name cache",a)}},removeEnsFromCache(a){try{let b=e.getEnsCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove ens name from cache",a)}},getIdentityCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.IDENTITY_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get identity cache")}return a},getIdentityFromCacheForAddress(a){try{let b=e.getIdentityCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.identity))return b.identity;e.removeIdentityFromCache(a)}catch{console.info("Unable to get identity from cache",a)}},updateIdentityCache(a){try{let b=e.getIdentityCache();b[a.address]={identity:a.identity,timestamp:a.timestamp},d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify(b))}catch{console.info("Unable to update identity cache",a)}},removeIdentityFromCache(a){try{let b=e.getIdentityCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove identity from cache",a)}},clearAddressCache(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.ENS_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.IDENTITY_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES,JSON.stringify(a))}catch{console.info("Unable to set preferred account types",a)}},getPreferredAccountTypes(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);if(!a)return{};return JSON.parse(a)}catch{console.info("Unable to get preferred account types")}return{}},setConnections(a,c){try{let f=e.getConnections(),g=f[c]??[],h=new Map;for(let a of g)h.set(a.connectorId,{...a});for(let c of a){let a=h.get(c.connectorId),d=c.connectorId===b.ConstantsUtil.CONNECTOR_ID.AUTH;if(a&&!d){let b=new Set(a.accounts.map(a=>a.address.toLowerCase())),d=c.accounts.filter(a=>!b.has(a.address.toLowerCase()));a.accounts.push(...d)}else h.set(c.connectorId,{...c})}let i={...f,[c]:Array.from(h.values())};d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify(i))}catch(a){console.error("Unable to sync connections to storage",a)}},getConnections(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTIONS);if(!a)return{};return JSON.parse(a)}catch(a){return console.error("Unable to get connections from storage",a),{}}},deleteAddressFromConnection({connectorId:a,address:b,namespace:c}){try{let f=e.getConnections(),g=f[c]??[],h=new Map(g.map(a=>[a.connectorId,a])),i=h.get(a);if(i){let c=i.accounts.filter(a=>a.address.toLowerCase()!==b.toLowerCase());0===c.length?h.delete(a):h.set(a,{...i,accounts:i.accounts.filter(a=>a.address.toLowerCase()!==b.toLowerCase())})}d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify({...f,[c]:Array.from(h.values())}))}catch{console.error(`Unable to remove address "${b}" from connector "${a}" in namespace "${c}"`)}},getDisconnectedConnectorIds(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);if(!a)return{};return JSON.parse(a)}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(a,b){try{let c=e.getDisconnectedConnectorIds(),f=c[b]??[];f.push(a),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...c,[b]:Array.from(new Set(f))}))}catch{console.error(`Unable to set disconnected connector id "${a}" for namespace "${b}"`)}},removeDisconnectedConnectorId(a,b){try{let c=e.getDisconnectedConnectorIds(),f=c[b]??[];f=f.filter(b=>b.toLowerCase()!==a.toLowerCase()),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...c,[b]:Array.from(new Set(f))}))}catch{console.error(`Unable to remove disconnected connector id "${a}" for namespace "${b}"`)}},isConnectorDisconnected(a,b){try{return(e.getDisconnectedConnectorIds()[b]??[]).some(b=>b.toLowerCase()===a.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${a}" for namespace "${b}"`)}return!1},getTransactionsCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);return a?JSON.parse(a):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:a,chainId:b=""}){try{let c=e.getTransactionsCache(),d=c[a]?.[b];if(d&&!this.isCacheExpired(d.timestamp,this.cacheExpiry.transactionsHistory))return d.transactions;e.removeTransactionsCache({address:a,chainId:b})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:a,chainId:b="",timestamp:c,transactions:f}){try{let g=e.getTransactionsCache();g[a]={...g[a],[b]:{timestamp:c,transactions:f}},d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(g))}catch{console.info("Unable to update transactions cache",{address:a,chainId:b,timestamp:c,transactions:f})}},removeTransactionsCache({address:a,chainId:b}){try{let c=e.getTransactionsCache(),{[b]:f,...g}=c?.[a]||{};d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...c,[a]:g}))}catch{console.info("Unable to remove transactions cache",{address:a,chainId:b})}},getTokenPriceCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.TOKEN_PRICE_CACHE);return a?JSON.parse(a):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(a){try{let b=e.getTokenPriceCache()[a.join(",")];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.tokenPrice))return b.tokenPrice;e.removeTokenPriceCache(a)}catch{console.info("Unable to get token price cache for addresses",a)}},updateTokenPriceCache(a){try{let b=e.getTokenPriceCache();b[a.addresses.join(",")]={timestamp:a.timestamp,tokenPrice:a.tokenPrice},d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify(b))}catch{console.info("Unable to update token price cache",a)}},removeTokenPriceCache(a){try{let b=e.getTokenPriceCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify({...b,[a.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",a)}},getLatestAppKitVersion(){try{let a=this.getLatestAppKitVersionCache(),b=a?.version;if(b&&!this.isCacheExpired(a.timestamp,this.cacheExpiry.latestAppKitVersion))return b}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.LATEST_APPKIT_VERSION);return a?JSON.parse(a):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(a){try{let b=e.getLatestAppKitVersionCache();b.timestamp=a.timestamp,b.version=a.version,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.LATEST_APPKIT_VERSION,JSON.stringify(b))}catch{console.info("Unable to update latest AppKit version on local storage",a)}}};a.s(["StorageUtil",0,e],961081);let f={isMobile(){return!!this.isClient()&&!!(window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(a,b="")=>a?.caipNetworkId.toLocaleLowerCase().includes(b.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;let a=window?.navigator.userAgent.toLowerCase();return f.isMobile()&&a.includes("android")},isIos(){if(!this.isMobile())return!1;let a=window?.navigator.userAgent.toLowerCase();return a.includes("iphone")||a.includes("ipad")},isSafari(){return!!this.isClient()&&(window?.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>!1,isPairingExpired:a=>!a||a-Date.now()<=c.ConstantsUtil.TEN_SEC_MS,isAllowedRetry:(a,b=c.ConstantsUtil.ONE_SEC_MS)=>Date.now()-a>=b,copyToClopboard(a){navigator.clipboard.writeText(a)},isIframe(){try{return window?.self!==window?.top}catch(a){return!1}},isSafeApp(){if(f.isClient()&&window.self!==window.top)try{let a=window?.location?.ancestorOrigins?.[0];if(a){let b=new URL(a),c=new URL("https://app.safe.global");return b.hostname===c.hostname}}catch{}return!1},getPairingExpiry:()=>Date.now()+c.ConstantsUtil.FOUR_MINUTES_MS,getNetworkId:a=>a?.split(":")[1],getPlainAddress:a=>a?.split(":")[2],wait:async a=>new Promise(b=>{setTimeout(b,a)}),debounce(a,b=500){let c;return(...d)=>{c&&clearTimeout(c),c=setTimeout(function(){a(...d)},b)}},isHttpUrl:a=>a.startsWith("http://")||a.startsWith("https://"),formatNativeUrl(a,b,c=null){if(f.isHttpUrl(a))return this.formatUniversalUrl(a,b);let d=a,e=c;d.includes("://")||(d=a.replaceAll("/","").replaceAll(":",""),d=`${d}://`),d.endsWith("/")||(d=`${d}/`),e&&!e?.endsWith("/")&&(e=`${e}/`),this.isTelegram()&&this.isAndroid()&&(b=encodeURIComponent(b));let g=encodeURIComponent(b);return{redirect:`${d}wc?uri=${g}`,redirectUniversalLink:e?`${e}wc?uri=${g}`:void 0,href:d}},formatUniversalUrl(a,b){if(!f.isHttpUrl(a))return this.formatNativeUrl(a,b);let c=a;c.endsWith("/")||(c=`${c}/`);let d=encodeURIComponent(b);return{redirect:`${c}wc?uri=${d}`,href:c}},getOpenTargetForPlatform(a){return"popupWindow"===a?a:this.isTelegram()?e.getTelegramSocialProvider()?"_top":"_blank":a},openHref(a,b,c){window?.open(a,this.getOpenTargetForPlatform(b),c||"noreferrer noopener")},returnOpenHref(a,b,c){return window?.open(a,this.getOpenTargetForPlatform(b),c||"noreferrer noopener")},isTelegram:()=>!1,isPWA:()=>!1,preloadImage:async a=>Promise.race([new Promise((b,c)=>{let d=new Image;d.onload=b,d.onerror=c,d.crossOrigin="anonymous",d.src=a}),f.wait(2e3)]),parseBalance(a,b){let c="0.000";if("string"==typeof a){let b=Number(a);if(!isNaN(b)){let a=(Math.floor(1e3*b)/1e3).toFixed(3);a&&(c=a)}}let[d,e]=c.split("."),f=d||"0",g=e||"000";return{formattedText:`${f}.${g}${b?` ${b}`:""}`,value:f,decimals:g,symbol:b}},getApiUrl:()=>b.ConstantsUtil.W3M_API_URL,getBlockchainApiUrl:()=>b.ConstantsUtil.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>b.ConstantsUtil.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,a=>{let b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)}),parseError:a=>"string"==typeof a?a:"string"==typeof a?.issues?.[0]?.message?a.issues[0].message:a instanceof Error?a.message:"Unknown error",sortRequestedNetworks(a,b=[]){let c={};return b&&a&&(a.forEach((a,b)=>{c[a]=b}),b.sort((a,b)=>{let d=c[a.id],e=c[b.id];return void 0!==d&&void 0!==e?d-e:void 0!==d?-1:1*(void 0!==e)})),b},calculateBalance(a){let b=0;for(let c of a)b+=c.value??0;return b},formatTokenBalance(a){let[b,c]=a.toFixed(2).split(".");return{dollars:b,pennies:c}},isAddress(a,b="eip155"){switch(b){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(a)&&(/^(?:0x)?[0-9a-f]{40}$/iu.test(a)||/^(?:0x)?[0-9A-F]{40}$/iu.test(a)))return!0;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(a);default:return!1}},uniqueBy(a,b){let c=new Set;return a.filter(a=>{let d=a[b];return!c.has(d)&&(c.add(d),!0)})},generateSdkVersion(a,b,d){let e=0===a.length?c.ConstantsUtil.ADAPTER_TYPES.UNIVERSAL:a.map(a=>a.adapterType).join(",");return`${b}-${e}-${d}`},createAccount:(a,b,c,d,e)=>({namespace:a,address:b,type:c,publicKey:d,path:e}),isCaipAddress(a){if("string"!=typeof a)return!1;let c=a.split(":"),d=c[0];return 3===c.filter(Boolean).length&&d in b.ConstantsUtil.CHAIN_NAME_MAP},getAccount:a=>a?"string"==typeof a?{address:a,chainId:void 0}:{address:a.address,chainId:a.chainId}:{address:void 0,chainId:void 0},isMac(){let a=window?.navigator.userAgent.toLowerCase();return a.includes("macintosh")&&!a.includes("safari")},formatTelegramSocialLoginUrl(a){let b=`--${encodeURIComponent(window?.location.href)}`,c="state=";if("auth.magic.link"===new URL(a).host){let d="provider_authorization_url=",e=a.substring(a.indexOf(d)+d.length),f=this.injectIntoUrl(decodeURIComponent(e),c,b);return a.replace(e,encodeURIComponent(f))}return this.injectIntoUrl(a,c,b)},injectIntoUrl(a,b,c){let d=a.indexOf(b);if(-1===d)throw Error(`${b} parameter not found in the URL: ${a}`);let e=a.indexOf("&",d),f=b.length,g=-1!==e?e:a.length;return a.substring(0,d+f)+(a.substring(d+f,g)+c)+a.substring(e)}};a.s(["CoreHelperUtil",0,f],203479)},791477,a=>{"use strict";var b=a.i(511854);function c(a,c,d,e){let f=a[c];return(0,b.subscribe)(a,()=>{let b=a[c];Object.is(f,b)||d(f=b)},e)}Symbol();let{proxyStateMap:d,snapCache:e}=(0,b.unstable_getInternalStates)();function f(a){let c=[],f=0,g=new Map,h=new WeakMap,i=a=>h.get(a)||g;if(a){if("function"!=typeof a[Symbol.iterator])throw TypeError("proxyMap:\n	initial state must be iterable\n		tip: structure should be [[key, value]]");for(let[b,d]of a)g.set(b,f),c[f++]=d}let j={data:c,index:f,epoch:0,get size(){return d.has(this)||(()=>{let a=e.get(j),b=null==a?void 0:a[1];if(b&&!h.has(b)){let a=new Map(g);h.set(b,a)}})(),i(this).size},get(a){let b=i(this).get(a);return void 0===b?void this.epoch:this.data[b]},has(a){let b=i(this);return this.epoch,b.has(a)},set(a,b){if(!d.has(this))throw Error("Cannot perform mutations on a snapshot");let c=g.get(a);return void 0===c?(g.set(a,this.index),this.data[this.index++]=b):this.data[c]=b,this.epoch++,this},delete(a){if(!d.has(this))throw Error("Cannot perform mutations on a snapshot");let b=g.get(a);return void 0!==b&&(delete this.data[b],g.delete(a),this.epoch++,!0)},clear(){if(!d.has(this))throw Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,g.clear()},forEach(a){this.epoch,i(this).forEach((b,c)=>{a(this.data[b],c,this)})},*entries(){for(let[a,b]of(this.epoch,i(this)))yield[a,this.data[b]]},*keys(){for(let a of(this.epoch,i(this).keys()))yield a},*values(){for(let a of(this.epoch,i(this).values()))yield this.data[a]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},k=(0,b.proxy)(j);return Object.defineProperties(k,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(k),k}let{proxyStateMap:g,snapCache:h}=(0,b.unstable_getInternalStates)();a.s(["proxyMap",()=>f,"subscribeKey",()=>c])},364960,a=>{"use strict";async function b(...a){let c=await fetch(...a);if(!c.ok)throw Error(`HTTP status code: ${c.status}`,{cause:c});return c}class c{constructor({baseUrl:a,clientId:b}){this.baseUrl=a,this.clientId=b}async get({headers:a,signal:c,cache:d,...e}){let f=this.createUrl(e);return(await b(f,{method:"GET",headers:a,signal:c,cache:d})).json()}async getBlob({headers:a,signal:c,...d}){let e=this.createUrl(d);return(await b(e,{method:"GET",headers:a,signal:c})).blob()}async post({body:a,headers:c,signal:d,...e}){let f=this.createUrl(e);return(await b(f,{method:"POST",headers:c,body:a?JSON.stringify(a):void 0,signal:d})).json()}async put({body:a,headers:c,signal:d,...e}){let f=this.createUrl(e);return(await b(f,{method:"PUT",headers:c,body:a?JSON.stringify(a):void 0,signal:d})).json()}async delete({body:a,headers:c,signal:d,...e}){let f=this.createUrl(e);return(await b(f,{method:"DELETE",headers:c,body:a?JSON.stringify(a):void 0,signal:d})).json()}createUrl({path:a,params:b}){let c=new URL(a,this.baseUrl);return b&&Object.entries(b).forEach(([a,b])=>{b&&c.searchParams.append(a,b)}),this.clientId&&c.searchParams.append("clientId",this.clientId),c}sendBeacon({body:a,...b}){let c=this.createUrl(b);return navigator.sendBeacon(c.toString(),a?JSON.stringify(a):void 0)}}a.s(["FetchUtil",()=>c])},196283,a=>{"use strict";var b=a.i(511854),c=a.i(791477),d=a.i(203479),e=a.i(364960);let f=Object.freeze({enabled:!0,events:[]});new e.FetchUtil({baseUrl:d.CoreHelperUtil.getAnalyticsUrl(),clientId:null});let g=(0,b.proxy)({...f}),h={state:g,subscribeKey:(a,b)=>(0,c.subscribeKey)(g,a,b),async sendError(a,b){if(!g.enabled)return;let c=Date.now();if(g.events.filter(a=>c-new Date(a.properties.timestamp||"").getTime()<6e4).length>=5)return;let d={type:"error",event:b,properties:{errorType:a.name,errorMessage:a.message,stackTrace:a.stack,timestamp:new Date().toISOString()}};g.events.push(d);try{return}catch{}},enable(){g.enabled=!0},disable(){g.enabled=!1},clearEvents(){g.events=[]}};class i extends Error{constructor(a,b,c){super(a),this.originalName="AppKitError",this.name="AppKitError",this.category=b,this.originalError=c,c&&c instanceof Error&&(this.originalName=c.name),Object.setPrototypeOf(this,i.prototype);let d=!1;if(c instanceof Error&&"string"==typeof c.stack&&c.stack){const a=c.stack,b=a.indexOf("\n");if(b>-1){const c=a.substring(b+1);this.stack=`${this.name}: ${this.message}
${c}`,d=!0}}!d&&(Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function j(a,b){let c="";try{c=a instanceof Error?a.message:"string"==typeof a?a:"object"==typeof a&&null!==a?0===Object.keys(a).length?"Unknown error":a?.message||JSON.stringify(a):String(a)}catch(a){c="Unknown error",console.error("Error parsing error message",a)}let d=a instanceof i?a:new i(c,b,a);throw h.sendError(d,d.category),d}function k(a,b="INTERNAL_SDK_ERROR"){let c={};return Object.keys(a).forEach(d=>{let e=a[d];if("function"==typeof e){let a=e;a="AsyncFunction"===e.constructor.name?async(...a)=>{try{return await e(...a)}catch(a){return j(a,b)}}:(...a)=>{try{return e(...a)}catch(a){return j(a,b)}},c[d]=a}else c[d]=e}),c}a.s(["AppKitError",()=>i,"withErrorBoundary",()=>k],196283)},351428,291832,a=>{"use strict";a.s(["OptionsController",()=>h],351428);var b=a.i(511854),c=a.i(791477),d=a.i(325163),e=a.i(203479);a.s(["OptionsUtil",()=>f],291832);let f={getFeatureValue(a,b){let c=b?.[a];return void 0===c?d.ConstantsUtil.DEFAULT_FEATURES[a]:c},filterSocialsByPlatform(a){if(!a||!a.length)return a;let b=a;return e.CoreHelperUtil.isTelegram()&&(e.CoreHelperUtil.isIos()&&(b=b.filter(a=>"google"!==a)),e.CoreHelperUtil.isMac()&&(b=b.filter(a=>"x"!==a)),e.CoreHelperUtil.isAndroid()&&(b=b.filter(a=>!["facebook","x"].includes(a)))),e.CoreHelperUtil.isMobile()&&(b=b.filter(a=>"facebook"!==a)),b},isSocialsEnabled:()=>Array.isArray(h.state.features?.socials)&&h.state.features?.socials.length>0||Array.isArray(h.state.remoteFeatures?.socials)&&h.state.remoteFeatures?.socials.length>0,isEmailEnabled:()=>!!(h.state.features?.email||h.state.remoteFeatures?.email)},g=(0,b.proxy)({features:d.ConstantsUtil.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:d.ConstantsUtil.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),h={state:g,subscribeKey:(a,b)=>(0,c.subscribeKey)(g,a,b),setOptions(a){Object.assign(g,a)},setRemoteFeatures(a){if(!a)return;let b={...g.remoteFeatures,...a};g.remoteFeatures=b,g.remoteFeatures?.socials&&(g.remoteFeatures.socials=f.filterSocialsByPlatform(g.remoteFeatures.socials)),g.features?.pay&&(g.remoteFeatures.email=!1,g.remoteFeatures.socials=!1)},setFeatures(a){if(!a)return;g.features||(g.features=d.ConstantsUtil.DEFAULT_FEATURES);let b={...g.features,...a};g.features=b,g.features?.pay&&g.remoteFeatures&&(g.remoteFeatures.email=!1,g.remoteFeatures.socials=!1)},setProjectId(a){g.projectId=a},setCustomRpcUrls(a){g.customRpcUrls=a},setAllWallets(a){g.allWallets=a},setIncludeWalletIds(a){g.includeWalletIds=a},setExcludeWalletIds(a){g.excludeWalletIds=a},setFeaturedWalletIds(a){g.featuredWalletIds=a},setTokens(a){g.tokens=a},setTermsConditionsUrl(a){g.termsConditionsUrl=a},setPrivacyPolicyUrl(a){g.privacyPolicyUrl=a},setCustomWallets(a){g.customWallets=a},setIsSiweEnabled(a){g.isSiweEnabled=a},setIsUniversalProvider(a){g.isUniversalProvider=a},setSdkVersion(a){g.sdkVersion=a},setMetadata(a){g.metadata=a},setDisableAppend(a){g.disableAppend=a},setEIP6963Enabled(a){g.enableEIP6963=a},setDebug(a){g.debug=a},setEnableWalletGuide(a){g.enableWalletGuide=a},setEnableAuthLogger(a){g.enableAuthLogger=a},setEnableWallets(a){g.enableWallets=a},setPreferUniversalLinks(a){g.experimental_preferUniversalLinks=a},setSIWX(a){if(a)for(let[b,c]of Object.entries(d.ConstantsUtil.SIWX_DEFAULTS))a[b]??=c;g.siwx=a},setConnectMethodsOrder(a){g.features={...g.features,connectMethodsOrder:a}},setWalletFeaturesOrder(a){g.features={...g.features,walletFeaturesOrder:a}},setSocialsOrder(a){g.remoteFeatures={...g.remoteFeatures,socials:a}},setCollapseWallets(a){g.features={...g.features,collapseWallets:a}},setEnableEmbedded(a){g.enableEmbedded=a},setAllowUnsupportedChain(a){g.allowUnsupportedChain=a},setManualWCControl(a){g.manualWCControl=a},setEnableNetworkSwitch(a){g.enableNetworkSwitch=a},setEnableMobileFullScreen(a){g.enableMobileFullScreen=e.CoreHelperUtil.isMobile()&&a},setEnableReconnect(a){g.enableReconnect=a},setCoinbasePreference(a){g.coinbasePreference=a},setDefaultAccountTypes(a={}){Object.entries(a).forEach(([a,b])=>{b&&(g.defaultAccountTypes[a]=b)})},setUniversalProviderConfigOverride(a){g.universalProviderConfigOverride=a},getUniversalProviderConfigOverride:()=>g.universalProviderConfigOverride,getSnapshot:()=>(0,b.snapshot)(g)}},314531,a=>{"use strict";var b=a.i(511854),c=a.i(791477),d=a.i(196283);let e=(0,b.proxy)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),f=(0,d.withErrorBoundary)({state:e,subscribeNetworkImages:a=>(0,b.subscribe)(e.networkImages,()=>a(e.networkImages)),subscribeKey:(a,b)=>(0,c.subscribeKey)(e,a,b),subscribe:a=>(0,b.subscribe)(e,()=>a(e)),setWalletImage(a,b){e.walletImages[a]=b},setNetworkImage(a,b){e.networkImages[a]=b},setChainImage(a,b){e.chainImages[a]=b},setConnectorImage(a,b){e.connectorImages={...e.connectorImages,[a]:b}},setTokenImage(a,b){e.tokenImages[a]=b},setCurrencyImage(a,b){e.currencyImages[a]=b}});a.s(["AssetController",0,f])},341474,a=>{"use strict";var b=a.i(50516);a.s(["AVAILABLE_NAMESPACES",0,["eip155","solana","polkadot","bip122","cosmos","sui","stacks"],"NetworkUtil",0,{caipNetworkIdToNumber:a=>a?Number(a.split(":")[1]):void 0,parseEvmChainId(a){return"string"==typeof a?this.caipNetworkIdToNumber(a):a},getNetworksByNamespace:(a,b)=>a?.filter(a=>a.chainNamespace===b)||[],getFirstNetworkByNamespace(a,b){return this.getNetworksByNamespace(a,b)[0]},getNetworkNameByCaipNetworkId(a,c){if(!c)return;let d=a.find(a=>a.caipNetworkId===c);if(d)return d.name;let[e]=c.split(":");return b.ConstantsUtil.CHAIN_NAME_MAP?.[e]||void 0}}])},577248,a=>{"use strict";a.s(["ParseUtil",0,{validateCaipAddress(a){if(a.split(":")?.length!==3)throw Error("Invalid CAIP Address");return a},parseCaipAddress(a){let b=a.split(":");if(3!==b.length)throw Error(`Invalid CAIP-10 address: ${a}`);let[c,d,e]=b;if(!c||!d||!e)throw Error(`Invalid CAIP-10 address: ${a}`);return{chainNamespace:c,chainId:d,address:e}},parseCaipNetworkId(a){let b=a.split(":");if(2!==b.length)throw Error(`Invalid CAIP-2 network id: ${a}`);let[c,d]=b;if(!c||!d)throw Error(`Invalid CAIP-2 network id: ${a}`);return{chainNamespace:c,chainId:d}}}])},230158,a=>{"use strict";let b=("undefined"!=typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||"https://secure.walletconnect.org/sdk",c=("undefined"!=typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",d=("undefined"!=typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4";a.s(["DEFAULT_LOG_LEVEL",0,c,"SECURE_SITE_SDK",0,b,"SECURE_SITE_SDK_VERSION",0,d,"W3mFrameConstants",0,{APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},"W3mFrameRpcConstants",0,{SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}])},410760,929278,a=>{"use strict";a.s(["W3mFrameStorage",()=>f],410760);var b=a.i(230158);a.s(["W3mFrameHelpers",()=>e],929278);let c=/^0x(?:[A-Fa-f0-9]{64})$/u,d=/^0x(?:[a-fA-F0-9]{62,})$/u,e={checkIfAllowedToTriggerEmail(){let a=f.get(b.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(a){let b=Date.now()-Number(a);if(b<3e4){let a=Math.ceil((3e4-b)/1e3);throw Error(`Please try again after ${a} seconds`)}}},getTimeToNextEmailLogin(){let a=f.get(b.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(a){let b=Date.now()-Number(a);if(b<3e4)return Math.ceil((3e4-b)/1e3)}return 0},checkIfRequestExists:a=>b.W3mFrameRpcConstants.NOT_SAFE_RPC_METHODS.includes(a.method)||b.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(a.method),getResponseType:a=>"string"==typeof a&&(a?.match(c)||a?.match(d))?b.W3mFrameConstants.RPC_RESPONSE_TYPE_TX:b.W3mFrameConstants.RPC_RESPONSE_TYPE_OBJECT,checkIfRequestIsSafe:a=>b.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(a.method),isClient:!1},f={set(a,c){e.isClient&&localStorage.setItem(`${b.W3mFrameConstants.STORAGE_KEY}${a}`,c)},get:a=>e.isClient?localStorage.getItem(`${b.W3mFrameConstants.STORAGE_KEY}${a}`):null,delete(a,c){e.isClient&&(c?localStorage.removeItem(a):localStorage.removeItem(`${b.W3mFrameConstants.STORAGE_KEY}${a}`))}}},175787,848800,a=>{"use strict";a.s(["BlockchainApiController",()=>p],175787);var b=a.i(511854),c=a.i(325163),d=a.i(203479),e=a.i(364960),f=a.i(961081),g=a.i(490610),h=a.i(351428),i=a.i(791477);let j=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),k=(0,b.proxy)({...j}),l={state:k,subscribeKey:(a,b)=>(0,i.subscribeKey)(k,a,b),showLoading(a,b={}){this._showMessage({message:a,variant:"loading",...b})},showSuccess(a){this._showMessage({message:a,variant:"success"})},showSvg(a,b){this._showMessage({message:a,svg:b})},showError(a){let b=d.CoreHelperUtil.parseError(a);this._showMessage({message:b,variant:"error"})},hide(){k.message=j.message,k.variant=j.variant,k.svg=j.svg,k.open=j.open,k.autoClose=j.autoClose},_showMessage({message:a,svg:b,variant:c="success",autoClose:d=j.autoClose}){k.open?(k.open=!1,setTimeout(()=>{k.message=a,k.variant=c,k.svg=b,k.open=!0,k.autoClose=d},150)):(k.message=a,k.variant=c,k.svg=b,k.open=!0,k.autoClose=d)}};a.s(["SnackController",0,l],848800);let m={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},n=d.CoreHelperUtil.getBlockchainApiUrl(),o=(0,b.proxy)({clientId:null,api:new e.FetchUtil({baseUrl:n,clientId:null}),supportedChains:{http:[],ws:[]}}),p={state:o,async get(a){let{st:b,sv:c}=p.getSdkProperties(),d=h.OptionsController.state.projectId,e={...a.params||{},st:b,sv:c,projectId:d};return o.api.get({...a,params:e})},getSdkProperties(){let{sdkType:a,sdkVersion:b}=h.OptionsController.state;return{st:a||"unknown",sv:b||"unknown"}},async isNetworkSupported(a){if(!a)return!1;try{o.supportedChains.http.length||await p.getSupportedNetworks()}catch(a){return!1}return o.supportedChains.http.includes(a)},async getSupportedNetworks(){try{let a=await p.get({path:"v1/supported-chains"});return o.supportedChains=a,a}catch{return o.supportedChains}},async fetchIdentity({address:a}){let b=f.StorageUtil.getIdentityFromCacheForAddress(a);if(b)return b;let c=await p.get({path:`/v1/identity/${a}`,params:{sender:g.ChainController.state.activeCaipAddress?d.CoreHelperUtil.getPlainAddress(g.ChainController.state.activeCaipAddress):void 0}});return f.StorageUtil.updateIdentityCache({address:a,identity:c,timestamp:Date.now()}),c},async fetchTransactions({account:a,cursor:b,signal:c,cache:d,chainId:e}){if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let h=f.StorageUtil.getTransactionsCacheForAddress({address:a,chainId:e});if(h)return h;let i=await p.get({path:`/v1/account/${a}/history`,params:{cursor:b,chainId:e},signal:c,cache:d});return f.StorageUtil.updateTransactionsCache({address:a,chainId:e,timestamp:Date.now(),transactions:i}),i},fetchSwapQuote:async({amount:a,userAddress:b,from:c,to:d,gasPrice:e})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:a,userAddress:b,from:c,to:d,gasPrice:e}}):{quotes:[]},fetchSwapTokens:async({chainId:a})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:"/v1/convert/tokens",params:{chainId:a}}):{tokens:[]},async fetchTokenPrice({addresses:a}){if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};let b=f.StorageUtil.getTokenPriceCacheForAddresses(a);if(b)return b;let c=await o.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:a,projectId:h.OptionsController.state.projectId},headers:{"Content-Type":"application/json"}});return f.StorageUtil.updateTokenPriceCache({addresses:a,timestamp:Date.now(),tokenPrice:c}),c},fetchSwapAllowance:async({tokenAddress:a,userAddress:b})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:"/v1/convert/allowance",params:{tokenAddress:a,userAddress:b},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId:a}){let{st:b,sv:c}=p.getSdkProperties();if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Gas Price");return p.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:a,st:b,sv:c}})},async generateSwapCalldata({amount:a,from:b,to:d,userAddress:e,disableEstimate:f}){if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return o.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:a,eip155:{slippage:c.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE},projectId:h.OptionsController.state.projectId,from:b,to:d,userAddress:e,disableEstimate:f}})},async generateApproveCalldata({from:a,to:b,userAddress:c}){let{st:d,sv:e}=p.getSdkProperties();if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return p.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:c,from:a,to:b,st:d,sv:e}})},async getBalance(a,b,c){let{st:d,sv:e}=p.getSdkProperties();if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return l.showError("Token Balance Unavailable"),{balances:[]};let h=`${b}:${a}`,i=f.StorageUtil.getBalanceCacheForCaipAddress(h);if(i)return i;let j=await p.get({path:`/v1/account/${a}/balance`,params:{currency:"usd",chainId:b,forceUpdate:c,st:d,sv:e}});return f.StorageUtil.updateBalanceCache({caipAddress:h,balance:j,timestamp:Date.now()}),j},lookupEnsName:async a=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:`/v1/profile/account/${a}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},async reverseLookupEnsName({address:a}){if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return[];let b=g.ChainController.getAccountData()?.address;return p.get({path:`/v1/profile/reverse/${a}`,params:{sender:b,apiVersion:"2"}})},getEnsNameSuggestions:async a=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:`/v1/profile/suggestions/${a}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType:a,address:b,message:c,signature:d})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?o.api.post({path:"/v1/profile/account",body:{coin_type:a,address:b,message:c,signature:d},headers:{"Content-Type":"application/json"}}):{success:!1},generateOnRampURL:async({destinationWallets:a,partnerUserId:b,defaultNetwork:c,purchaseAmount:d,paymentAmount:e})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?(await o.api.post({path:"/v1/generators/onrampurl",params:{projectId:h.OptionsController.state.projectId},body:{destinationWallets:a,defaultNetwork:c,partnerUserId:b,defaultExperience:"buy",presetCryptoAmount:d,presetFiatAmount:e}})).url:"",async getOnrampOptions(){if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await p.get({path:"/v1/onramp/options"})}catch(a){return m}},async getOnrampQuote({purchaseCurrency:a,paymentCurrency:b,amount:c,network:d}){try{if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return null;return await o.api.post({path:"/v1/onramp/quote",params:{projectId:h.OptionsController.state.projectId},body:{purchaseCurrency:a,paymentCurrency:b,amount:c,network:d}})}catch(a){return{networkFee:{amount:c,currency:b.id},paymentSubtotal:{amount:c,currency:b.id},paymentTotal:{amount:c,currency:b.id},purchaseAmount:{amount:c,currency:b.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async a=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:`/v1/sessions/${a}`}):[],revokeSmartSession:async(a,b,c)=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?o.api.post({path:`/v1/sessions/${a}/revoke`,params:{projectId:h.OptionsController.state.projectId},body:{pci:b,signature:c}}):{success:!1},setClientId(a){o.clientId=a,o.api=new e.FetchUtil({baseUrl:n,clientId:a})}}},615408,a=>{"use strict";function b(a,b){return"light"===b?{"--w3m-accent":a?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":a?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}a.s(["getW3mThemeVariables",()=>b])},151914,a=>{"use strict";a.s(["CUSTOM_DEEPLINK_WALLETS",()=>d,"MobileWalletUtil",()=>e]);var b=a.i(50516),c=a.i(490610);let d={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},e={handleMobileDeeplinkRedirect(a,e){let f=window.location.href,g=encodeURIComponent(f);if(a===d.PHANTOM.id&&!("phantom"in window)){let a=f.startsWith("https")?"https":"http",b=f.split("/")[2],c=encodeURIComponent(`${a}://${b}`);window.location.href=`${d.PHANTOM.url}/ul/browse/${g}?ref=${c}`}if(a!==d.SOLFLARE.id||"solflare"in window||(window.location.href=`${d.SOLFLARE.url}/ul/v1/browse/${g}?ref=${g}`),e!==b.ConstantsUtil.CHAIN.SOLANA||a!==d.COINBASE.id||"coinbaseSolana"in window||(window.location.href=`${d.COINBASE.url}/dapp?cb_url=${g}`),e===b.ConstantsUtil.CHAIN.BITCOIN&&a===d.BINANCE.id&&!("binancew3w"in window)){let a=c.ChainController.state.activeCaipNetwork,b=window.btoa("/pages/browser/index"),e=window.btoa(`url=${g}&defaultChainId=${a?.id??1}`),f=new URL(d.BINANCE.deeplink);f.searchParams.set("appId",d.BINANCE.appId),f.searchParams.set("startPagePath",b),f.searchParams.set("startPageQuery",e);let h=new URL(d.BINANCE.url);h.searchParams.set("_dp",window.btoa(f.toString())),window.location.href=h.toString()}}}},508144,a=>{"use strict";a.s(["AssetUtil",()=>g]);var b=a.i(511854),c=a.i(736702),d=a.i(314531);let e={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},f=(0,b.proxy)({networkImagePromises:{}}),g={async fetchWalletImage(a){if(a)return await c.ApiController._fetchWalletImage(a),this.getWalletImageById(a)},async fetchNetworkImage(a){if(!a)return;let b=this.getNetworkImageById(a);return b||(f.networkImagePromises[a]||(f.networkImagePromises[a]=c.ApiController._fetchNetworkImage(a)),await f.networkImagePromises[a],this.getNetworkImageById(a))},getWalletImageById(a){if(a)return d.AssetController.state.walletImages[a]},getWalletImage:a=>a?.image_url?a?.image_url:a?.image_id?d.AssetController.state.walletImages[a.image_id]:void 0,getNetworkImage:a=>a?.assets?.imageUrl?a?.assets?.imageUrl:a?.assets?.imageId?d.AssetController.state.networkImages[a.assets.imageId]:void 0,getNetworkImageById(a){if(a)return d.AssetController.state.networkImages[a]},getConnectorImage:a=>a?.imageUrl?a.imageUrl:a?.info?.icon?a.info.icon:a?.imageId?d.AssetController.state.connectorImages[a.imageId]:void 0,getChainImage:a=>d.AssetController.state.networkImages[e[a]],getTokenImage(a){if(a)return d.AssetController.state.tokenImages[a]}}},881791,a=>{"use strict";a.s(["EventsController",()=>k]);var b=a.i(511854),c=a.i(203479),d=a.i(364960),e=a.i(490610),f=a.i(351428);let g=c.CoreHelperUtil.getAnalyticsUrl(),h=new d.FetchUtil({baseUrl:g,clientId:null}),i=["MODAL_CREATED"],j=(0,b.proxy)({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),k={state:j,subscribe:a=>(0,b.subscribe)(j,()=>a(j)),getSdkProperties(){let{projectId:a,sdkType:b,sdkVersion:c}=f.OptionsController.state;return{projectId:a,st:b,sv:c||"html-wagmi-4.2.2"}},shouldFlushEvents(){let a=JSON.stringify(j.pendingEvents).length/1024>45,b=j.lastFlush+1e4<Date.now();return a||b},_setPendingEvent(a){try{e.ChainController.getAccountData()?.address,"address"in a.data&&a.data.address&&a.data.address,i.includes(a.data.event);return}catch(a){console.warn("_setPendingEvent",a)}},sendEvent(a){j.timestamp=Date.now(),j.data=a,(f.OptionsController.state.features?.analytics||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(a.event))&&k._setPendingEvent(j),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(a){j.walletImpressions.push(a)},_transformPendingEventsForBatch(a){try{return a.filter(a=>{let b=a.props.event;return"WALLET_IMPRESSION_V2"!==b})}catch{return a}},_submitPendingEvents(){if(j.lastFlush=Date.now(),0!==j.pendingEvents.length||0!==j.walletImpressions.length)try{let a=k._transformPendingEventsForBatch(j.pendingEvents);j.walletImpressions.length&&a.push({eventId:c.CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...j.walletImpressions]}}),h.sendBeacon({path:"/batch",params:k.getSdkProperties(),body:a}),j.reportedErrors.FORBIDDEN=!1,j.pendingEvents=[],j.walletImpressions=[]}catch(a){j.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){j.subscribedToVisibilityChange||"undefined"!=typeof document&&(j.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{"hidden"===document.visibilityState&&k._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{k._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{k._submitPendingEvents()}),setInterval(()=>{k._submitPendingEvents()},1e4))}}},736702,a=>{"use strict";a.s(["ApiController",()=>r]);var b=a.i(511854),c=a.i(791477),d=a.i(50516),e=a.i(508144),f=a.i(203479),g=a.i(364960),h=a.i(151914),i=a.i(961081),j=a.i(314531),k=a.i(490610),l=a.i(832557),m=a.i(881791),n=a.i(351428);let o=f.CoreHelperUtil.getApiUrl(),p=new g.FetchUtil({baseUrl:o,clientId:null}),q=(0,b.proxy)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),r={state:q,subscribeKey:(a,b)=>(0,c.subscribeKey)(q,a,b),_getSdkProperties(){let{projectId:a,sdkType:b,sdkVersion:c}=n.OptionsController.state;return{projectId:a,st:b||"appkit",sv:c||"html-wagmi-4.2.2"}},_filterOutExtensions:a=>n.OptionsController.state.isUniversalProvider?a.filter(a=>!!(a.mobile_link||a.desktop_link||a.webapp_link)):a,async _fetchWalletImage(a){let b=`${p.baseUrl}/getWalletImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setWalletImage(a,URL.createObjectURL(c))},async _fetchNetworkImage(a){let b=`${p.baseUrl}/public/getAssetImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setNetworkImage(a,URL.createObjectURL(c))},async _fetchConnectorImage(a){let b=`${p.baseUrl}/public/getAssetImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setConnectorImage(a,URL.createObjectURL(c))},async _fetchCurrencyImage(a){let b=`${p.baseUrl}/public/getCurrencyImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setCurrencyImage(a,URL.createObjectURL(c))},async _fetchTokenImage(a){let b=`${p.baseUrl}/public/getTokenImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setTokenImage(a,URL.createObjectURL(c))},_filterWalletsByPlatform(a){let b=a.length,c=f.CoreHelperUtil.isMobile()?a?.filter(a=>!!a.mobile_link||!!a.webapp_link||Object.values(h.CUSTOM_DEEPLINK_WALLETS).map(a=>a.id).includes(a.id)):a,d=b-c.length;return{filteredWallets:c,mobileFilteredOutWalletsLength:d}},fetchProjectConfig:async()=>(await p.get({path:"/appkit/v1/config",params:r._getSdkProperties()})).features,async fetchUsage(){try{let{tier:a,isAboveMauLimit:b,isAboveRpcLimit:c}=(await p.get({path:"/appkit/v1/project-limits",params:r._getSdkProperties()})).planLimits;r.state.plan={tier:a,hasExceededUsageLimit:"starter"===a&&(b||c),limits:{isAboveRpcLimit:c,isAboveMauLimit:b}}}catch(a){console.warn("Failed to fetch usage",a)}},async fetchAllowedOrigins(){try{let{allowedOrigins:a}=await p.get({path:"/projects/v1/origins",params:r._getSdkProperties()});return a}catch(a){if(a instanceof Error&&a.cause instanceof Response){let b=a.cause.status;if(b===d.ConstantsUtil.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw Error("RATE_LIMITED",{cause:a});if(b>=d.ConstantsUtil.HTTP_STATUS_CODES.SERVER_ERROR&&b<600)throw Error("SERVER_ERROR",{cause:a})}return[]}},async fetchNetworkImages(){let a=k.ChainController.getAllRequestedCaipNetworks(),b=a?.map(({assets:a})=>a?.imageId).filter(Boolean).filter(a=>!e.AssetUtil.getNetworkImageById(a));b&&await Promise.allSettled(b.map(a=>r._fetchNetworkImage(a)))},async fetchConnectorImages(){let{connectors:a}=l.ConnectorController.state,b=a.map(({imageId:a})=>a).filter(Boolean);await Promise.allSettled(b.map(a=>r._fetchConnectorImage(a)))},async fetchCurrencyImages(a=[]){await Promise.allSettled(a.map(a=>r._fetchCurrencyImage(a)))},async fetchTokenImages(a=[]){await Promise.allSettled(a.map(a=>r._fetchTokenImage(a)))},async fetchWallets(a){let b=a.exclude??[];r._getSdkProperties().sv.startsWith("html-core-")&&b.push(...Object.values(h.CUSTOM_DEEPLINK_WALLETS).map(a=>a.id));let c=await p.get({path:"/getWallets",params:{...r._getSdkProperties(),...a,page:String(a.page),entries:String(a.entries),include:a.include?.join(","),exclude:b.join(",")}}),{filteredWallets:d,mobileFilteredOutWalletsLength:e}=r._filterWalletsByPlatform(c?.data);return{data:d||[],count:c?.count,mobileFilteredOutWalletsLength:e}},async prefetchWalletRanks(){let a=l.ConnectorController.state.connectors;if(!a?.length)return;let b={page:1,entries:20,badge:"certified"};if(b.names=a.map(a=>a.name).join(","),k.ChainController.state.activeChain===d.ConstantsUtil.CHAIN.EVM){let c=[...a.flatMap(a=>a.connectors?.map(a=>a.info?.rdns)||[]),...a.map(a=>a.info?.rdns)].filter(a=>"string"==typeof a&&a.length>0);c.length&&(b.rdns=c.join(","))}let{data:c}=await r.fetchWallets(b);q.explorerWallets=c;let e=k.ChainController.getRequestedCaipNetworkIds().join(",");q.explorerFilteredWallets=c.filter(a=>a.chains?.some(a=>e.includes(a)))},async fetchFeaturedWallets(){let{featuredWalletIds:a}=n.OptionsController.state;if(a?.length){let b={...r._getSdkProperties(),page:1,entries:a?.length??4,include:a},{data:c}=await r.fetchWallets(b),d=[...c].sort((b,c)=>a.indexOf(b.id)-a.indexOf(c.id)),e=d.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(e.map(a=>r._fetchWalletImage(a))),q.featured=d,q.allFeatured=d}},async fetchRecommendedWallets(){try{q.isFetchingRecommendedWallets=!0;let{includeWalletIds:a,excludeWalletIds:b,featuredWalletIds:c}=n.OptionsController.state,d=[...b??[],...c??[]].filter(Boolean),e=k.ChainController.getRequestedCaipNetworkIds().join(","),{data:f,count:g}=await r.fetchWallets({page:1,entries:4,include:a,exclude:d,chains:e}),h=i.StorageUtil.getRecentWallets(),j=f.map(a=>a.image_id).filter(Boolean),l=h.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...j,...l].map(a=>r._fetchWalletImage(a))),q.recommended=f,q.allRecommended=f,q.count=g??0}catch{}finally{q.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:a}){let{includeWalletIds:b,excludeWalletIds:c,featuredWalletIds:d}=n.OptionsController.state,e=k.ChainController.getRequestedCaipNetworkIds().join(","),g=[...q.recommended.map(({id:a})=>a),...c??[],...d??[]].filter(Boolean),{data:h,count:i,mobileFilteredOutWalletsLength:j}=await r.fetchWallets({page:a,entries:40,include:b,exclude:g,chains:e});q.mobileFilteredOutWalletsLength=j+(q.mobileFilteredOutWalletsLength??0);let l=h.slice(0,20).map(a=>a.image_id).filter(Boolean);await Promise.allSettled(l.map(a=>r._fetchWalletImage(a))),q.wallets=f.CoreHelperUtil.uniqueBy([...q.wallets,...r._filterOutExtensions(h)],"id").filter(a=>a.chains?.some(a=>e.includes(a))),q.count=i>q.count?i:q.count,q.page=a},async initializeExcludedWallets({ids:a}){let b={page:1,entries:a.length,include:a},{data:c}=await r.fetchWallets(b);c&&c.forEach(a=>{q.excludedWallets.push({rdns:a.rdns,name:a.name})})},async searchWallet({search:a,badge:b}){let{includeWalletIds:c,excludeWalletIds:d}=n.OptionsController.state,e=k.ChainController.getRequestedCaipNetworkIds().join(",");q.search=[];let g={page:1,entries:100,search:a?.trim(),badge_type:b,include:c,exclude:d,chains:e},{data:h}=await r.fetchWallets(g);m.EventsController.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:b??"",search:a??""}});let i=h.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...i.map(a=>r._fetchWalletImage(a)),f.CoreHelperUtil.wait(300)]),q.search=r._filterOutExtensions(h)},initPromise(a,b){let c=q.promises[a];return c||(q.promises[a]=b())},prefetch:({fetchConnectorImages:a=!0,fetchFeaturedWallets:b=!0,fetchRecommendedWallets:c=!0,fetchNetworkImages:d=!0,fetchWalletRanks:e=!0}={})=>Promise.allSettled([a&&r.initPromise("connectorImages",r.fetchConnectorImages),b&&r.initPromise("featuredWallets",r.fetchFeaturedWallets),c&&r.initPromise("recommendedWallets",r.fetchRecommendedWallets),d&&r.initPromise("networkImages",r.fetchNetworkImages),e&&r.initPromise("walletRanks",r.prefetchWalletRanks)].filter(Boolean)),prefetchAnalyticsConfig(){n.OptionsController.state.features?.analytics&&r.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:a}=await p.get({path:"/getAnalyticsConfig",params:r._getSdkProperties()});n.OptionsController.setFeatures({analytics:a})}catch(a){n.OptionsController.setFeatures({analytics:!1})}},filterByNamespaces(a){if(!a?.length){q.featured=q.allFeatured,q.recommended=q.allRecommended;return}let b=k.ChainController.getRequestedCaipNetworkIds().join(",");q.featured=q.allFeatured.filter(a=>a.chains?.some(a=>b.includes(a))),q.recommended=q.allRecommended.filter(a=>a.chains?.some(a=>b.includes(a))),q.filteredWallets=q.wallets.filter(a=>a.chains?.some(a=>b.includes(a)))},clearFilterByNamespaces(){q.filteredWallets=[]},setFilterByNamespace(a){if(!a){q.featured=q.allFeatured,q.recommended=q.allRecommended;return}let b=k.ChainController.getRequestedCaipNetworkIds().join(",");q.featured=q.allFeatured.filter(a=>a.chains?.some(a=>b.includes(a))),q.recommended=q.allRecommended.filter(a=>a.chains?.some(a=>b.includes(a))),q.filteredWallets=q.wallets.filter(a=>a.chains?.some(a=>b.includes(a)))}}},754542,a=>{"use strict";a.s(["NetworkUtil",()=>f]);var b=a.i(50516),c=a.i(490610),d=a.i(832557),e=a.i(802320);let f={onSwitchNetwork({network:a,ignoreSwitchConfirmation:f=!1}){let g=c.ChainController.state.activeCaipNetwork,h=c.ChainController.state.activeChain,i=e.RouterController.state.data;if(a.id===g?.id)return;let j=!!c.ChainController.getAccountData(h)?.address,k=!!c.ChainController.getAccountData(a.chainNamespace)?.address,l=a.chainNamespace!==h,m=d.ConnectorController.getConnectorId(h)===b.ConstantsUtil.CONNECTOR_ID.AUTH,n=b.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(b=>b===a.chainNamespace);f||m&&n?e.RouterController.push("SwitchNetwork",{...i,network:a}):j&&l&&!k?e.RouterController.push("SwitchActiveChain",{switchToChain:a.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:a}):e.RouterController.push("SwitchNetwork",{...i,network:a})}}},355279,a=>{"use strict";var b=a.i(511854),c=a.i(791477);let d=(0,b.proxy)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1});a.s(["PublicStateController",0,{state:d,subscribe:a=>(0,b.subscribe)(d,()=>a(d)),subscribeOpen:a=>(0,c.subscribeKey)(d,"open",a),set(a){Object.assign(d,{...d,...a})}}])},426779,a=>{"use strict";a.s(["ModalController",()=>p]);var b=a.i(511854),c=a.i(791477),d=a.i(203479),e=a.i(754542),f=a.i(196283),g=a.i(736702),h=a.i(490610),i=a.i(739741),j=a.i(832557),k=a.i(881791),l=a.i(351428),m=a.i(355279),n=a.i(802320);let o=(0,b.proxy)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),p=(0,f.withErrorBoundary)({state:o,subscribe:a=>(0,b.subscribe)(o,()=>a(o)),subscribeKey:(a,b)=>(0,c.subscribeKey)(o,a,b),async open(a){let b=a?.namespace,c=h.ChainController.state.activeChain,f=b&&b!==c,q=h.ChainController.getAccountData(a?.namespace)?.caipAddress,r=h.ChainController.state.noAdapters;if(i.ConnectionController.state.wcBasic?g.ApiController.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await g.ApiController.prefetch(),j.ConnectorController.setFilterByNamespace(a?.namespace),p.setLoading(!0,b),b&&f){let a=h.ChainController.getNetworkData(b)?.caipNetwork||h.ChainController.getRequestedCaipNetworks(b)[0];a&&(r?(await h.ChainController.switchActiveNetwork(a),n.RouterController.push("ConnectingWalletConnectBasic")):e.NetworkUtil.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0}))}else l.OptionsController.state.manualWCControl||r&&!q?d.CoreHelperUtil.isMobile()?n.RouterController.reset("AllWallets"):n.RouterController.reset("ConnectingWalletConnectBasic"):a?.view?n.RouterController.reset(a.view,a.data):q?n.RouterController.reset("Account"):n.RouterController.reset("Connect");o.open=!0,m.PublicStateController.set({open:!0}),k.EventsController.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!q}})},close(){let a=l.OptionsController.state.enableEmbedded,b=!!h.ChainController.state.activeCaipAddress;o.open&&k.EventsController.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:b}}),o.open=!1,n.RouterController.reset("Connect"),p.clearLoading(),a?b?n.RouterController.replace("Account"):n.RouterController.push("Connect"):m.PublicStateController.set({open:!1}),i.ConnectionController.resetUri()},setLoading(a,b){b&&o.loadingNamespaceMap.set(b,a),o.loading=a,m.PublicStateController.set({loading:a})},clearLoading(){o.loadingNamespaceMap.clear(),o.loading=!1,m.PublicStateController.set({loading:!1})},shake(){o.shake||(o.shake=!0,setTimeout(()=>{o.shake=!1},500))}})},802320,a=>{"use strict";a.s(["RouterController",()=>l]);var b=a.i(511854),c=a.i(791477),d=a.i(196283),e=a.i(736702),f=a.i(490610),g=a.i(832557),h=a.i(426779),i=a.i(351428);let j=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],k=(0,b.proxy)({view:"Connect",history:["Connect"],transactionStack:[]}),l=(0,d.withErrorBoundary)({state:k,subscribeKey:(a,b)=>(0,c.subscribeKey)(k,a,b),pushTransactionStack(a){k.transactionStack.push(a)},popTransactionStack(a){let b=k.transactionStack.pop();if(!b)return;let{onSuccess:c,onError:d,onCancel:e}=b;switch(a){case"success":c?.();break;case"error":d?.(),l.goBack();break;case"cancel":e?.(),l.goBack()}},push(a,b){let c=a,d=b;e.ApiController.state.plan.hasExceededUsageLimit&&j.includes(a)&&(c="UsageExceeded",d=void 0),c!==k.view&&(k.view=c,k.history.push(c),k.data=d)},reset(a,b){k.view=a,k.history=[a],k.data=b},replace(a,b){k.history.at(-1)!==a&&(k.view=a,k.history[k.history.length-1]=a,k.data=b)},goBack(){let a=f.ChainController.state.activeCaipAddress,c="ConnectingFarcaster"===l.state.view,d=!a&&c;if(k.history.length>1){k.history.pop();let[b]=k.history.slice(-1);b&&(a&&"Connect"===b?k.view="Account":k.view=b)}else h.ModalController.close();k.data?.wallet&&(k.data.wallet=void 0),k.data?.redirectView&&(k.data.redirectView=void 0),setTimeout(()=>{if(d){f.ChainController.setAccountProp("farcasterUrl",void 0,f.ChainController.state.activeChain);let a=g.ConnectorController.getAuthConnector();a?.provider?.reload();let c=(0,b.snapshot)(i.OptionsController.state);a?.provider?.syncDappData?.({metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(a){if(k.history.length>1){k.history=k.history.slice(0,a+1);let[b]=k.history.slice(-1);b&&(k.view=b)}},goBackOrCloseModal(){l.state.history.length>1?l.goBack():h.ModalController.close()}})},832557,68822,a=>{"use strict";a.s(["ConnectorController",()=>v],832557);var b=a.i(511854),c=a.i(791477),d=a.i(341474),e=a.i(50516),f=a.i(615408),g=a.i(230158),h=a.i(358765),i=a.i(151914),j=a.i(961081),k=a.i(196283),l=a.i(736702),m=a.i(490610),n=a.i(351428),o=a.i(802320);a.s(["ThemeController",()=>r],68822);let p=(0,b.proxy)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),q={state:p,subscribe:a=>(0,b.subscribe)(p,()=>a(p)),setThemeMode(a){p.themeMode=a;try{let b=v.getAuthConnector();if(b){let c=q.getSnapshot().themeVariables;b.provider.syncTheme({themeMode:a,themeVariables:c,w3mThemeVariables:(0,f.getW3mThemeVariables)(c,a)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(a){p.themeVariables={...p.themeVariables,...a};try{let a=v.getAuthConnector();if(a){let b=q.getSnapshot().themeVariables;a.provider.syncTheme({themeVariables:b,w3mThemeVariables:(0,f.getW3mThemeVariables)(p.themeVariables,p.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,b.snapshot)(p)},r=(0,k.withErrorBoundary)(q),s=Object.fromEntries(d.AVAILABLE_NAMESPACES.map(a=>[a,void 0])),t=Object.fromEntries(d.AVAILABLE_NAMESPACES.map(a=>[a,!0])),u=(0,b.proxy)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:s,filterByNamespaceMap:t}),v=(0,k.withErrorBoundary)({state:u,subscribe:a=>(0,b.subscribe)(u,()=>{a(u)}),subscribeKey:(a,b)=>(0,c.subscribeKey)(u,a,b),initialize(a){a.forEach(a=>{let b=j.StorageUtil.getConnectedConnectorId(a);b&&v.setConnectorId(b,a)})},setActiveConnector(a){a&&(u.activeConnector=(0,b.ref)(a))},setConnectors(a){a.filter(a=>!u.allConnectors.some(b=>b.id===a.id&&v.getConnectorName(b.name)===v.getConnectorName(a.name)&&b.chain===a.chain)).forEach(a=>{"MULTI_CHAIN"!==a.type&&u.allConnectors.push((0,b.ref)(a))});let c=v.getEnabledNamespaces(),d=v.getEnabledConnectors(c);u.connectors=v.mergeMultiChainConnectors(d)},filterByNamespaces(a){Object.keys(u.filterByNamespaceMap).forEach(a=>{u.filterByNamespaceMap[a]=!1}),a.forEach(a=>{u.filterByNamespaceMap[a]=!0}),v.updateConnectorsForEnabledNamespaces()},filterByNamespace(a,b){u.filterByNamespaceMap[a]=b,v.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let a=v.getEnabledNamespaces(),b=v.getEnabledConnectors(a),c=v.areAllNamespacesEnabled();u.connectors=v.mergeMultiChainConnectors(b),c?l.ApiController.clearFilterByNamespaces():l.ApiController.filterByNamespaces(a)},getEnabledNamespaces:()=>Object.entries(u.filterByNamespaceMap).filter(([a,b])=>b).map(([a])=>a),getEnabledConnectors:a=>u.allConnectors.filter(b=>a.includes(b.chain)),areAllNamespacesEnabled:()=>Object.values(u.filterByNamespaceMap).every(a=>a),mergeMultiChainConnectors(a){let b=v.generateConnectorMapByName(a),c=[];return b.forEach(a=>{let b=a[0],d=b?.id===e.ConstantsUtil.CONNECTOR_ID.AUTH;a.length>1&&b?c.push({name:b.name,imageUrl:b.imageUrl,imageId:b.imageId,connectors:[...a],type:d?"AUTH":"MULTI_CHAIN",chain:"eip155",id:b?.id||""}):b&&c.push(b)}),c},generateConnectorMapByName(a){let b=new Map;return a.forEach(a=>{let{name:c}=a,d=v.getConnectorName(c);if(!d)return;let e=b.get(d)||[];e.find(b=>b.chain===a.chain)||e.push(a),b.set(d,e)}),b},getConnectorName:a=>a&&({"Trust Wallet":"Trust"})[a]||a,getUniqueConnectorsByName(a){let b=[];return a.forEach(a=>{b.find(b=>b.chain===a.chain)||b.push(a)}),b},addConnector(a){if(a.id===e.ConstantsUtil.CONNECTOR_ID.AUTH){let c=(0,b.snapshot)(n.OptionsController.state),d=r.getSnapshot().themeMode,e=r.getSnapshot().themeVariables;a?.provider?.syncDappData?.({metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType}),a?.provider?.syncTheme({themeMode:d,themeVariables:e,w3mThemeVariables:(0,f.getW3mThemeVariables)(e,d)}),v.setConnectors([a])}else v.setConnectors([a])},getAuthConnector(a){let b=a||m.ChainController.state.activeChain,c=u.connectors.find(a=>a.id===e.ConstantsUtil.CONNECTOR_ID.AUTH);if(c)return c?.connectors?.length?c.connectors.find(a=>a.chain===b):c},getAnnouncedConnectorRdns:()=>u.connectors.filter(a=>"ANNOUNCED"===a.type).map(a=>a.info?.rdns),getConnectorById:a=>u.allConnectors.find(b=>b.id===a),getConnector({id:a,rdns:b,namespace:c}){let d=c||m.ChainController.state.activeChain;return u.allConnectors.filter(a=>a.chain===d).find(c=>c.explorerId===a||c.info?.rdns===b)},syncIfAuthConnector(a){if("AUTH"!==a.id)return;let c=(0,b.snapshot)(n.OptionsController.state),d=r.getSnapshot().themeMode,e=r.getSnapshot().themeVariables;a?.provider?.syncDappData?.({metadata:c.metadata,sdkVersion:c.sdkVersion,sdkType:c.sdkType,projectId:c.projectId}),a.provider.syncTheme({themeMode:d,themeVariables:e,w3mThemeVariables:(0,f.getW3mThemeVariables)(e,d)})},getConnectorsByNamespace(a){let b=u.allConnectors.filter(b=>b.chain===a);return v.mergeMultiChainConnectors(b)},canSwitchToSmartAccount:a=>m.ChainController.checkIfSmartAccountEnabled()&&(0,h.getPreferredAccountType)(a)===g.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA,selectWalletConnector(a){let b=o.RouterController.state.data?.redirectView,c=v.getConnector({id:a.id,rdns:a.rdns});i.MobileWalletUtil.handleMobileDeeplinkRedirect(c?.explorerId||a.id,m.ChainController.state.activeChain),c?o.RouterController.push("ConnectingExternal",{connector:c,wallet:a,redirectView:b}):o.RouterController.push("ConnectingWalletConnect",{wallet:a,redirectView:b})},getConnectors:a=>a?v.getConnectorsByNamespace(a):v.mergeMultiChainConnectors(u.allConnectors),setFilterByNamespace(a){u.filterByNamespace=a,u.connectors=v.getConnectors(a),l.ApiController.setFilterByNamespace(a)},setConnectorId(a,b){a&&(u.activeConnectorIds={...u.activeConnectorIds,[b]:a},j.StorageUtil.setConnectedConnectorId(b,a))},removeConnectorId(a){u.activeConnectorIds={...u.activeConnectorIds,[a]:void 0},j.StorageUtil.deleteConnectedConnectorId(a)},getConnectorId(a){if(a)return u.activeConnectorIds[a]},isConnected:a=>a?!!u.activeConnectorIds[a]:Object.values(u.activeConnectorIds).some(a=>!!a),resetConnectorIds(){u.activeConnectorIds={...s}}})},952211,a=>{"use strict";a.s(["ConnectorControllerUtil",()=>o]);var b=a.i(577248),c=a.i(50516),d=a.i(230158),e=a.i(490610),f=a.i(739741),g=a.i(832557),h=a.i(881791),i=a.i(426779),j=a.i(802320),k=a.i(358765),l=a.i(325163),m=a.i(203479),n=a.i(961081);let o={checkNamespaceConnectorId:(a,b)=>g.ConnectorController.getConnectorId(a)===b,isSocialProvider:a=>l.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials.includes(a),connectWalletConnect:({walletConnect:a,connector:c,closeModalOnConnect:d=!0,redirectViewOnModalClose:f="Connect",onOpen:h,onConnect:k})=>new Promise((l,n)=>{if(a&&g.ConnectorController.setActiveConnector(c),h?.(m.CoreHelperUtil.isMobile()&&a),f){let a=i.ModalController.subscribeKey("open",b=>{b||(j.RouterController.state.view!==f&&j.RouterController.replace(f),a(),n(Error("Modal closed")))})}let o=e.ChainController.subscribeKey("activeCaipAddress",a=>{a&&(k?.(),d&&i.ModalController.close(),o(),l(b.ParseUtil.parseCaipAddress(a)))})}),connectExternal:a=>new Promise((c,d)=>{let g=e.ChainController.subscribeKey("activeCaipAddress",a=>{a&&(i.ModalController.close(),g(),c(b.ParseUtil.parseCaipAddress(a)))});f.ConnectionController.connectExternal(a,a.chain).catch(()=>{g(),d(Error("Connection rejected"))})}),connectSocial({social:a,namespace:d,closeModalOnConnect:j=!0,onOpenFarcaster:k,onConnect:l}){let o,p=!1,q=null,r=d||e.ChainController.state.activeChain,s=e.ChainController.subscribeKey("activeCaipAddress",a=>{a&&(j&&i.ModalController.close(),s())});return new Promise((d,j)=>{async function s(i){if(i.data?.resultUri)if(i.origin===c.ConstantsUtil.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",s,!1);try{let c=g.ConnectorController.getAuthConnector(r);if(c&&!p){o&&o.close(),p=!0;let g=i.data.resultUri;h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:a}}),n.StorageUtil.setConnectedSocialProvider(a),await f.ConnectionController.connectExternal({id:c.id,type:c.type,socialUri:g},c.chain);let k=e.ChainController.state.activeCaipAddress;if(!k)return void j(Error("Failed to connect"));d(b.ParseUtil.parseCaipAddress(k)),h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:a}})}}catch(b){h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:a,message:m.CoreHelperUtil.parseError(b)}}),j(Error("Failed to connect"))}}else h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:a,message:"Untrusted Origin"}})}!async function(){if(h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:a}}),"farcaster"===a){k?.();let b=i.ModalController.subscribeKey("open",c=>{c||"farcaster"!==a||(j(Error("Popup closed")),l?.(),b())}),c=g.ConnectorController.getAuthConnector();if(c){let a=e.ChainController.getAccountData(r);if(!a?.farcasterUrl)try{let{url:a}=await c.provider.getFarcasterUri();e.ChainController.setAccountProp("farcasterUrl",a,r)}catch{j(Error("Failed to connect to farcaster"))}}}else{let b=g.ConnectorController.getAuthConnector();q=m.CoreHelperUtil.returnOpenHref(`${c.ConstantsUtil.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(b){let{uri:c}=await b.provider.getSocialRedirectUri({provider:a});if(q&&c){q.location.href=c,o=q;let a=setInterval(()=>{o?.closed&&!p&&(j(Error("Popup closed")),clearInterval(a))},1e3);window.addEventListener("message",s,!1)}else q?.close(),j(Error("Failed to initiate social connection"))}}catch{j(Error("Failed to initiate social connection")),q?.close()}}}()})},connectEmail:({closeModalOnConnect:a=!0,redirectViewOnModalClose:c="Connect",onOpen:d,onConnect:f})=>new Promise((g,h)=>{if(d?.(),c){let a=i.ModalController.subscribeKey("open",b=>{b||(j.RouterController.state.view!==c&&j.RouterController.replace(c),a(),h(Error("Modal closed")))})}let k=e.ChainController.subscribeKey("activeCaipAddress",c=>{c&&(f?.(),a&&i.ModalController.close(),k(),g(b.ParseUtil.parseCaipAddress(c)))})}),async updateEmail(){let a=n.StorageUtil.getConnectedConnectorId(e.ChainController.state.activeChain),b=g.ConnectorController.getAuthConnector();if(!b)throw Error("No auth connector found");if(a!==c.ConstantsUtil.CONNECTOR_ID.AUTH)throw Error("Not connected to email or social");let d=b.provider.getEmail()??"";return await i.ModalController.open({view:"UpdateEmailWallet",data:{email:d,redirectView:void 0}}),new Promise((a,c)=>{let e=setInterval(()=>{let c=b.provider.getEmail()??"";c!==d&&(i.ModalController.close(),clearInterval(e),f(),a({email:c}))},1e3),f=i.ModalController.subscribeKey("open",a=>{a||("Connect"!==j.RouterController.state.view&&j.RouterController.push("Connect"),clearInterval(e),f(),c(Error("Modal closed")))})})},canSwitchToSmartAccount:a=>e.ChainController.checkIfSmartAccountEnabled()&&(0,k.getPreferredAccountType)(a)===d.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA}},358765,a=>{"use strict";a.s(["getActiveCaipNetwork",()=>f,"getActiveNetworkTokenAddress",()=>d,"getPreferredAccountType",()=>e]),a.i(50516);var b=a.i(490610);a.i(952211);var c=a.i(325163);function d(){let a=b.ChainController.state.activeCaipNetwork?.chainNamespace||"eip155",d=b.ChainController.state.activeCaipNetwork?.id||1,e=c.ConstantsUtil.NATIVE_TOKEN_ADDRESS[a];return`${a}:${d}:${e}`}function e(a){return b.ChainController.getAccountData(a)?.preferredAccountType}function f(a){return a?b.ChainController.state.chains.get(a)?.networkState?.caipNetwork:b.ChainController.state.activeCaipNetwork}},811122,a=>{"use strict";a.s(["ConnectionControllerUtil",()=>e]);var b=a.i(739741),c=a.i(832557),d=a.i(351428);let e={getConnectionStatus(a,d){let e=c.ConnectorController.state.activeConnectorIds[d],f=b.ConnectionController.getConnections(d);return e&&a.connectorId===e?"connected":f.some(b=>b.connectorId.toLowerCase()===a.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:a,connectorId:b,addresses:c})=>a.map(a=>{if(b&&a.connectorId.toLowerCase()===b.toLowerCase()&&c){let b=a.accounts.filter(a=>!c.some(b=>b.toLowerCase()===a.address.toLowerCase()));return{...a,accounts:b}}return a}),excludeExistingConnections(a,b){let c=new Set(a);return b.filter(a=>!c.has(a.connectorId))},getConnectionsByConnectorId:(a,b)=>a.filter(a=>a.connectorId.toLowerCase()===b.toLowerCase()),getConnectionsData(a){let f=!!d.OptionsController.state.remoteFeatures?.multiWallet,g=c.ConnectorController.state.activeConnectorIds[a],h=b.ConnectionController.getConnections(a),i=(b.ConnectionController.state.recentConnections.get(a)??[]).filter(a=>c.ConnectorController.getConnectorById(a.connectorId)),j=e.excludeExistingConnections([...h.map(a=>a.connectorId),...g?[g]:[]],i);return f?{connections:h,recentConnections:j}:{connections:h.filter(a=>a.connectorId.toLowerCase()===g?.toLowerCase()),recentConnections:[]}}}},936785,358096,739741,903112,884353,a=>{"use strict";let b,c;a.s(["BalanceUtil",()=>F],936785);var d=a.i(309812),e=a.i(375642),f=a.i(50516),g=a.i(577248),h=a.i(175787),i=a.i(490610);a.s(["ConnectionController",()=>B],739741);var j=a.i(511854),k=a.i(791477),l=a.i(358765),m=a.i(811122),n=a.i(952211),o=a.i(203479),p=a.i(961081),q=a.i(196283),r=a.i(832557),s=a.i(881791),t=a.i(426779),u=a.i(802320);a.s(["TransactionsController",()=>z],358096);var v=a.i(230158),w=a.i(351428),x=a.i(848800);let y=(0,j.proxy)({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),z=(0,q.withErrorBoundary)({state:y,subscribe:a=>(0,j.subscribe)(y,()=>a(y)),setLastNetworkInView(a){y.lastNetworkInView=a},async fetchTransactions(a){if(!a)throw Error("Transactions can't be fetched without an accountAddress");y.loading=!0;try{let b=await h.BlockchainApiController.fetchTransactions({account:a,cursor:y.next,chainId:i.ChainController.state.activeCaipNetwork?.caipNetworkId}),c=z.filterSpamTransactions(b.data),d=z.filterByConnectedChain(c),e=[...y.transactions,...d];y.loading=!1,y.transactions=e,y.transactionsByYear=z.groupTransactionsByYearAndMonth(y.transactionsByYear,d),y.empty=0===e.length,y.next=b.next?b.next:void 0}catch(c){let b=i.ChainController.state.activeChain;s.EventsController.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:a,projectId:w.OptionsController.state.projectId,cursor:y.next,isSmartAccount:(0,l.getPreferredAccountType)(b)===v.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),x.SnackController.showError("Failed to fetch transactions"),y.loading=!1,y.empty=!0,y.next=void 0}},groupTransactionsByYearAndMonth:(a={},b=[])=>(b.forEach(b=>{let c=new Date(b.metadata.minedAt).getFullYear(),d=new Date(b.metadata.minedAt).getMonth(),e=a[c]??{},f=(e[d]??[]).filter(a=>a.id!==b.id);a[c]={...e,[d]:[...f,b].sort((a,b)=>new Date(b.metadata.minedAt).getTime()-new Date(a.metadata.minedAt).getTime())}}),a),filterSpamTransactions:a=>a.filter(a=>!a.transfers.every(a=>a.nft_info?.flags.is_spam===!0)),filterByConnectedChain(a){let b=i.ChainController.state.activeCaipNetwork?.caipNetworkId;return a.filter(a=>a.metadata.chain===b)},clearCursor(){y.next=void 0},resetTransactions(){y.transactions=[],y.transactionsByYear={},y.lastNetworkInView=void 0,y.loading=!1,y.empty=!1,y.next=void 0}},"API_ERROR"),A=(0,j.proxy)({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"}),B=(0,q.withErrorBoundary)({state:A,subscribe:a=>(0,j.subscribe)(A,()=>a(A)),subscribeKey:(a,b)=>(0,k.subscribeKey)(A,a,b),_getClient:()=>A._client,setClient(a){A._client=(0,j.ref)(a)},initialize(a){let b=a.filter(a=>!!a.namespace).map(a=>a.namespace);B.syncStorageConnections(b)},syncStorageConnections(a){let b=p.StorageUtil.getConnections();for(let c of a??Array.from(i.ChainController.state.chains.keys())){let a=b[c]??[],d=new Map(A.recentConnections);d.set(c,a),A.recentConnections=d}},getConnections:a=>a?A.connections.get(a)??[]:[],hasAnyConnection:a=>Array.from(B.state.connections.values()).flatMap(a=>a).some(({connectorId:b})=>b===a),async connectWalletConnect({cache:a="auto"}={}){let c=o.CoreHelperUtil.isTelegram()||o.CoreHelperUtil.isSafari()&&o.CoreHelperUtil.isIos();if("always"===a||"auto"===a&&c){if(b){await b,b=void 0;return}if(!o.CoreHelperUtil.isPairingExpired(A?.wcPairingExpiry)){let a=A.wcUri;A.wcUri=a;return}b=B._getClient()?.connectWalletConnect?.().catch(()=>void 0),B.state.status="connecting",await b,b=void 0,A.wcPairingExpiry=void 0,B.state.status="connected"}else await B._getClient()?.connectWalletConnect?.()},async connectExternal(a,b,c=!0){let d=await B._getClient()?.connectExternal?.(a);return c&&i.ChainController.setActiveNamespace(b),d},async reconnectExternal(a){await B._getClient()?.reconnectExternal?.(a);let b=a.chain||i.ChainController.state.activeChain;b&&r.ConnectorController.setConnectorId(a.id,b)},async setPreferredAccountType(a,b){if(!b)return;t.ModalController.setLoading(!0,i.ChainController.state.activeChain);let c=r.ConnectorController.getAuthConnector();c&&(i.ChainController.setAccountProp("preferredAccountType",a,b),await c.provider.setPreferredAccount(a),p.StorageUtil.setPreferredAccountTypes(Object.entries(i.ChainController.state.chains).reduce((a,[b,c])=>{let d=(0,l.getPreferredAccountType)(b);return void 0!==d&&(a[b]=d),a},{})),await B.reconnectExternal(c),t.ModalController.setLoading(!1,i.ChainController.state.activeChain),s.EventsController.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:a,network:i.ChainController.state.activeCaipNetwork?.caipNetworkId||""}}))},signMessage:async a=>B._getClient()?.signMessage(a),parseUnits:(a,b)=>B._getClient()?.parseUnits(a,b),formatUnits:(a,b)=>B._getClient()?.formatUnits(a,b),updateBalance:a=>B._getClient()?.updateBalance(a),sendTransaction:async a=>B._getClient()?.sendTransaction(a),getCapabilities:async a=>B._getClient()?.getCapabilities(a),grantPermissions:async a=>B._getClient()?.grantPermissions(a),walletGetAssets:async a=>B._getClient()?.walletGetAssets(a)??{},estimateGas:async a=>B._getClient()?.estimateGas(a),writeContract:async a=>B._getClient()?.writeContract(a),getEnsAddress:async a=>B._getClient()?.getEnsAddress(a),getEnsAvatar:async a=>B._getClient()?.getEnsAvatar(a),checkInstalled:a=>B._getClient()?.checkInstalled?.(a)||!1,resetWcConnection(){A.wcUri=void 0,A.wcPairingExpiry=void 0,A.wcLinking=void 0,A.recentWallet=void 0,A.status="disconnected",z.resetTransactions(),p.StorageUtil.deleteWalletConnectDeepLink(),p.StorageUtil.deleteRecentWallet()},resetUri(){A.wcUri=void 0,A.wcPairingExpiry=void 0,b=void 0},finalizeWcConnection(a){let{wcLinking:b,recentWallet:c}=B.state;b&&p.StorageUtil.setWalletConnectDeepLink(b),c&&p.StorageUtil.setAppKitRecent(c),a&&s.EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a,properties:{method:b?"mobile":"qrcode",name:u.RouterController.state.data?.wallet?.name||"Unknown",view:u.RouterController.state.view,walletRank:c?.order}})},setWcBasic(a){A.wcBasic=a},setUri(a){A.wcUri=a,A.wcPairingExpiry=o.CoreHelperUtil.getPairingExpiry()},setWcLinking(a){A.wcLinking=a},setWcError(a){A.wcError=a,A.buffering=!1},setRecentWallet(a){A.recentWallet=a},setBuffering(a){A.buffering=a},setStatus(a){A.status=a},setIsSwitchingConnection(a){A.isSwitchingConnection=a},async disconnect({id:a,namespace:b,initialDisconnect:c}={}){try{await B._getClient()?.disconnect({id:a,chainNamespace:b,initialDisconnect:c})}catch(a){throw new q.AppKitError("Failed to disconnect","INTERNAL_SDK_ERROR",a)}},async disconnectConnector({id:a,namespace:b}){try{await B._getClient()?.disconnectConnector({id:a,namespace:b})}catch(a){throw new q.AppKitError("Failed to disconnect connector","INTERNAL_SDK_ERROR",a)}},setConnections(a,b){let c=new Map(A.connections);c.set(b,a),A.connections=c},async handleAuthAccountSwitch({address:a,namespace:b}){let c=i.ChainController.getAccountData(b),d=c?.user?.accounts?.find(a=>"smartAccount"===a.type),e=d&&d.address.toLowerCase()===a.toLowerCase()&&n.ConnectorControllerUtil.canSwitchToSmartAccount(b)?"smartAccount":"eoa";await B.setPreferredAccountType(e,b)},async handleActiveConnection({connection:a,namespace:b,address:c}){let d=r.ConnectorController.getConnectorById(a.connectorId),e=a.connectorId===f.ConstantsUtil.CONNECTOR_ID.AUTH;if(!d)throw Error(`No connector found for connection: ${a.connectorId}`);if(e)c&&await B.handleAuthAccountSwitch({address:c,namespace:b});else{let a=await B.connectExternal({id:d.id,type:d.type,provider:d.provider,address:c,chain:b},b);return a?.address}return c},async handleDisconnectedConnection({connection:a,namespace:b,address:c,closeModalOnConnect:d}){let e,g=r.ConnectorController.getConnectorById(a.connectorId),h=a.auth?.name?.toLowerCase(),i=a.connectorId===f.ConstantsUtil.CONNECTOR_ID.AUTH,j=a.connectorId===f.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;if(!g)throw Error(`No connector found for connection: ${a.connectorId}`);if(i)if(h&&n.ConnectorControllerUtil.isSocialProvider(h)){let{address:a}=await n.ConnectorControllerUtil.connectSocial({social:h,closeModalOnConnect:d,onOpenFarcaster(){t.ModalController.open({view:"ConnectingFarcaster"})},onConnect(){u.RouterController.replace("ProfileWallets")}});e=a}else{let{address:a}=await n.ConnectorControllerUtil.connectEmail({closeModalOnConnect:d,onOpen(){t.ModalController.open({view:"EmailLogin"})},onConnect(){u.RouterController.replace("ProfileWallets")}});e=a}else if(j){let{address:a}=await n.ConnectorControllerUtil.connectWalletConnect({walletConnect:!0,connector:g,closeModalOnConnect:d,onOpen(a){let b=a?"AllWallets":"ConnectingWalletConnect";t.ModalController.state.open?u.RouterController.push(b):t.ModalController.open({view:b})},onConnect(){u.RouterController.replace("ProfileWallets")}});e=a}else{let a=await B.connectExternal({id:g.id,type:g.type,provider:g.provider,chain:b},b);a&&(e=a.address)}return i&&c&&await B.handleAuthAccountSwitch({address:c,namespace:b}),e},async switchConnection({connection:a,address:b,namespace:c,closeModalOnConnect:d,onChange:e}){let f,h=i.ChainController.getAccountData(c)?.caipAddress;if(h){let{address:a}=g.ParseUtil.parseCaipAddress(h);f=a}let j=m.ConnectionControllerUtil.getConnectionStatus(a,c);switch(j){case"connected":case"active":{let d=await B.handleActiveConnection({connection:a,namespace:c,address:b});if(f&&d){let a=d.toLowerCase()!==f.toLowerCase();e?.({address:d,namespace:c,hasSwitchedAccount:a,hasSwitchedWallet:"active"===j})}break}case"disconnected":{let f=await B.handleDisconnectedConnection({connection:a,namespace:c,address:b,closeModalOnConnect:d});f&&e?.({address:f,namespace:c,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw Error(`Invalid connection status: ${j}`)}}}),C={createBalance(a,b){let c={name:a.metadata.name||"",symbol:a.metadata.symbol||"",decimals:a.metadata.decimals||0,value:a.metadata.value||0,price:a.metadata.price||0,iconUrl:a.metadata.iconUrl||""};return{name:c.name,symbol:c.symbol,chainId:b,address:"native"===a.address?void 0:this.convertAddressToCAIP10Address(a.address,b),value:c.value,price:c.price,quantity:{decimals:c.decimals.toString(),numeric:this.convertHexToBalance({hex:a.balance,decimals:c.decimals})},iconUrl:c.iconUrl}},convertHexToBalance:({hex:a,decimals:b})=>(0,e.formatUnits)(BigInt(a),b),convertAddressToCAIP10Address:(a,b)=>`${b}:${a}`,createCAIP2ChainId:(a,b)=>`${b}:${parseInt(a,16)}`,getChainIdHexFromCAIP2ChainId(a){let b=a.split(":");if(b.length<2||!b[1])return"0x0";let c=parseInt(b[1],10);return isNaN(c)?"0x0":`0x${c.toString(16)}`},isWalletGetAssetsResponse(a){return"object"==typeof a&&null!==a&&Object.values(a).every(a=>Array.isArray(a)&&a.every(a=>this.isValidAsset(a)))},isValidAsset:a=>"object"==typeof a&&null!==a&&"string"==typeof a.address&&"string"==typeof a.balance&&("ERC20"===a.type||"NATIVE"===a.type)&&"object"==typeof a.metadata&&null!==a.metadata&&"string"==typeof a.metadata.name&&"string"==typeof a.metadata.symbol&&"number"==typeof a.metadata.decimals&&"number"==typeof a.metadata.price&&"string"==typeof a.metadata.iconUrl};async function D(){if(!c){let{createPublicClient:b,http:d,defineChain:e}=await a.A(232199);c={createPublicClient:b,http:d,defineChain:e}}return c}let E={getBlockchainApiRpcUrl(a,b){let c=new URL("https://rpc.walletconnect.org/v1/");return c.searchParams.set("chainId",a),c.searchParams.set("projectId",b),c.toString()},async getViemChain(a){let{defineChain:b}=await D(),{chainId:c}=g.ParseUtil.parseCaipNetworkId(a.caipNetworkId);return b({...a,id:Number(c)})},async createViemPublicClient(a){let{createPublicClient:b,http:c}=await D(),d=w.OptionsController.state.projectId,e=await E.getViemChain(a);if(!e)throw Error(`Chain ${a.caipNetworkId} not found in viem/chains`);return b({chain:e,transport:c(E.getBlockchainApiRpcUrl(a.caipNetworkId,d))})}},F={async getMyTokensWithBalance(a){let b=i.ChainController.getAccountData()?.address,c=i.ChainController.state.activeCaipNetwork,d=r.ConnectorController.getConnectorId("eip155")===f.ConstantsUtil.CONNECTOR_ID.AUTH;if(!b||!c)return[];let e=`${c.caipNetworkId}:${b}`,g=p.StorageUtil.getBalanceCacheForCaipAddress(e);if(g)return g.balances;if(c.chainNamespace===f.ConstantsUtil.CHAIN.EVM&&d){let a=await this.getEIP155Balances(b,c);if(a)return this.filterLowQualityTokens(a)}let j=await h.BlockchainApiController.getBalance(b,c.caipNetworkId,a);return this.filterLowQualityTokens(j.balances)},async getEIP155Balances(a,b){try{let c=C.getChainIdHexFromCAIP2ChainId(b.caipNetworkId),d=await B.getCapabilities(a);if(!d?.[c]?.assetDiscovery?.supported)return null;let e=await B.walletGetAssets({account:a,chainFilter:[c]});if(!C.isWalletGetAssetsResponse(e))return null;let f=(e[c]||[]).map(a=>C.createBalance(a,b.caipNetworkId));return p.StorageUtil.updateBalanceCache({caipAddress:`${b.caipNetworkId}:${a}`,balance:{balances:f},timestamp:Date.now()}),f}catch(a){return null}},filterLowQualityTokens:a=>a.filter(a=>"0"!==a.quantity.decimals),async fetchERC20Balance({caipAddress:a,assetAddress:b,caipNetwork:c}){let f=await E.createViemPublicClient(c),{address:h}=g.ParseUtil.parseCaipAddress(a),[{result:i},{result:j},{result:k},{result:l}]=await f.multicall({contracts:[{address:b,functionName:"name",args:[],abi:d.erc20Abi},{address:b,functionName:"symbol",args:[],abi:d.erc20Abi},{address:b,functionName:"balanceOf",args:[h],abi:d.erc20Abi},{address:b,functionName:"decimals",args:[],abi:d.erc20Abi}]});return{name:i,symbol:j,decimals:l,balance:k&&l?(0,e.formatUnits)(k,l):"0"}}},G={adapters:{}};a.s(["AdapterController",0,{state:G,initialize(a){G.adapters={...a}},get:a=>G.adapters[a]}],903112);let H={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},I=(0,j.proxy)({providers:{...H},providerIds:{...H}});a.s(["ProviderController",0,{state:I,subscribeKey:(a,b)=>(0,k.subscribeKey)(I,a,b),subscribe:a=>(0,j.subscribe)(I,()=>{a(I)}),subscribeProviders:a=>(0,j.subscribe)(I.providers,()=>a(I.providers)),setProvider(a,b){a&&b&&(I.providers[a]=(0,j.ref)(b))},getProvider(a){if(a)return I.providers[a]},setProviderId(a,b){b&&(I.providerIds[a]=b)},getProviderId(a){if(a)return I.providerIds[a]},reset(){I.providers={...H},I.providerIds={...H}},resetChain(a){I.providers[a]=void 0,I.providerIds[a]=void 0}}],884353)},537786,a=>{"use strict";let b={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(a){try{if("object"==typeof a&&null!==a){let b="string"==typeof a.message,c="number"==typeof a.code;return b&&c}return!1}catch{return!1}},isUserRejectedMessage:a=>a.toLowerCase().includes("user rejected")||a.toLowerCase().includes("user cancelled")||a.toLowerCase().includes("user canceled"),isUserRejectedRequestError(a){if(b.isRpcProviderError(a)){let c=a.code===b.RPC_ERROR_CODE.USER_REJECTED_REQUEST,d=a.code===b.RPC_ERROR_CODE.USER_REJECTED_METHODS;return c||d||b.isUserRejectedMessage(a.message)}return a instanceof Error&&b.isUserRejectedMessage(a.message)}};class c extends Error{constructor(a,c){super(c.message,{cause:a}),this.name=b.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=c.code}}class d extends c{constructor(a){super(a,{code:b.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=b.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}a.s(["ErrorUtil",0,b,"UserRejectedRequestError",()=>d])},840800,a=>{"use strict";var b=a.i(831065);a.s(["NumberUtil",0,{bigNumber:a=>new b.default(a?a:0),multiply(a,c){if(void 0===a||void 0===c)return new b.default(0);let d=new b.default(a),e=new b.default(c);return d.times(e)},toFixed:(a,c=2)=>void 0===a||""===a?new b.default(0).toFixed(c):new b.default(a).toFixed(c),formatNumberToLocalString:(a,b=2)=>void 0===a||""===a?"0.00":"number"==typeof a?a.toLocaleString("en-US",{maximumFractionDigits:b,minimumFractionDigits:b,roundingMode:"floor"}):parseFloat(a).toLocaleString("en-US",{maximumFractionDigits:b,minimumFractionDigits:b,roundingMode:"floor"}),parseLocalStringToNumber(a){if(void 0===a||""===a)return 0;let c=a.replace(/,/gu,"");return new b.default(c).toNumber()}}])},490610,164360,231483,49377,a=>{"use strict";a.s(["ChainController",()=>M],490610);var b=a.i(511854),c=a.i(791477),d=a.i(50516),e=a.i(341474),f=a.i(577248),g=a.i(230158),h=a.i(410760),i=a.i(936785),j=a.i(325163),k=a.i(203479),l=a.i(961081),m=a.i(196283),n=a.i(903112),o=a.i(739741),p=a.i(832557),q=a.i(881791),r=a.i(426779),s=a.i(351428),t=a.i(884353),u=a.i(355279);a.s(["SendController",()=>H],49377);var v=a.i(537786),w=a.i(840800);let x=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],y=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],z=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],A={getERC20Abi:a=>d.ConstantsUtil.USDT_CONTRACT_ADDRESSES.includes(a)?z:x,getSwapAbi:()=>y};a.s(["ContractUtil",0,A],164360);var B=a.i(358765);a.s(["SwapApiUtil",()=>D],231483);var C=a.i(175787);let D={async getTokenList(a){let b=await C.BlockchainApiController.fetchSwapTokens({chainId:a});return b?.tokens?.map(a=>({...a,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let a=M.state.activeCaipNetwork;if(!a)return null;try{if("solana"!==a.chainNamespace)return await C.BlockchainApiController.fetchGasPrice({chainId:a.caipNetworkId});{let a=(await o.ConnectionController?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:a,fast:a,instant:a}}}catch{return null}},async fetchSwapAllowance({tokenAddress:a,userAddress:b,sourceTokenAmount:c,sourceTokenDecimals:d}){let e=await C.BlockchainApiController.fetchSwapAllowance({tokenAddress:a,userAddress:b});if(e?.allowance&&c&&d){let a=o.ConnectionController.parseUnits(c,d)||0;return BigInt(e.allowance)>=a}return!1},async getMyTokensWithBalance(a){let b=await i.BalanceUtil.getMyTokensWithBalance(a);return M.setAccountProp("tokenBalance",b,M.state.activeChain),this.mapBalancesToSwapTokens(b)},mapBalancesToSwapTokens:a=>a?.map(a=>({...a,address:a?.address?a.address:(0,B.getActiveNetworkTokenAddress)(),decimals:parseInt(a.quantity.decimals,10),logoUri:a.iconUrl,eip2612:!1}))||[],async handleSwapError(a){try{let b=a?.cause;if(!b?.json)return;let c=await b.json(),d=c?.reasons?.[0]?.description;if(d?.includes("insufficient liquidity"))return"Insufficient liquidity";return}catch{return}}};var E=a.i(802320),F=a.i(848800);let G=(0,b.proxy)({tokenBalances:[],loading:!1}),H=(0,m.withErrorBoundary)({state:G,subscribe:a=>(0,b.subscribe)(G,()=>a(G)),subscribeKey:(a,b)=>(0,c.subscribeKey)(G,a,b),setToken(a){a&&(G.token=(0,b.ref)(a))},setTokenAmount(a){G.sendTokenAmount=a},setReceiverAddress(a){G.receiverAddress=a},setReceiverProfileImageUrl(a){G.receiverProfileImageUrl=a},setReceiverProfileName(a){G.receiverProfileName=a},setNetworkBalanceInUsd(a){G.networkBalanceInUSD=a},setLoading(a){G.loading=a},getSdkEventProperties:a=>({message:k.CoreHelperUtil.parseError(a),isSmartAccount:(0,B.getPreferredAccountType)(M.state.activeChain)===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:G.token?.symbol||"",amount:G.sendTokenAmount??0,network:M.state.activeCaipNetwork?.caipNetworkId||""}),async sendToken(){try{switch(H.setLoading(!0),M.state.activeCaipNetwork?.chainNamespace){case"eip155":await H.sendEvmToken();return;case"solana":await H.sendSolanaToken();return;default:throw Error("Unsupported chain")}}catch(a){if(v.ErrorUtil.isUserRejectedRequestError(a))throw new v.UserRejectedRequestError(a);throw a}finally{H.setLoading(!1)}},async sendEvmToken(){let a=M.state.activeChain;if(!a)throw Error("SendController:sendEvmToken - activeChainNamespace is required");let b=(0,B.getPreferredAccountType)(a);if(!H.state.sendTokenAmount||!H.state.receiverAddress)throw Error("An amount and receiver address are required");if(!H.state.token)throw Error("A token is required");if(H.state.token?.address){q.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:b===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:H.state.token.address,amount:H.state.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:a}=await H.sendERC20Token({receiverAddress:H.state.receiverAddress,tokenAddress:H.state.token.address,sendTokenAmount:H.state.sendTokenAmount,decimals:H.state.token.quantity.decimals});a&&(G.hash=a)}else{q.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:b===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:H.state.token.symbol||"",amount:H.state.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:a}=await H.sendNativeToken({receiverAddress:H.state.receiverAddress,sendTokenAmount:H.state.sendTokenAmount,decimals:H.state.token.quantity.decimals});a&&(G.hash=a)}},async fetchTokenBalance(a){G.loading=!0;let b=M.state.activeChain,c=M.state.activeCaipNetwork?.caipNetworkId,d=M.state.activeCaipNetwork?.chainNamespace,e=M.getAccountData(b)?.caipAddress??M.state.activeCaipAddress,f=e?k.CoreHelperUtil.getPlainAddress(e):void 0;if(G.lastRetry&&!k.CoreHelperUtil.isAllowedRetry(G.lastRetry,30*j.ConstantsUtil.ONE_SEC_MS))return G.loading=!1,[];try{if(f&&c&&d){let a=await i.BalanceUtil.getMyTokensWithBalance();return G.tokenBalances=a,G.lastRetry=void 0,a}}catch(b){G.lastRetry=Date.now(),a?.(b),F.SnackController.showError("Token Balance Unavailable")}finally{G.loading=!1}return[]},fetchNetworkBalance(){if(0===G.tokenBalances.length)return;let a=D.mapBalancesToSwapTokens(G.tokenBalances);if(!a)return;let b=a.find(a=>a.address===(0,B.getActiveNetworkTokenAddress)());b&&(G.networkBalanceInUSD=b?w.NumberUtil.multiply(b.quantity.numeric,b.price).toString():"0")},async sendNativeToken(a){E.RouterController.pushTransactionStack({});let b=a.receiverAddress,c=M.getAccountData()?.address,e=o.ConnectionController.parseUnits(a.sendTokenAmount.toString(),Number(a.decimals)),f=await o.ConnectionController.sendTransaction({chainNamespace:d.ConstantsUtil.CHAIN.EVM,to:b,address:c,data:"0x",value:e??BigInt(0)});return q.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,B.getPreferredAccountType)("eip155")===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:H.state.token?.symbol||"",amount:a.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||"",hash:f||""}}),o.ConnectionController._getClient()?.updateBalance("eip155"),H.resetSend(),{hash:f}},async sendERC20Token(a){E.RouterController.pushTransactionStack({onSuccess(){E.RouterController.replace("Account")}});let b=o.ConnectionController.parseUnits(a.sendTokenAmount.toString(),Number(a.decimals)),c=M.getAccountData()?.address;if(c&&a.sendTokenAmount&&a.receiverAddress&&a.tokenAddress){let e=k.CoreHelperUtil.getPlainAddress(a.tokenAddress);if(!e)throw Error("SendController:sendERC20Token - tokenAddress is required");let f=await o.ConnectionController.writeContract({fromAddress:c,tokenAddress:e,args:[a.receiverAddress,b??BigInt(0)],method:"transfer",abi:A.getERC20Abi(e),chainNamespace:d.ConstantsUtil.CHAIN.EVM});return q.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,B.getPreferredAccountType)("eip155")===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:H.state.token?.symbol||"",amount:a.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||"",hash:f||""}}),H.resetSend(),{hash:f}}return{hash:void 0}},async sendSolanaToken(){let a;if(!H.state.sendTokenAmount||!H.state.receiverAddress)throw Error("An amount and receiver address are required");E.RouterController.pushTransactionStack({onSuccess(){E.RouterController.replace("Account")}}),H.state.token&&H.state.token.address!==j.ConstantsUtil.SOLANA_NATIVE_TOKEN_ADDRESS&&(a=k.CoreHelperUtil.isCaipAddress(H.state.token.address)?k.CoreHelperUtil.getPlainAddress(H.state.token.address):H.state.token.address);let b=await o.ConnectionController.sendTransaction({chainNamespace:"solana",tokenMint:a,to:H.state.receiverAddress,value:H.state.sendTokenAmount});b&&(G.hash=b),o.ConnectionController._getClient()?.updateBalance("solana"),q.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:H.state.token?.symbol||"",amount:H.state.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||"",hash:b||""}}),H.resetSend()},resetSend(){G.token=void 0,G.sendTokenAmount=void 0,G.receiverAddress=void 0,G.receiverProfileImageUrl=void 0,G.receiverProfileName=void 0,G.loading=!1,G.tokenBalances=[]}}),I={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},J={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},K=(0,b.proxy)({chains:(0,c.proxyMap)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),L={state:K,subscribe:a=>(0,b.subscribe)(K,()=>{a(K)}),subscribeKey:(a,b)=>(0,c.subscribeKey)(K,a,b),subscribeAccountStateProp(a,b,d){let e=d||K.activeChain;return e?(0,c.subscribeKey)(K.chains.get(e)?.accountState||{},a,b):()=>void 0},subscribeChainProp(a,c,d){let e;return(0,b.subscribe)(K.chains,()=>{let b=d||K.activeChain;if(b){let d=K.chains.get(b)?.[a];e!==d&&(e=d,c(d))}})},initialize(a,c,d){let{chainId:e,namespace:f}=l.StorageUtil.getActiveNetworkProps(),g=c?.find(a=>a.id.toString()===e?.toString()),h=a.find(a=>a?.namespace===f)||a?.[0],i=a.map(a=>a.namespace).filter(a=>void 0!==a),j=new Set(s.OptionsController.state.enableEmbedded?[...i]:[...c?.map(a=>a.chainNamespace)??[]]);a?.length!==0&&h||(K.noAdapters=!0),!K.noAdapters&&(K.activeChain=h?.namespace,K.activeCaipNetwork=g,M.setChainNetworkData(h?.namespace,{caipNetwork:g}),K.activeChain&&u.PublicStateController.set({activeChain:h?.namespace})),j.forEach(a=>{let e=c?.filter(b=>b.chainNamespace===a),f=l.StorageUtil.getPreferredAccountTypes()||{},g={...s.OptionsController.state.defaultAccountTypes,...f};M.state.chains.set(a,{namespace:a,networkState:(0,b.proxy)({...J,caipNetwork:e?.[0]}),accountState:(0,b.proxy)({...I,preferredAccountType:g[a]}),caipNetworks:e??[],...d}),M.setRequestedCaipNetworks(e??[],a)})},removeAdapter(a){if(K.activeChain===a){let b=Array.from(K.chains.entries()).find(([b])=>b!==a);if(b){let a=b[1]?.caipNetworks?.[0];a&&M.setActiveCaipNetwork(a)}}K.chains.delete(a)},addAdapter(a,{connectionControllerClient:b},c){if(!a.namespace)throw Error("ChainController:addAdapter - adapter must have a namespace");K.chains.set(a.namespace,{namespace:a.namespace,networkState:{...J,caipNetwork:c[0]},accountState:{...I},caipNetworks:c,connectionControllerClient:b}),M.setRequestedCaipNetworks(c?.filter(b=>b.chainNamespace===a.namespace)??[],a.namespace)},addNetwork(a){let b=K.chains.get(a.chainNamespace);if(b){let c=[...b.caipNetworks||[]];b.caipNetworks?.find(b=>b.id===a.id)||c.push(a),K.chains.set(a.chainNamespace,{...b,caipNetworks:c}),M.setRequestedCaipNetworks(c,a.chainNamespace),p.ConnectorController.filterByNamespace(a.chainNamespace,!0)}},removeNetwork(a,b){let c=K.chains.get(a);if(c){let d=K.activeCaipNetwork?.id===b,e=[...c.caipNetworks?.filter(a=>a.id!==b)||[]];d&&c?.caipNetworks?.[0]&&M.setActiveCaipNetwork(c.caipNetworks[0]),K.chains.set(a,{...c,caipNetworks:e}),M.setRequestedCaipNetworks(e||[],a),0===e.length&&p.ConnectorController.filterByNamespace(a,!1)}},setAdapterNetworkState(a,b){let c=K.chains.get(a);c&&(c.networkState={...c.networkState||J,...b},K.chains.set(a,c))},setChainAccountData(a,b,c=!0){if(!a)throw Error("Chain is required to update chain account data");let d=K.chains.get(a);if(d){let c={...d.accountState||I,...b};K.chains.set(a,{...d,accountState:c}),(1===K.chains.size||K.activeChain===a)&&b.caipAddress&&(K.activeCaipAddress=b.caipAddress)}},setChainNetworkData(a,b){if(!a)return;let c=K.chains.get(a);if(c){let d={...c.networkState||J,...b};K.chains.set(a,{...c,networkState:d})}},setAccountProp(a,b,c,d=!0){M.setChainAccountData(c,{[a]:b},d)},setActiveNamespace(a){K.activeChain=a;let b=a?K.chains.get(a):void 0,c=b?.networkState?.caipNetwork;c?.id&&a&&(K.activeCaipAddress=b?.accountState?.caipAddress,K.activeCaipNetwork=c,M.setChainNetworkData(a,{caipNetwork:c}),l.StorageUtil.setActiveCaipNetworkId(c?.caipNetworkId),u.PublicStateController.set({activeChain:a,selectedNetworkId:c?.caipNetworkId}))},setActiveCaipNetwork(a){if(!a)return;let b=K.activeChain===a.chainNamespace;b||M.setIsSwitchingNamespace(!0);let c=K.chains.get(a.chainNamespace);K.activeChain=a.chainNamespace,K.activeCaipNetwork=a,M.setChainNetworkData(a.chainNamespace,{caipNetwork:a});let d=c?.accountState?.address;if(d)K.activeCaipAddress=`${a.chainNamespace}:${a.id}:${d}`;else if(b&&K.activeCaipAddress){let{address:b}=f.ParseUtil.parseCaipAddress(K.activeCaipAddress);d=b,K.activeCaipAddress=`${a.caipNetworkId}:${d}`}else K.activeCaipAddress=void 0;M.setChainAccountData(a.chainNamespace,{address:d,caipAddress:K.activeCaipAddress}),H.resetSend(),u.PublicStateController.set({activeChain:K.activeChain,selectedNetworkId:K.activeCaipNetwork?.caipNetworkId}),l.StorageUtil.setActiveCaipNetworkId(a.caipNetworkId),M.checkIfSupportedNetwork(a.chainNamespace)||!s.OptionsController.state.enableNetworkSwitch||s.OptionsController.state.allowUnsupportedChain||o.ConnectionController.state.wcBasic||M.showUnsupportedChainUI()},addCaipNetwork(a){if(!a)return;let b=K.chains.get(a.chainNamespace);b&&b?.caipNetworks?.push(a)},async switchActiveNamespace(a){if(!a)return;let b=a!==M.state.activeChain,c=M.getNetworkData(a)?.caipNetwork,d=M.getCaipNetworkByNamespace(a,c?.id);b&&d&&await M.switchActiveNetwork(d)},async switchActiveNetwork(a,{throwOnFailure:b=!1}={}){let c=M.state.activeChain;if(!c)throw Error("ChainController:switchActiveNetwork - namespace is required");let e="AUTH"===t.ProviderController.getProviderId(K.activeChain),f=M.getAccountData(c)?.address,g=d.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(a.chainNamespace);try{if(f&&a.chainNamespace===c||e&&g){let b=n.AdapterController.get(a.chainNamespace);if(!b)throw Error("Adapter not found");await b.switchNetwork({caipNetwork:a})}M.setActiveCaipNetwork(a)}catch(a){if(b)throw a}q.EventsController.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:a.caipNetworkId}})},getConnectionControllerClient(a){let b=a||K.activeChain;if(!b)throw Error("Chain is required to get connection controller client");let c=K.chains.get(b);if(!c?.connectionControllerClient)throw Error("ConnectionController client not set");return c.connectionControllerClient},getNetworkProp(a,b){let c=K.chains.get(b)?.networkState;if(c)return c[a]},getRequestedCaipNetworks(a){let b=K.chains.get(a),{approvedCaipNetworkIds:c=[],requestedCaipNetworks:d=[]}=b?.networkState||{};return k.CoreHelperUtil.sortRequestedNetworks(c,d).filter(a=>a?.id)},getAllRequestedCaipNetworks(){let a=[];return K.chains.forEach(b=>{if(!b.namespace)throw Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let c=M.getRequestedCaipNetworks(b.namespace);a.push(...c)}),a},setRequestedCaipNetworks(a,b){M.setAdapterNetworkState(b,{requestedCaipNetworks:a});let c=Array.from(new Set(M.getAllRequestedCaipNetworks().map(a=>a.chainNamespace)));p.ConnectorController.filterByNamespaces(c)},getAllApprovedCaipNetworkIds(){let a=[];return K.chains.forEach(b=>{if(!b.namespace)throw Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let c=M.getApprovedCaipNetworkIds(b.namespace);a.push(...c)}),a},getActiveCaipNetwork:a=>a?K.chains.get(a)?.networkState?.caipNetwork:K.activeCaipNetwork,getActiveCaipAddress:()=>K.activeCaipAddress,getApprovedCaipNetworkIds(a){let b=K.chains.get(a);return b?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(a,b){M.setAdapterNetworkState(a,b)},checkIfSupportedNetwork(a,b){let c=b||K.activeCaipNetwork?.caipNetworkId,d=M.getRequestedCaipNetworks(a);return!d.length||d?.some(a=>a.caipNetworkId===c)},checkIfSupportedChainId(a){if(!K.activeChain)return!0;let b=M.getRequestedCaipNetworks(K.activeChain);return b?.some(b=>b.id===a)},checkIfSmartAccountEnabled(){let a=e.NetworkUtil.caipNetworkIdToNumber(K.activeCaipNetwork?.caipNetworkId);if(!K.activeChain||!a)return!1;let b=h.W3mFrameStorage.get(g.W3mFrameConstants.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[];return!!b?.includes(a.toString())},showUnsupportedChainUI(){r.ModalController.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let a=K.activeCaipNetwork;return!!(a?.chainNamespace&&j.ConstantsUtil.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(a.chainNamespace))},resetNetwork(a){M.setAdapterNetworkState(a,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(a){if(!a)throw Error("Chain is required to set account prop");let b=M.state.chains.get(a)?.accountState?.preferredAccountType,c=s.OptionsController.state.defaultAccountTypes[a];K.activeCaipAddress=void 0,M.setChainAccountData(a,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:c||b,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),p.ConnectorController.removeConnectorId(a)},setIsSwitchingNamespace(a){K.isSwitchingNamespace=a},getFirstCaipNetworkSupportsAuthConnector(){let a=[];if(K.chains.forEach(b=>{d.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(a=>a===b.namespace)&&b.namespace&&a.push(b.namespace)}),a.length>0){let b=a[0];return b?K.chains.get(b)?.caipNetworks?.[0]:void 0}},getAccountData(a){let b=a||K.activeChain;if(b)return M.state.chains.get(b)?.accountState},getNetworkData(a){let b=a||K.activeChain;if(b)return M.state.chains.get(b)?.networkState},getCaipNetworkByNamespace(a,b){if(!a)return;let c=M.state.chains.get(a),d=c?.caipNetworks?.find(a=>a.id.toString()===b?.toString());return d||c?.networkState?.caipNetwork||c?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let a=p.ConnectorController.state.filterByNamespace;return(a?[K.chains.get(a)]:Array.from(K.chains.values())).flatMap(a=>a?.caipNetworks||[]).map(a=>a.caipNetworkId)},getCaipNetworks:a=>a?M.getRequestedCaipNetworks(a):M.getAllRequestedCaipNetworks(),getCaipNetworkById:(a,b)=>L.getCaipNetworks(b).find(b=>b.id.toString()===a.toString()||b.caipNetworkId.toString()===a.toString()),setLastConnectedSIWECaipNetwork(a){K.lastConnectedSIWECaipNetwork=a},getLastConnectedSIWECaipNetwork:()=>K.lastConnectedSIWECaipNetwork,async fetchTokenBalance(a){let b=M.getAccountData();if(!b)return[];let c=M.state.activeCaipNetwork?.caipNetworkId,d=M.state.activeCaipNetwork?.chainNamespace,e=M.state.activeCaipAddress,f=e?k.CoreHelperUtil.getPlainAddress(e):void 0;if(M.setAccountProp("balanceLoading",!0,d),b.lastRetry&&!k.CoreHelperUtil.isAllowedRetry(b.lastRetry,30*j.ConstantsUtil.ONE_SEC_MS))return M.setAccountProp("balanceLoading",!1,d),[];try{if(f&&c&&d){let a=await i.BalanceUtil.getMyTokensWithBalance();return M.setAccountProp("tokenBalance",a,d),M.setAccountProp("lastRetry",void 0,d),M.setAccountProp("balanceLoading",!1,d),a}}catch(b){M.setAccountProp("lastRetry",Date.now(),d),a?.(b),F.SnackController.showError("Token Balance Unavailable")}finally{M.setAccountProp("balanceLoading",!1,d)}return[]},isCaipNetworkDisabled(a){let b=a.chainNamespace,c=!!M.getAccountData(b)?.caipAddress,e=M.getAllApprovedCaipNetworkIds(),f=!1!==M.getNetworkProp("supportsAllNetworks",b),g=p.ConnectorController.getConnectorId(b),h=p.ConnectorController.getAuthConnector(),i=g===d.ConstantsUtil.CONNECTOR_ID.AUTH&&h;return!!c&&!f&&!i&&!e?.includes(a.caipNetworkId)}},M=(0,m.withErrorBoundary)(L)}];

//# sourceMappingURL=89298_02304628._.js.map