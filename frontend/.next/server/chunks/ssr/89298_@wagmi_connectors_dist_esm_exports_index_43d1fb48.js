module.exports=[194903,a=>{"use strict";let b,c;a.s([],8102),a.i(8102);var d,e,f,g,h,i,j,k,l,m,n=a.i(504984),o=a.i(779416),p=a.i(81251),q=a.i(243978),r=a.i(775858),s=a.i(4905),t=a.i(267119),u=a.i(276834),v=a.i(728238),w=a.i(156898),x=a.i(647032);function y(a){let b,c=new Map,d=a.features??{defaultConnected:!1},e=d.defaultConnected;return(0,x.createConnector)(f=>({id:"mock",name:"Mock Connector",type:y.type,async setup(){b=f.chains[0].id},async connect({chainId:a,withCapabilities:b}={}){if(d.connectError){if("boolean"==typeof d.connectError)throw new u.UserRejectedRequestError(Error("Failed to connect."));throw d.connectError}let c=await this.getProvider(),f=await c.request({method:"eth_requestAccounts"}),g=await this.getChainId();return a&&g!==a&&(g=(await this.switchChain({chainId:a})).id),e=!0,{accounts:b?f.map(a=>({address:(0,q.getAddress)(a),capabilities:{foo:{bar:a}}})):f.map(a=>(0,q.getAddress)(a)),chainId:g}},async disconnect(){e=!1},async getAccounts(){if(!e)throw new w.ConnectorNotConnectedError;let a=await this.getProvider();return(await a.request({method:"eth_accounts"})).map(a=>(0,q.getAddress)(a))},async getChainId(){let a=await this.getProvider(),b=await a.request({method:"eth_chainId"});return(0,p.fromHex)(b,"number")},async isAuthorized(){return!!d.reconnect&&!!e&&!!(await this.getAccounts()).length},async switchChain({chainId:a}){let b=await this.getProvider(),c=f.chains.find(b=>b.id===a);if(!c)throw new u.SwitchChainError(new w.ChainNotConfiguredError);return await b.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.numberToHex)(a)}]}),c},onAccountsChanged(a){0===a.length?this.onDisconnect():f.emitter.emit("change",{accounts:a.map(a=>(0,q.getAddress)(a))})},onChainChanged(a){let b=Number(a);f.emitter.emit("change",{chainId:b})},async onDisconnect(a){f.emitter.emit("disconnect"),e=!1},async getProvider({chainId:g}={}){let h=(f.chains.find(a=>a.id===g)??f.chains[0]).rpcUrls.default.http[0],i=async({method:f,params:g})=>{if("eth_chainId"===f)return(0,s.numberToHex)(b);if("eth_requestAccounts"===f)return a.accounts;if("eth_signTypedData_v4"===f&&d.signTypedDataError){if("boolean"==typeof d.signTypedDataError)throw new u.UserRejectedRequestError(Error("Failed to sign typed data."));throw d.signTypedDataError}if("wallet_switchEthereumChain"===f){if(d.switchChainError){if("boolean"==typeof d.switchChainError)throw new u.UserRejectedRequestError(Error("Failed to switch chain."));throw d.switchChainError}b=(0,p.fromHex)(g[0].chainId,"number"),this.onChainChanged(b.toString());return}if("wallet_watchAsset"===f){if(d.watchAssetError){if("boolean"==typeof d.watchAssetError)throw new u.UserRejectedRequestError(Error("Failed to switch chain."));throw d.watchAssetError}return e}if("wallet_getCapabilities"===f)return{"0x2105":{paymasterService:{supported:"0x95132632579b073D12a6673e18Ab05777a6B86f8"===g[0]},sessionKeys:{supported:!0}},"0x14A34":{paymasterService:{supported:"0x95132632579b073D12a6673e18Ab05777a6B86f8"===g[0]}}};if("wallet_sendCalls"===f){let a=[],b=g[0].calls,d=g[0].from;for(let c of b){let{result:b,error:e}=await v.rpc.http(h,{body:{method:"eth_sendTransaction",params:[{...c,...void 0!==d?{from:d}:{}}]}});if(e)throw new t.RpcRequestError({body:{method:f,params:g},error:e,url:h});a.push(b)}let e=(0,r.keccak256)((0,s.stringToHex)(JSON.stringify(b)));return c.set(e,a),{id:e}}if("wallet_getCallsStatus"===f){let a=c.get(g[0]);if(!a)return{atomic:!1,chainId:"0x1",id:g[0],status:100,receipts:[],version:"2.0.0"};let b=(await Promise.all(a.map(async a=>{let{result:b,error:c}=await v.rpc.http(h,{body:{method:"eth_getTransactionReceipt",params:[a],id:0}});if(c)throw new t.RpcRequestError({body:{method:f,params:g},error:c,url:h});return b?{blockHash:b.blockHash,blockNumber:b.blockNumber,gasUsed:b.gasUsed,logs:b.logs,status:b.status,transactionHash:b.transactionHash}:null}))).filter(a=>null!==a);return 0===b.length?{atomic:!1,chainId:"0x1",id:g[0],status:100,receipts:[],version:"2.0.0"}:{atomic:!1,chainId:"0x1",id:g[0],status:200,receipts:b,version:"2.0.0"}}if("wallet_showCallsStatus"===f)return;if("personal_sign"===f){if(d.signMessageError){if("boolean"==typeof d.signMessageError)throw new u.UserRejectedRequestError(Error("Failed to sign message."));throw d.signMessageError}f="eth_sign",g=[g[1],g[0]]}let i={method:f,params:g},{error:j,result:k}=await v.rpc.http(h,{body:i});if(j)throw new t.RpcRequestError({body:i,error:j,url:h});return k};return(0,o.custom)({request:i})({retryCount:0})}}))}function z(b={}){let c,d,e,f;return(0,x.createConnector)(g=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:a,withCapabilities:b}={}){try{let c=await this.getProvider(),g=(await c.request({method:"eth_requestAccounts",params:[]})).map(a=>(0,q.getAddress)(a));d||(d=this.onAccountsChanged.bind(this),c.on("accountsChanged",d)),e||(e=this.onChainChanged.bind(this),c.on("chainChanged",e)),f||(f=this.onDisconnect.bind(this),c.on("disconnect",f));let h=await this.getChainId();if(a&&h!==a){let b=await this.switchChain({chainId:a}).catch(a=>{if(a.code===u.UserRejectedRequestError.code)throw a;return{id:h}});h=b?.id??h}return{accounts:b?g.map(a=>({address:a,capabilities:{}})):g,chainId:h}}catch(a){if(/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(a.message))throw new u.UserRejectedRequestError(a);throw a}},async disconnect(){let a=await this.getProvider();d&&(a.removeListener("accountsChanged",d),d=void 0),e&&(a.removeListener("chainChanged",e),e=void 0),f&&(a.removeListener("disconnect",f),f=void 0),a.disconnect()},async getAccounts(){let a=await this.getProvider();return(await a.request({method:"eth_accounts"})).map(a=>(0,q.getAddress)(a))},async getChainId(){let a=await this.getProvider();return Number(await a.request({method:"eth_chainId"}))},async getProvider(){if(!c){let d="string"==typeof b.preference?{options:b.preference}:{...b.preference,options:b.preference?.options??"all"},{createBaseAccountSDK:e}=await a.A(853265);c=e({...b,appChainIds:g.chains.map(a=>a.id),preference:d}).getProvider()}return c},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:b}){let c=g.chains.find(a=>a.id===b);if(!c)throw new u.SwitchChainError(new w.ChainNotConfiguredError);let d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.numberToHex)(c.id)}]}),c}catch(e){if(4902===e.code)try{let e,f;e=a?.blockExplorerUrls?a.blockExplorerUrls:c.blockExplorers?.default.url?[c.blockExplorers?.default.url]:[],f=a?.rpcUrls?.length?a.rpcUrls:[c.rpcUrls.default?.http[0]??""];let g={blockExplorerUrls:e,chainId:(0,s.numberToHex)(b),chainName:a?.chainName??c.name,iconUrls:a?.iconUrls,nativeCurrency:a?.nativeCurrency??c.nativeCurrency,rpcUrls:f};return await d.request({method:"wallet_addEthereumChain",params:[g]}),c}catch(a){throw new u.UserRejectedRequestError(a)}throw new u.SwitchChainError(e)}},onAccountsChanged(a){0===a.length?this.onDisconnect():g.emitter.emit("change",{accounts:a.map(a=>(0,q.getAddress)(a))})},onChainChanged(a){let b=Number(a);g.emitter.emit("change",{chainId:b})},async onDisconnect(a){g.emitter.emit("disconnect");let b=await this.getProvider();d&&(b.removeListener("accountsChanged",d),d=void 0),e&&(b.removeListener("chainChanged",e),e=void 0),f&&(b.removeListener("disconnect",f),f=void 0)}}))}function A(b={}){var c,d;let e,f,g,h,i,j,k,l,m;return"3"===b.version||b.headlessMode?(c=b,(0,x.createConnector)(b=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:A.type,async connect({chainId:a,withCapabilities:b}={}){try{let c=await this.getProvider(),d=(await c.request({method:"eth_requestAccounts"})).map(a=>(0,q.getAddress)(a));g||(g=this.onAccountsChanged.bind(this),c.on("accountsChanged",g)),h||(h=this.onChainChanged.bind(this),c.on("chainChanged",h)),i||(i=this.onDisconnect.bind(this),c.on("disconnect",i));let e=await this.getChainId();if(a&&e!==a){let b=await this.switchChain({chainId:a}).catch(a=>{if(a.code===u.UserRejectedRequestError.code)throw a;return{id:e}});e=b?.id??e}return{accounts:b?d.map(a=>({address:a,capabilities:{}})):d,chainId:e}}catch(a){if(/(user closed modal|accounts received is empty|user denied account)/i.test(a.message))throw new u.UserRejectedRequestError(a);throw a}},async disconnect(){let a=await this.getProvider();g&&(a.removeListener("accountsChanged",g),g=void 0),h&&(a.removeListener("chainChanged",h),h=void 0),i&&(a.removeListener("disconnect",i),i=void 0),a.disconnect(),a.close()},async getAccounts(){let a=await this.getProvider();return(await a.request({method:"eth_accounts"})).map(a=>(0,q.getAddress)(a))},async getChainId(){let a=await this.getProvider();return Number(await a.request({method:"eth_chainId"}))},async getProvider(){if(!f){e=new(await (async()=>{let{default:b}=await a.A(545958);return"function"!=typeof b&&"function"==typeof b.default?b.default:b})())({...c,reloadOnDisconnect:!1});let d=e.walletExtension?.getChainId(),g=b.chains.find(a=>c.chainId?a.id===c.chainId:a.id===d)||b.chains[0],h=c.chainId||g?.id,i=c.jsonRpcUrl||g?.rpcUrls.default.http[0];f=e.makeWeb3Provider(i,h)}return f},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:c}){let d=b.chains.find(a=>a.id===c);if(!d)throw new u.SwitchChainError(new w.ChainNotConfiguredError);let e=await this.getProvider();try{return await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.numberToHex)(d.id)}]}),d}catch(b){if(4902===b.code)try{let b,f;b=a?.blockExplorerUrls?a.blockExplorerUrls:d.blockExplorers?.default.url?[d.blockExplorers?.default.url]:[],f=a?.rpcUrls?.length?a.rpcUrls:[d.rpcUrls.default?.http[0]??""];let g={blockExplorerUrls:b,chainId:(0,s.numberToHex)(c),chainName:a?.chainName??d.name,iconUrls:a?.iconUrls,nativeCurrency:a?.nativeCurrency??d.nativeCurrency,rpcUrls:f};return await e.request({method:"wallet_addEthereumChain",params:[g]}),d}catch(a){throw new u.UserRejectedRequestError(a)}throw new u.SwitchChainError(b)}},onAccountsChanged(a){0===a.length?this.onDisconnect():b.emitter.emit("change",{accounts:a.map(a=>(0,q.getAddress)(a))})},onChainChanged(a){let c=Number(a);b.emitter.emit("change",{chainId:c})},async onDisconnect(a){b.emitter.emit("disconnect");let c=await this.getProvider();g&&(c.removeListener("accountsChanged",g),g=void 0),h&&(c.removeListener("chainChanged",h),h=void 0),i&&(c.removeListener("disconnect",i),i=void 0)}}))):(d=b,(0,x.createConnector)(b=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:A.type,async connect({chainId:a,withCapabilities:b,...c}={}){try{let d=await this.getProvider(),e=(await d.request({method:"eth_requestAccounts",params:"instantOnboarding"in c&&c.instantOnboarding?[{onboarding:"instant"}]:[]})).map(a=>(0,q.getAddress)(a));k||(k=this.onAccountsChanged.bind(this),d.on("accountsChanged",k)),l||(l=this.onChainChanged.bind(this),d.on("chainChanged",l)),m||(m=this.onDisconnect.bind(this),d.on("disconnect",m));let f=await this.getChainId();if(a&&f!==a){let b=await this.switchChain({chainId:a}).catch(a=>{if(a.code===u.UserRejectedRequestError.code)throw a;return{id:f}});f=b?.id??f}return{accounts:b?e.map(a=>({address:a,capabilities:{}})):e,chainId:f}}catch(a){if(/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(a.message))throw new u.UserRejectedRequestError(a);throw a}},async disconnect(){let a=await this.getProvider();k&&(a.removeListener("accountsChanged",k),k=void 0),l&&(a.removeListener("chainChanged",l),l=void 0),m&&(a.removeListener("disconnect",m),m=void 0),a.disconnect(),a.close?.()},async getAccounts(){let a=await this.getProvider();return(await a.request({method:"eth_accounts"})).map(a=>(0,q.getAddress)(a))},async getChainId(){let a=await this.getProvider();return Number(await a.request({method:"eth_chainId"}))},async getProvider(){if(!j){let c="string"==typeof d.preference?{options:d.preference}:{...d.preference,options:d.preference?.options??"all"},{createCoinbaseWalletSDK:e}=await a.A(227796);j=e({...d,appChainIds:b.chains.map(a=>a.id),preference:c}).getProvider()}return j},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:c}){let d=b.chains.find(a=>a.id===c);if(!d)throw new u.SwitchChainError(new w.ChainNotConfiguredError);let e=await this.getProvider();try{return await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.numberToHex)(d.id)}]}),d}catch(b){if(4902===b.code)try{let b,f;b=a?.blockExplorerUrls?a.blockExplorerUrls:d.blockExplorers?.default.url?[d.blockExplorers?.default.url]:[],f=a?.rpcUrls?.length?a.rpcUrls:[d.rpcUrls.default?.http[0]??""];let g={blockExplorerUrls:b,chainId:(0,s.numberToHex)(c),chainName:a?.chainName??d.name,iconUrls:a?.iconUrls,nativeCurrency:a?.nativeCurrency??d.nativeCurrency,rpcUrls:f};return await e.request({method:"wallet_addEthereumChain",params:[g]}),d}catch(a){throw new u.UserRejectedRequestError(a)}throw new u.SwitchChainError(b)}},onAccountsChanged(a){0===a.length?this.onDisconnect():b.emitter.emit("change",{accounts:a.map(a=>(0,q.getAddress)(a))})},onChainChanged(a){let c=Number(a);b.emitter.emit("change",{chainId:c})},async onDisconnect(a){b.emitter.emit("disconnect");let c=await this.getProvider();k&&(c.removeListener("accountsChanged",k),k=void 0),l&&(c.removeListener("chainChanged",l),l=void 0),m&&(c.removeListener("disconnect",m),m=void 0)}})))}function B(a){return!!a&&"object"==typeof a&&!Array.isArray(a)}y.type="mock",A.type="coinbaseWallet";let C=(a,b)=>Object.hasOwnProperty.call(a,b);(d=m=m||(m={}))[d.Null=4]="Null",d[d.Comma=1]="Comma",d[d.Wrapper=1]="Wrapper",d[d.True=4]="True",d[d.False=5]="False",d[d.Quote=1]="Quote",d[d.Colon=1]="Colon",d[d.Date=24]="Date";var D=a.i(877688);class E extends TypeError{constructor(a,b){let c;const{message:d,explanation:e,...f}=a,{path:g}=a,h=0===g.length?d:`At path: ${g.join(".")} -- ${d}`;super(e??h),null!=e&&(this.cause=h),Object.assign(this,f),this.name=this.constructor.name,this.failures=()=>c??(c=[a,...b()])}}function F(a){return"object"==typeof a&&null!==a}function G(a){return"symbol"==typeof a?a.toString():"string"==typeof a?JSON.stringify(a):`${a}`}function*H(a,b,c,d){var e;for(let f of(F(e=a)&&"function"==typeof e[Symbol.iterator]||(a=[a]),a)){let a=function(a,b,c,d){if(!0===a)return;!1===a?a={}:"string"==typeof a&&(a={message:a});let{path:e,branch:f}=b,{type:g}=c,{refinement:h,message:i=`Expected a value of type \`${g}\`${h?` with refinement \`${h}\``:""}, but received: \`${G(d)}\``}=a;return{value:d,type:g,refinement:h,key:e[e.length-1],path:e,branch:f,...a,message:i}}(f,b,c,d);a&&(yield a)}}function*I(a,b,c={}){let{path:d=[],branch:e=[a],coerce:f=!1,mask:g=!1}=c,h={path:d,branch:e};if(f&&(a=b.coercer(a,h),g&&"type"!==b.type&&F(b.schema)&&F(a)&&!Array.isArray(a)))for(let c in a)void 0===b.schema[c]&&delete a[c];let i="valid";for(let d of b.validator(a,h))d.explanation=c.message,i="not_valid",yield[d,void 0];for(let[j,k,l]of b.entries(a,h))for(let b of I(k,l,{path:void 0===j?d:[...d,j],branch:void 0===j?e:[...e,k],coerce:f,mask:g,message:c.message}))b[0]?(i=null===b[0].refinement||void 0===b[0].refinement?"not_valid":"not_refined",yield[b[0],void 0]):f&&(k=b[1],void 0===j?a=k:a instanceof Map?a.set(j,k):a instanceof Set?a.add(k):F(a)&&(void 0!==k||j in a)&&(a[j]=k));if("not_valid"!==i)for(let d of b.refiner(a,h))d.explanation=c.message,i="not_refined",yield[d,void 0];"valid"===i&&(yield[void 0,a])}class J{constructor(a){const{type:b,schema:c,validator:d,refiner:e,coercer:f=a=>a,entries:g=function*(){}}=a;this.type=b,this.schema=c,this.entries=g,this.coercer=f,d?this.validator=(a,b)=>H(d(a,b),b,this,a):this.validator=()=>[],e?this.refiner=(a,b)=>H(e(a,b),b,this,a):this.refiner=()=>[]}assert(a,b){var c=a,d=this,e=b;let f=O(c,d,{message:e});if(f[0])throw f[0]}create(a,b){return M(a,this,b)}is(a){return N(a,this)}mask(a,b){var c=a,d=this,e=b;let f=O(c,d,{coerce:!0,mask:!0,message:e});if(!f[0])return f[1];throw f[0]}validate(a,b={}){return O(a,this,b)}}let K="EXACT_OPTIONAL";class L extends J{constructor(a){super({...a,type:`exact optional ${a.type}`}),this.brand=K}static isExactOptional(a){return F(a)&&"brand"in a&&a.brand===K}}function M(a,b,c){let d=O(a,b,{coerce:!0,message:c});if(!d[0])return d[1];throw d[0]}function N(a,b){return!O(a,b)[0]}function O(a,b,c={}){let d=I(a,b,c),e=function(a){let{done:b,value:c}=a.next();return b?void 0:c}(d);return e[0]?[new E(e[0],function*(){for(let a of d)a[0]&&(yield a[0])}),void 0]:[void 0,e[1]]}function P(a,b){return new J({type:a,schema:null,validator:b})}function Q(a){let b=a?Object.keys(a):[],c=P("never",()=>!1);return new J({type:"object",schema:a??null,*entries(d){if(a&&F(d)){let e=new Set(Object.keys(d));for(let c of b){e.delete(c);let b=a[c];(!L.isExactOptional(b)||Object.prototype.hasOwnProperty.call(d,c))&&(yield[c,d[c],a[c]])}for(let a of e)yield[a,d[a],c]}},validator:a=>F(a)||`Expected an object, but received: ${G(a)}`,coercer:a=>F(a)?{...a}:a})}function R(a){return new J({...a,validator:(b,c)=>void 0===b||a.validator(b,c),refiner:(b,c)=>void 0===b||a.refiner(b,c)})}function S(){return P("string",a=>"string"==typeof a||`Expected a string, but received: ${G(a)}`)}function T(a){let b=a.map(a=>a.type).join(" | ");return new J({type:"union",schema:null,coercer(b){for(let c of a){let[a,d]=c.validate(b,{coerce:!0});if(!a)return d}return b},validator(c,d){let e=[];for(let b of a){let[...a]=I(c,b,d),[f]=a;if(!f?.[0])return[];for(let[b]of a)b&&e.push(b)}return[`Expected the value to satisfy a union of \`${b}\`, but received: ${G(c)}`,...e]}})}function U({path:a,branch:b}){let c=a[a.length-1];return C(b[b.length-2],c)}function V(a){return new J({...a,type:`optional ${a.type}`,validator:(b,c)=>!U(c)||a.validator(b,c),refiner:(b,c)=>!U(c)||a.refiner(b,c)})}let W=P("JSON",a=>(function a(b){if(null===b||"boolean"==typeof b||"string"==typeof b||"number"==typeof b&&Number.isFinite(b))return!0;if("object"==typeof b){let c=!0;if(Array.isArray(b)){for(let d=0;d<b.length;d++)if(!a(b[d])){c=!1;break}return c}let d=Object.entries(b);for(let b=0;b<d.length;b++)if("string"!=typeof d[b][0]||!a(d[b][1])){c=!1;break}return c}return!1})(a)),X=(e=P("any",()=>!0),f=a=>N(a,W),g=new J({...e,*refiner(a,b){for(let c of(yield*e.refiner(a,b),H(f(a,b),b,e,a)))yield{...c,refinement:"JSON"}}}),h=a=>JSON.parse(JSON.stringify(a,(a,b)=>{if("__proto__"!==a&&"constructor"!==a)return b})),new J({...W,coercer:(a,b)=>N(a,g)?W.coercer(h(a,b),b):W.coercer(a,b)}));function Y(a){try{var b;return b=a,M(b,X),!0}catch{return!1}}let Z=(b=G("2.0"),new J({type:"literal",schema:"string"==(c="string")?"2.0":null,validator:a=>"2.0"===a||`Expected the literal \`${b}\`, but received: ${G(a)}`})),$=new J({...i=T([P("number",a=>"number"==typeof a&&!isNaN(a)||`Expected a number, but received: ${G(a)}`),S()]),validator:(a,b)=>null===a||i.validator(a,b),refiner:(a,b)=>null===a||i.refiner(a,b)}),_=Q({code:P("integer",a=>"number"==typeof a&&!isNaN(a)&&Number.isInteger(a)||`Expected an integer, but received: ${G(a)}`),message:S(),data:V(X),stack:V(S())}),aa=T([(j=S(),new J({type:"record",schema:null,*entries(a){if(F(a))for(let b in a){let c=a[b];yield[b,b,j],yield[b,c,X]}},validator:a=>F(a)||`Expected an object, but received: ${G(a)}`})),new J({type:"array",schema:X,*entries(a){if(X&&Array.isArray(a))for(let[b,c]of a.entries())yield[b,c,X]},coercer:a=>Array.isArray(a)?a.slice():a,validator:a=>Array.isArray(a)||`Expected an array value, but received: ${G(a)}`})]);Q({id:$,jsonrpc:Z,method:S(),params:V(aa)}),Q({jsonrpc:Z,method:S(),params:V(aa)}),Q({id:$,jsonrpc:Z,result:R(P("unknown",()=>!0)),error:R(_)});let ab=Q({id:$,jsonrpc:Z,result:X});T([ab,Q({id:$,jsonrpc:Z,error:_})]);let ac=-32003,ad=-32004,ae=-32602,af=-32603,ag=4001,ah=4100,ai={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},aj=af,ak={code:aj,message:al(aj)};function al(a,b="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(a)){var c;let b=a.toString();if(C(ai,b))return ai[b].message;if((c=a)>=-32099&&c<=-32e3)return"Unspecified server error."}return b}function am(a){return Array.isArray(a)?a.map(a=>Y(a)?a:B(a)?an(a):null):B(a)?an(a):Y(a)?a:null}function an(a){return Object.getOwnPropertyNames(a).reduce((b,c)=>{let d=a[c];return Y(d)&&(b[c]=d),b},{})}let ao=(k=D.default,k?.__esModule?k.default:k);class ap extends Error{constructor(a,b,c){if(!Number.isInteger(a))throw Error('"code" must be an integer.');if(!b||"string"!=typeof b)throw Error('"message" must be a non-empty string.');!function(a){return B(a)&&C(a,"cause")&&B(a.cause)}(c)?super(b):(super(b,{cause:c.cause}),C(this,"cause")||Object.assign(this,{cause:c.cause})),void 0!==c&&(this.data=c),this.code=a}serialize(){let a={code:this.code,message:this.message};return void 0!==this.data&&(a.data=this.data,function(a){if("object"!=typeof a||null===a)return!1;try{let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}catch(a){return!1}}(this.data)&&(a.data.cause=am(this.data.cause))),this.stack&&(a.stack=this.stack),a}toString(){return ao(this.serialize(),ar,2)}}class aq extends ap{constructor(a,b,c){if(!function(a){return Number.isInteger(a)&&a>=1e3&&a<=4999}(a))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(a,b,c)}}function ar(a,b){if("[Circular]"!==b)return b}function as(a,b){let[c,d]=au(b);return new ap(a,c??al(a),d)}function at(a,b){let[c,d]=au(b);return new aq(a,c??al(a),d)}function au(a){if(a){if("string"==typeof a)return[a];else if("object"==typeof a&&!Array.isArray(a)){let{message:b,data:c}=a;if(b&&"string"!=typeof b)throw Error("Must specify string message.");return[b??void 0,c]}}return[]}var av=a.i(408811),aw=a.i(320358),ax=a.i(123908),ay=a.i(346821),az=a.i(729992),aA=a.i(292206),aB=a.i(542355),aC=a.i(93782),aD=a.i(266030),aE=a.i(493847);a.i(78006);var aF=a.i(977988);a.i(58281),a.i(883448),a.i(817046),a.i(296723);var aG=a.i(112898),aH="undefined"!=typeof process&&"undefined"||"https://keys.gemini.com",aI=[...Object.values({ARBITRUM_ONE:42161,BASE:8453,ETHEREUM:1,OP_MAINNET:10,POLYGON:137}),...Object.values({ARBITRUM_SEPOLIA:421614,BASE_SEPOLIA:84532,OP_SEPOLIA:0xaa37dc,POLYGON_AMOY:80002,SEPOLIA:0xaa36a7})];function aJ(a){return({[az.mainnet.id]:az.mainnet.rpcUrls.default.http[0],[av.arbitrum.id]:av.arbitrum.rpcUrls.default.http[0],[aA.optimism.id]:aA.optimism.rpcUrls.default.http[0],[ax.base.id]:ax.base.rpcUrls.default.http[0],[aC.polygon.id]:aC.polygon.rpcUrls.default.http[0],[aE.sepolia.id]:aE.sepolia.rpcUrls.default.http[0],[aw.arbitrumSepolia.id]:aw.arbitrumSepolia.rpcUrls.default.http[0],[aB.optimismSepolia.id]:aB.optimismSepolia.rpcUrls.default.http[0],[ay.baseSepolia.id]:ay.baseSepolia.rpcUrls.default.http[0],[aD.polygonAmoy.id]:aD.polygonAmoy.rpcUrls.default.http[0]})[a]}var aK=((l=aK||{}).POPUP_LOADED="POPUP_LOADED",l.POPUP_UNLOADED="POPUP_UNLOADED",l.POPUP_APP_CONTEXT="POPUP_APP_CONTEXT",l.SDK_CONNECT="SDK_CONNECT",l.SDK_DISCONNECT="SDK_DISCONNECT",l.SDK_SEND_TRANSACTION="SDK_SEND_TRANSACTION",l.SDK_SIGN_DATA="SDK_SIGN_DATA",l.SDK_SIGN_TYPED_DATA="SDK_SIGN_TYPED_DATA",l.SDK_SWITCH_CHAIN="SDK_SWITCH_CHAIN",l.SDK_OPEN_SETTINGS="SDK_OPEN_SETTINGS",l.SDK_CURRENT_ACCOUNT="SDK_CURRENT_ACCOUNT",l),aL=class extends aF.EventEmitter{},aM=a=>`0x${BigInt(a).toString(16)}`,aN=class{constructor({appMetadata:a,onDisconnectCallback:b}){this.popup=null,this.listeners=new Map,this.postMessage=async a=>{(await this.waitForPopupLoaded()).postMessage(a,this.url.origin)},this.postRequestAndWaitForResponse=async a=>{let b=this.onMessage(({requestId:b})=>b===a.requestId);return this.postMessage(a),await b},this.onMessage=a=>new Promise((b,c)=>{let d=c=>{if(c.origin!==this.url.origin)return;let e=c.data;a(e)&&(b(e),window.removeEventListener("message",d),this.listeners.delete(d))};window.addEventListener("message",d),this.listeners.set(d,{reject:c})}),this.onRequestCancelled=()=>{var a;(a=this.popup)&&!a.closed&&(a.opener?.focus(),a.close()),this.popup=null,this.listeners.forEach(({reject:a},b)=>{a(at(ag,void 0)),window.removeEventListener("message",b)}),this.listeners.clear()},this.waitForPopupLoaded=()=>this.popup&&!this.popup.closed?(this.popup.focus(),Promise.resolve(this.popup)):(this.popup=(a=>{let b=(window.innerWidth-420)/2+window.screenX,c=(window.innerHeight-650)/2+window.screenY,d=`wallet_${window?.crypto?.randomUUID()}`,e=window.open(a,d,`width=420, height=650, left=${b}, top=${c}`);if(e?.focus(),!e){let a;throw a="Pop up window failed to open",as(af,a)}return e})(this.url),this.onMessage(({event:a})=>"POPUP_UNLOADED"===a).then(this.onRequestCancelled).catch(()=>{}),this.onMessage(({event:a})=>"SDK_DISCONNECT"===a).then(()=>{this.onDisconnectCallback?.(),this.onRequestCancelled()}).catch(()=>{}),this.onMessage(({event:a})=>"POPUP_LOADED"===a).then(a=>{this.postMessage({chainId:42161,data:{appMetadata:this.appMetadata,origin:window.location.origin,sdkVersion:"0.3.1"},event:"POPUP_APP_CONTEXT",origin:window.location.origin,requestId:a.requestId})}).then(()=>{if(!this.popup)throw as(af,void 0);return this.popup})),this.url=new URL(aH),this.appMetadata=a,this.onDisconnectCallback=b}},aO={},aP=class{constructor({scope:a="@gemini",module:b="wallet"}={}){this.scope=a,this.module=b}scopedKey(a){return`${this.scope}.${this.module}.${a}`}async storeObject(a,b){let c=JSON.stringify(b,(a,b)=>"bigint"==typeof b?b.toString()+"n":b,2);await this.setItem(a,c)}async loadObject(a,b){let c=await this.getItem(a);if(!c)return await this.storeObject(a,b),b;try{return JSON.parse(c)}catch(c){return console.error(`Error parsing JSON for key ${a}:`,c),b}}async setItem(a,b){let c=this.scopedKey(a);try{localStorage.setItem(c,b)}catch(a){console.warn("localStorage not available, using memory storage",a),aO[c]=b}}async getItem(a){let b=this.scopedKey(a);try{return localStorage.getItem(b)}catch(a){return console.warn("localStorage not available, using memory storage",a),aO[b]||null}}async removeItem(a){let b=this.scopedKey(a);try{localStorage.removeItem(b)}catch(a){console.warn("localStorage not available, using memory storage",a),delete aO[b]}}async removeItems(a){await Promise.all(a.map(a=>this.removeItem(a)))}},aQ="eth-accounts",aR="eth-active-chain",aS=class{constructor({appMetadata:a,chain:b,onDisconnectCallback:c,storage:d}){this.accounts=[],this.chain={id:42161},this.communicator=new aN({appMetadata:a,onDisconnectCallback:c}),this.storage=d||new aP;const e=b?.id??42161,f=b?.rpcUrl??aJ(e);this.initPromise=this.initializeFromStorage({id:e,rpcUrl:f})}async initializeFromStorage(a){let b={...a,rpcUrl:a.rpcUrl||aJ(a.id)},[c,d]=await Promise.all([this.storage.loadObject(aR,b),this.storage.loadObject(aQ,this.accounts)]);this.chain={...c,rpcUrl:c.rpcUrl||aJ(c.id)},this.accounts=d}async ensureInitialized(){await this.initPromise}async connect(){await this.ensureInitialized();let a=await this.sendMessageToPopup({chainId:this.chain.id,event:"SDK_CONNECT",origin:window.location.origin});return this.accounts=a.data.address?[a.data.address]:[],await this.storage.storeObject(aQ,this.accounts),this.accounts}async disconnect(){await this.ensureInitialized(),this.accounts=[],await this.storage.storeObject(aQ,this.accounts)}async switchChain({id:a}){return(await this.ensureInitialized(),aI.includes(a))?(this.chain={id:a,rpcUrl:aJ(a)},await this.storage.storeObject(aR,this.chain),null):(await this.sendMessageToPopup({chainId:this.chain.id,data:a,event:"SDK_SWITCH_CHAIN",origin:window.location.origin})).data.error??"Unsupported chain."}async sendTransaction(a){return await this.ensureInitialized(),(await this.sendMessageToPopup({chainId:this.chain.id,data:a,event:"SDK_SEND_TRANSACTION",origin:window.location.origin})).data}async signData({message:a}){return await this.ensureInitialized(),(await this.sendMessageToPopup({chainId:this.chain.id,data:{message:a},event:"SDK_SIGN_DATA",origin:window.location.origin})).data}async signTypedData({message:a,types:b,primaryType:c,domain:d}){return await this.ensureInitialized(),(await this.sendMessageToPopup({chainId:this.chain.id,data:{domain:d,message:a,primaryType:c,types:b},event:"SDK_SIGN_TYPED_DATA",origin:window.location.origin})).data}async openSettings(){await this.ensureInitialized(),await this.sendMessageToPopup({chainId:this.chain.id,data:{},event:"SDK_OPEN_SETTINGS",origin:window.location.origin})}sendMessageToPopup(a){return this.communicator.postRequestAndWaitForResponse({...a,requestId:window?.crypto?.randomUUID()})}},aT=async(a,b)=>{let c={...a,id:window?.crypto?.randomUUID(),jsonrpc:"2.0"},d=await window.fetch(b,{body:JSON.stringify(c),headers:{"Content-Type":"application/json"},method:"POST",mode:"cors"}),{result:e,error:f}=await d.json();if(f)throw f;return e},aU=class extends aL{constructor(a){super(),this.wallet=null,this.config=a;const b=a.onDisconnectCallback;this.wallet=new aS({...a,onDisconnectCallback:()=>{b?.(),this.disconnect()}})}async request(a){try{let b,c;if(!function(a){if(!a||"object"!=typeof a||Array.isArray(a)){let a;throw a={message:"Expected a single, non-array, object argument."},as(ae,a)}let{method:b,params:c}=a;if("string"!=typeof b||0===b.length){let a;throw a={message:"'args.method' must be a non-empty string."},as(ae,a)}if(void 0!==c&&!Array.isArray(c)&&("object"!=typeof c||null===c)){let a;throw a={message:"'args.params' must be an object or array if provided."},as(ae,a)}}(a),!this.wallet?.accounts?.length)switch(a.method){case"eth_requestAccounts":if(!this.wallet){let a=this.config.onDisconnectCallback;this.wallet=new aS({...this.config,onDisconnectCallback:()=>{a?.(),this.disconnect()}})}await this.wallet.connect(),this.emit("accountsChanged",this.wallet.accounts);break;case"net_version":return 42161;case"eth_chainId":return aM(42161);default:throw at(ah,void 0)}switch(a.method){case"eth_requestAccounts":case"eth_accounts":b=this.wallet.accounts;break;case"net_version":b=this.wallet.chain.id;break;case"eth_chainId":b=aM(this.wallet.chain.id);break;case"personal_sign":case"wallet_sign":if(c=a.params,(b=await this.wallet.signData({account:c[1],message:c[0]})).error){let a;throw a=b.error,as(ac,a)}b=b.hash;break;case"eth_sendTransaction":case"wallet_sendTransaction":if(c=a.params,c=function(a){let b={...a};for(let c of["value","gas","gasPrice","maxPriorityFeePerGas","maxFeePerGas"]){if(!(c in a))continue;let d=a[c];"bigint"!=typeof d&&(0,aG.isHex)(d)&&(b[c]=BigInt(d))}return b}(c[0]),(b=await this.wallet.sendTransaction(c)).error){let a;throw a=b.error,as(ac,a)}b=b.hash;break;case"wallet_switchEthereumChain":{let c,d=a.params;if(Array.isArray(d)&&d[0]?.chainId)c=parseInt(d[0].chainId,16);else if(d&&"object"==typeof d&&"id"in d&&Number.isInteger(d.id))c=d.id;else{let a;throw a="Invalid chain id argument. Expected [{ chainId: hex_string }] or { id: number }.",as(ae,a)}if(b=await this.wallet.switchChain({id:c}))throw(a=>{if(!a||"object"!=typeof a||Array.isArray(a))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:b,message:c,data:d}=a;if(!c||"string"!=typeof c)throw Error('"message" must be a nonempty string');return new aq(b,c,d)})({code:4902,message:b});await this.emit("chainChanged",aM(c));break}case"eth_signTypedData_v1":case"eth_signTypedData_v2":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":{c=a.params;let d=JSON.parse(c[1]);if((b=await this.wallet.signTypedData({account:c[0],domain:d.domain,message:d.message,primaryType:d.primaryType,types:d.types})).error){let a;throw a=b.error,as(ac,a)}b=b.hash;break}case"eth_ecRecover":case"eth_subscribe":case"eth_unsubscribe":case"personal_ecRecover":case"eth_signTransaction":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_getCallsStatus":case"wallet_getCapabilities":case"wallet_showCallsStatus":case"wallet_grantPermissions":let d;throw d="Not yet implemented.",as(ad,d);case"eth_sign":case"eth_coinbase":case"wallet_addEthereumChain":throw as(ad,void 0);default:if(!this.wallet.chain.rpcUrl){let a;throw a=`RPC URL missing for current chain (${this.wallet.chain.id})`,as(af,a)}return aT(a,this.wallet.chain.rpcUrl)}return b}catch(b){let{code:a}=b;return a===ah&&this.disconnect(),Promise.reject(function(a,{fallbackError:b=ak,shouldIncludeStack:c=!0,shouldPreserveMessage:d=!0}={}){if(!N(b,_))throw Error("Must provide fallback error with integer number code and string message.");let e=function(a,b,c){if(a&&"object"==typeof a&&"serialize"in a&&"function"==typeof a.serialize)return a.serialize();if(N(a,_))return a;let d=function(a){if(B(a)&&C(a,"message")&&"string"==typeof a.message&&a.message.length>0)return a.message}(a),e=am(a);return{...b,...c&&d&&{message:d},data:{cause:e}}}(a,b,d);return c||delete e.stack,e}(b))}}async openSettings(){await this.wallet?.openSettings()}async disconnect(){if(this.wallet){let a=this.config.storage||new aP;await a.removeItem(aQ),await a.removeItem(aR)}this.wallet=null,this.config.onDisconnectCallback?.(),await this.emit("disconnect","User initiated disconnection"),await this.emit("accountsChanged",[])}};function aV(a={}){let b,c,d,e;return(0,x.createConnector)(f=>({id:"gemini",name:"Gemini Wallet",type:aV.type,icon:"https://keys.gemini.com/images/gemini-wallet-logo.svg",async connect({chainId:a,withCapabilities:b}={}){try{let f=await this.getProvider(),g=await f.request({method:"eth_requestAccounts"});c||(c=this.onAccountsChanged.bind(this),f.on("accountsChanged",c)),d||(d=this.onChainChanged.bind(this),f.on("chainChanged",d)),e||(e=this.onDisconnect.bind(this),f.on("disconnect",e));let h=await this.getChainId();if(a&&h!==a){let b=await this.switchChain({chainId:a}).catch(a=>{if(a.code===u.UserRejectedRequestError.code)throw a;return{id:h}});h=b?.id??h}return{accounts:b?g.map(a=>({address:a,capabilities:{}})):g,chainId:h}}catch(a){if(/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(a.message))throw new u.UserRejectedRequestError(a);throw a}},async disconnect(){let a=await this.getProvider();c&&(a.removeListener("accountsChanged",c),c=void 0),d&&(a.removeListener("chainChanged",d),d=void 0),e&&(a.removeListener("disconnect",e),e=void 0),await a.disconnect()},async getAccounts(){let a=await this.getProvider();return(await a.request({method:"eth_accounts"})).map(a=>(0,q.getAddress)(a))},async getChainId(){let a=await this.getProvider();return Number(await a.request({method:"eth_chainId"}))},getProvider:async()=>(b||(b=new aU({appMetadata:a.appMetadata??{},chain:{id:f.chains[0]?.id??1,rpcUrl:f.chains[0]?.rpcUrls?.default?.http[0]}})),b),async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({chainId:a}){let b=f.chains.find(b=>b.id===a);if(!b)throw new u.SwitchChainError(new w.ChainNotConfiguredError);let c=await this.getProvider();try{return await c.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.numberToHex)(a)}]}),b}catch(a){throw new u.SwitchChainError(a)}},onAccountsChanged(a){0===a.length?this.onDisconnect():f.emitter.emit("change",{accounts:a.map(a=>(0,q.getAddress)(a))})},onChainChanged(a){let b=Number(a);f.emitter.emit("change",{chainId:b})},async onDisconnect(){f.emitter.emit("disconnect");let a=await this.getProvider();c&&(a.removeListener("accountsChanged",c),c=void 0),d&&(a.removeListener("chainChanged",d),d=void 0),e&&(a.removeListener("disconnect",e),e=void 0)}}))}function aW(a){let{chain:b}=a,c=b.rpcUrls.default.http[0];if(!a.transports)return[c];let d=a.transports?.[b.id]?.({chain:b});return(d?.value?.transports||[d]).map(({value:a})=>a?.url||c)}aV.type="gemini";var aX=a.i(319175),aY=a.i(53741),aZ=a.i(698514);function a$(b={}){let c,d,e,f,g,h,i,j;return(0,x.createConnector)(k=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:a$.type,async setup(){let a=await this.getProvider();a?.on&&(h||(h=this.onConnect.bind(this),a.on("connect",h)),f||(f=this.onAccountsChanged.bind(this),a.on("accountsChanged",f)))},async connect({chainId:a,isReconnecting:d,withCapabilities:e}={}){let k=await this.getProvider();i||(i=this.onDisplayUri,k.on("display_uri",i));let l=[];d&&(l=await this.getAccounts().catch(()=>[]));try{let d,m;l?.length||(b.connectAndSign||b.connectWith?(b.connectAndSign?d=await c.connectAndSign({msg:b.connectAndSign}):b.connectWith&&(m=await c.connectWith({method:b.connectWith.method,params:b.connectWith.params})),l=await this.getAccounts()):l=(await c.connect()).map(a=>(0,q.getAddress)(a)));let n=await this.getChainId();if(a&&n!==a){let b=await this.switchChain({chainId:a}).catch(a=>{if(a.code===u.UserRejectedRequestError.code)throw a;return{id:n}});n=b?.id??n}return i&&(k.removeListener("display_uri",i),i=void 0),d?k.emit("connectAndSign",{accounts:l,chainId:n,signResponse:d}):m&&k.emit("connectWith",{accounts:l,chainId:n,connectWithResponse:m}),h&&(k.removeListener("connect",h),h=void 0),f||(f=this.onAccountsChanged.bind(this),k.on("accountsChanged",f)),g||(g=this.onChainChanged.bind(this),k.on("chainChanged",g)),j||(j=this.onDisconnect.bind(this),k.on("disconnect",j)),{accounts:e?l.map(a=>({address:a,capabilities:{}})):l,chainId:n}}catch(a){if(a.code===u.UserRejectedRequestError.code)throw new u.UserRejectedRequestError(a);if(a.code===u.ResourceUnavailableRpcError.code)throw new u.ResourceUnavailableRpcError(a);throw a}},async disconnect(){let a=await this.getProvider();g&&(a.removeListener("chainChanged",g),g=void 0),j&&(a.removeListener("disconnect",j),j=void 0),h||(h=this.onConnect.bind(this),a.on("connect",h)),await c.terminate()},async getAccounts(){let a=await this.getProvider();return(await a.request({method:"eth_accounts"})).map(a=>(0,q.getAddress)(a))},async getChainId(){let a=await this.getProvider();return Number(a.getChainId()||await a?.request({method:"eth_chainId"}))},async getProvider(){async function f(){let d=await (async()=>{let{default:b}=await a.A(626182);return"function"!=typeof b&&"function"==typeof b.default?b.default:b})(),e={};for(let a of k.chains)e[(0,s.numberToHex)(a.id)]=aW({chain:a,transports:k.transports})?.[0];c=new d({_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,...b,readonlyRPCMap:e,dappMetadata:{...b.dappMetadata,name:b.dappMetadata?.name?b.dappMetadata?.name:"wagmi",url:b.dappMetadata?.url?b.dappMetadata?.url:"https://wagmi.sh"},useDeeplink:b.useDeeplink??!0});let f=await c.init(),g=f?.activeProvider?f.activeProvider:c.getProvider();if(!g)throw new aX.ProviderNotFoundError;return g}return d||(e||(e=f()),d=await e),d},async isAuthorized(){try{return!!(await (0,aY.withRetry)(()=>(0,aZ.withTimeout)(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:b}){let c=await this.getProvider(),d=k.chains.find(a=>a.id===b);if(!d)throw new u.SwitchChainError(new w.ChainNotConfiguredError);try{return await c.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.numberToHex)(b)}]}),await e(),await f(b),d}catch(g){if(g.code===u.UserRejectedRequestError.code)throw new u.UserRejectedRequestError(g);if(4902===g.code||g?.data?.originalError?.code===4902)try{return await c.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{let{default:b,...c}=d.blockExplorers??{};return a?.blockExplorerUrls?a.blockExplorerUrls:b?[b.url,...Object.values(c).map(a=>a.url)]:void 0})(),chainId:(0,s.numberToHex)(b),chainName:a?.chainName??d.name,iconUrls:a?.iconUrls,nativeCurrency:a?.nativeCurrency??d.nativeCurrency,rpcUrls:a?.rpcUrls?.length?a.rpcUrls:[d.rpcUrls.default?.http[0]??""]}]}),await e(),await f(b),d}catch(a){if(a.code===u.UserRejectedRequestError.code)throw new u.UserRejectedRequestError(a);throw new u.SwitchChainError(a)}throw new u.SwitchChainError(g)}async function e(){await (0,aY.withRetry)(async()=>{let a=(0,p.hexToNumber)(await c.request({method:"eth_chainId"}));if(a!==b)throw Error("User rejected switch after adding network.");return a},{delay:50,retryCount:20})}async function f(a){await new Promise(b=>{let c=d=>{"chainId"in d&&d.chainId===a&&(k.emitter.off("change",c),b())};k.emitter.on("change",c),k.emitter.emit("change",{chainId:a})})}},async onAccountsChanged(a){if(0===a.length)if(!c.isExtensionActive())return;else this.onDisconnect();else if(k.emitter.listenerCount("connect")){let a=(await this.getChainId()).toString();this.onConnect({chainId:a})}else k.emitter.emit("change",{accounts:a.map(a=>(0,q.getAddress)(a))})},onChainChanged(a){let b=Number(a);k.emitter.emit("change",{chainId:b})},async onConnect(a){let b=await this.getAccounts();if(0===b.length)return;let c=Number(a.chainId);k.emitter.emit("connect",{accounts:b,chainId:c});let d=await this.getProvider();h&&(d.removeListener("connect",h),h=void 0),f||(f=this.onAccountsChanged.bind(this),d.on("accountsChanged",f)),g||(g=this.onChainChanged.bind(this),d.on("chainChanged",g)),j||(j=this.onDisconnect.bind(this),d.on("disconnect",j))},async onDisconnect(a){let b=await this.getProvider();a&&1013===a.code&&b&&(await this.getAccounts()).length||(k.emitter.emit("disconnect"),g&&(b.removeListener("chainChanged",g),g=void 0),j&&(b.removeListener("disconnect",j),j=void 0),h||(h=this.onConnect.bind(this),b.on("connect",h)))},onDisplayUri(a){k.emitter.emit("message",{type:"display_uri",data:a})}}))}a$.type="metaMask";var a_=a.i(501997),a_=a_;a.i(826483);var a0=a.i(926203);a.s(["$brand",()=>a0.$brand,"$input",()=>a0.$input,"$output",()=>a0.$output,"NEVER",()=>a0.NEVER,"TimePrecision",()=>a0.TimePrecision,"ZodMiniAny",()=>a0.ZodMiniAny,"ZodMiniArray",()=>a0.ZodMiniArray,"ZodMiniBase64",()=>a0.ZodMiniBase64,"ZodMiniBase64URL",()=>a0.ZodMiniBase64URL,"ZodMiniBigInt",()=>a0.ZodMiniBigInt,"ZodMiniBigIntFormat",()=>a0.ZodMiniBigIntFormat,"ZodMiniBoolean",()=>a0.ZodMiniBoolean,"ZodMiniCIDRv4",()=>a0.ZodMiniCIDRv4,"ZodMiniCIDRv6",()=>a0.ZodMiniCIDRv6,"ZodMiniCUID",()=>a0.ZodMiniCUID,"ZodMiniCUID2",()=>a0.ZodMiniCUID2,"ZodMiniCatch",()=>a0.ZodMiniCatch,"ZodMiniCodec",()=>a0.ZodMiniCodec,"ZodMiniCustom",()=>a0.ZodMiniCustom,"ZodMiniCustomStringFormat",()=>a0.ZodMiniCustomStringFormat,"ZodMiniDate",()=>a0.ZodMiniDate,"ZodMiniDefault",()=>a0.ZodMiniDefault,"ZodMiniDiscriminatedUnion",()=>a0.ZodMiniDiscriminatedUnion,"ZodMiniE164",()=>a0.ZodMiniE164,"ZodMiniEmail",()=>a0.ZodMiniEmail,"ZodMiniEmoji",()=>a0.ZodMiniEmoji,"ZodMiniEnum",()=>a0.ZodMiniEnum,"ZodMiniFile",()=>a0.ZodMiniFile,"ZodMiniFunction",()=>a0.ZodMiniFunction,"ZodMiniGUID",()=>a0.ZodMiniGUID,"ZodMiniIPv4",()=>a0.ZodMiniIPv4,"ZodMiniIPv6",()=>a0.ZodMiniIPv6,"ZodMiniISODate",()=>a0.ZodMiniISODate,"ZodMiniISODateTime",()=>a0.ZodMiniISODateTime,"ZodMiniISODuration",()=>a0.ZodMiniISODuration,"ZodMiniISOTime",()=>a0.ZodMiniISOTime,"ZodMiniIntersection",()=>a0.ZodMiniIntersection,"ZodMiniJWT",()=>a0.ZodMiniJWT,"ZodMiniKSUID",()=>a0.ZodMiniKSUID,"ZodMiniLazy",()=>a0.ZodMiniLazy,"ZodMiniLiteral",()=>a0.ZodMiniLiteral,"ZodMiniMap",()=>a0.ZodMiniMap,"ZodMiniNaN",()=>a0.ZodMiniNaN,"ZodMiniNanoID",()=>a0.ZodMiniNanoID,"ZodMiniNever",()=>a0.ZodMiniNever,"ZodMiniNonOptional",()=>a0.ZodMiniNonOptional,"ZodMiniNull",()=>a0.ZodMiniNull,"ZodMiniNullable",()=>a0.ZodMiniNullable,"ZodMiniNumber",()=>a0.ZodMiniNumber,"ZodMiniNumberFormat",()=>a0.ZodMiniNumberFormat,"ZodMiniObject",()=>a0.ZodMiniObject,"ZodMiniOptional",()=>a0.ZodMiniOptional,"ZodMiniPipe",()=>a0.ZodMiniPipe,"ZodMiniPrefault",()=>a0.ZodMiniPrefault,"ZodMiniPromise",()=>a0.ZodMiniPromise,"ZodMiniReadonly",()=>a0.ZodMiniReadonly,"ZodMiniRecord",()=>a0.ZodMiniRecord,"ZodMiniSet",()=>a0.ZodMiniSet,"ZodMiniString",()=>a0.ZodMiniString,"ZodMiniStringFormat",()=>a0.ZodMiniStringFormat,"ZodMiniSuccess",()=>a0.ZodMiniSuccess,"ZodMiniSymbol",()=>a0.ZodMiniSymbol,"ZodMiniTemplateLiteral",()=>a0.ZodMiniTemplateLiteral,"ZodMiniTransform",()=>a0.ZodMiniTransform,"ZodMiniTuple",()=>a0.ZodMiniTuple,"ZodMiniType",()=>a0.ZodMiniType,"ZodMiniULID",()=>a0.ZodMiniULID,"ZodMiniURL",()=>a0.ZodMiniURL,"ZodMiniUUID",()=>a0.ZodMiniUUID,"ZodMiniUndefined",()=>a0.ZodMiniUndefined,"ZodMiniUnion",()=>a0.ZodMiniUnion,"ZodMiniUnknown",()=>a0.ZodMiniUnknown,"ZodMiniVoid",()=>a0.ZodMiniVoid,"ZodMiniXID",()=>a0.ZodMiniXID,"_default",()=>a0._default,"_function",()=>a0._function,"any",()=>a0.any,"array",()=>a0.array,"base64",()=>a0.base64,"base64url",()=>a0.base64url,"bigint",()=>a0.bigint,"boolean",()=>a0.boolean,"catch",()=>a0.catch,"catchall",()=>a0.catchall,"check",()=>a0.check,"cidrv4",()=>a0.cidrv4,"cidrv6",()=>a0.cidrv6,"clone",()=>a0.clone,"codec",()=>a0.codec,"coerce",()=>a0.coerce,"config",()=>a0.config,"core",()=>a0.core,"cuid",()=>a0.cuid,"cuid2",()=>a0.cuid2,"custom",()=>a0.custom,"date",()=>a0.date,"decode",()=>a0.decode,"decodeAsync",()=>a0.decodeAsync,"discriminatedUnion",()=>a0.discriminatedUnion,"e164",()=>a0.e164,"email",()=>a0.email,"emoji",()=>a0.emoji,"encode",()=>a0.encode,"encodeAsync",()=>a0.encodeAsync,"endsWith",()=>a0.endsWith,"enum",()=>a0.enum,"extend",()=>a0.extend,"file",()=>a0.file,"flattenError",()=>a0.flattenError,"float32",()=>a0.float32,"float64",()=>a0.float64,"formatError",()=>a0.formatError,"function",()=>a0.function,"globalRegistry",()=>a0.globalRegistry,"gt",()=>a0.gt,"gte",()=>a0.gte,"guid",()=>a0.guid,"hash",()=>a0.hash,"hex",()=>a0.hex,"hostname",()=>a0.hostname,"httpUrl",()=>a0.httpUrl,"includes",()=>a0.includes,"instanceof",()=>a0.instanceof,"int",()=>a0.int,"int32",()=>a0.int32,"int64",()=>a0.int64,"intersection",()=>a0.intersection,"ipv4",()=>a0.ipv4,"ipv6",()=>a0.ipv6,"iso",()=>a0.iso,"json",()=>a0.json,"jwt",()=>a0.jwt,"keyof",()=>a0.keyof,"ksuid",()=>a0.ksuid,"lazy",()=>a0.lazy,"length",()=>a0.length,"literal",()=>a0.literal,"locales",()=>a0.locales,"looseObject",()=>a0.looseObject,"lowercase",()=>a0.lowercase,"lt",()=>a0.lt,"lte",()=>a0.lte,"map",()=>a0.map,"maxLength",()=>a0.maxLength,"maxSize",()=>a0.maxSize,"maximum",()=>a0.maximum,"merge",()=>a0.merge,"mime",()=>a0.mime,"minLength",()=>a0.minLength,"minSize",()=>a0.minSize,"minimum",()=>a0.minimum,"multipleOf",()=>a0.multipleOf,"nan",()=>a0.nan,"nanoid",()=>a0.nanoid,"nativeEnum",()=>a0.nativeEnum,"negative",()=>a0.negative,"never",()=>a0.never,"nonnegative",()=>a0.nonnegative,"nonoptional",()=>a0.nonoptional,"nonpositive",()=>a0.nonpositive,"normalize",()=>a0.normalize,"null",()=>a0.null,"nullable",()=>a0.nullable,"nullish",()=>a0.nullish,"number",()=>a0.number,"object",()=>a0.object,"omit",()=>a0.omit,"optional",()=>a0.optional,"overwrite",()=>a0.overwrite,"parse",()=>a0.parse,"parseAsync",()=>a0.parseAsync,"partial",()=>a0.partial,"partialRecord",()=>a0.partialRecord,"pick",()=>a0.pick,"pipe",()=>a0.pipe,"positive",()=>a0.positive,"prefault",()=>a0.prefault,"prettifyError",()=>a0.prettifyError,"promise",()=>a0.promise,"property",()=>a0.property,"readonly",()=>a0.readonly,"record",()=>a0.record,"refine",()=>a0.refine,"regex",()=>a0.regex,"regexes",()=>a0.regexes,"registry",()=>a0.registry,"required",()=>a0.required,"safeDecode",()=>a0.safeDecode,"safeDecodeAsync",()=>a0.safeDecodeAsync,"safeEncode",()=>a0.safeEncode,"safeEncodeAsync",()=>a0.safeEncodeAsync,"safeExtend",()=>a0.safeExtend,"safeParse",()=>a0.safeParse,"safeParseAsync",()=>a0.safeParseAsync,"set",()=>a0.set,"size",()=>a0.size,"startsWith",()=>a0.startsWith,"strictObject",()=>a0.strictObject,"string",()=>a0.string,"stringFormat",()=>a0.stringFormat,"stringbool",()=>a0.stringbool,"success",()=>a0.success,"superRefine",()=>a0.superRefine,"symbol",()=>a0.symbol,"templateLiteral",()=>a0.templateLiteral,"toJSONSchema",()=>a0.toJSONSchema,"toLowerCase",()=>a0.toLowerCase,"toUpperCase",()=>a0.toUpperCase,"transform",()=>a0.transform,"treeifyError",()=>a0.treeifyError,"trim",()=>a0.trim,"tuple",()=>a0.tuple,"uint32",()=>a0.uint32,"uint64",()=>a0.uint64,"ulid",()=>a0.ulid,"undefined",()=>a0.undefined,"union",()=>a0.union,"unknown",()=>a0.unknown,"uppercase",()=>a0.uppercase,"url",()=>a0.url,"util",()=>a0.util,"uuid",()=>a0.uuid,"uuidv4",()=>a0.uuidv4,"uuidv6",()=>a0.uuidv6,"uuidv7",()=>a0.uuidv7,"void",()=>a0.void,"xid",()=>a0.xid,"z",()=>a0.z],192899);var a1=a.i(192899),a1=a1;function a2(b={}){return(0,x.createConnector)(c=>{let d,e,f,g,h,i=c.chains??b.chains??[],j=c.transports?c.transports:b.transports;return{async connect({chainId:a=i[0].id,...b}={}){let c,d="isReconnecting"in b&&b.isReconnecting||!1,j="withCapabilities"in b&&b.withCapabilities||!1,k=[];if(d&&([k,c]=await Promise.all([this.getAccounts().catch(()=>[]),this.getChainId().catch(()=>void 0)]),a&&c!==a)){let b=await this.switchChain({chainId:a}).catch(a=>{if(a.code===u.UserRejectedRequestError.code)throw a;return{id:c}});c=b?.id??c}let l=await this.getProvider();try{if(!k?.length&&!d){let d=await l.request({method:"wallet_connect",params:[{..."capabilities"in b?{capabilities:a1.encode(a_.wallet_connect.Capabilities,b.capabilities??{})}:{},chainIds:[(0,s.numberToHex)(a),...i.filter(b=>b.id!==a).map(a=>(0,s.numberToHex)(a.id))]}]});k=d.accounts,c=Number(d.chainIds[0])}if(!c)throw new w.ChainNotConfiguredError;return g&&(l.removeListener("connect",g),g=void 0),e||(e=this.onAccountsChanged.bind(this),l.on("accountsChanged",e)),f||(f=this.onChainChanged.bind(this),l.on("chainChanged",f)),h||(h=this.onDisconnect.bind(this),l.on("disconnect",h)),{accounts:k.map(a=>"object"==typeof a?j?a:a.address:j?{address:a,capabilities:{}}:a),chainId:c}}catch(a){if(a.code===u.UserRejectedRequestError.code)throw new u.UserRejectedRequestError(a);throw a}},async disconnect(){let a=await this.getProvider();f&&(a.removeListener("chainChanged",f),f=void 0),h&&(a.removeListener("disconnect",h),h=void 0),g||(g=this.onConnect.bind(this),a.on("connect",g)),await a.request({method:"wallet_disconnect"})},async getAccounts(){let a=await this.getProvider();return(await a.request({method:"eth_accounts"})).map(a=>(0,q.getAddress)(a))},async getChainId(){let a=await this.getProvider();return Number(await a.request({method:"eth_chainId"}))},getPortoInstance:async()=>(d??=(async()=>{let{Porto:c}=await a.A(958523);return c.create({...b,announceProvider:!1,chains:i,transports:j})})(),await d),async getProvider(){return(await this.getPortoInstance()).provider},icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIyIiBoZWlnaHQ9IjQyMiIgdmlld0JveD0iMCAwIDQyMiA0MjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MjIiIGhlaWdodD0iNDIyIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV8xNSkiPgo8cGF0aCBkPSJNODEgMjg2LjM2NkM4MSAyODAuODkzIDg1LjQ1MDUgMjc2LjQ1NSA5MC45NDA0IDI3Ni40NTVIMzI5LjUxMUMzMzUuMDAxIDI3Ni40NTUgMzM5LjQ1MiAyODAuODkzIDMzOS40NTIgMjg2LjM2NlYzMDYuMTg4QzMzOS40NTIgMzExLjY2MiAzMzUuMDAxIDMxNi4wOTkgMzI5LjUxMSAzMTYuMDk5SDkwLjk0MDRDODUuNDUwNSAzMTYuMDk5IDgxIDMxMS42NjIgODEgMzA2LjE4OFYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAyMzQuODI4Qzg1LjQ1MDUgMjM0LjgyOCA4MSAyMzkuMjY2IDgxIDI0NC43MzlWMjcxLjUzMUM4My44NDMyIDI2OS42MzMgODcuMjYyMiAyNjguNTI2IDkwLjk0MDQgMjY4LjUyNkgzMjkuNTExQzMzMy4xODggMjY4LjUyNiAzMzYuNjA4IDI2OS42MzMgMzM5LjQ1MiAyNzEuNTMxVjI0NC43MzlDMzM5LjQ1MiAyMzkuMjY2IDMzNS4wMDEgMjM0LjgyOCAzMjkuNTExIDIzNC44MjhIOTAuOTQwNFpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgwLjg5MyAzMzUuMDAxIDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTlDODEgMzExLjY2NCA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2NCAzMzkuNDUyIDMwNi4xOVYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAxOTMuMjAxQzg1LjQ1MDUgMTkzLjIwMSA4MSAxOTcuNjM4IDgxIDIwMy4xMTJWMjI5LjkwM0M4My44NDMyIDIyOC4wMDYgODcuMjYyMiAyMjYuODk5IDkwLjk0MDQgMjI2Ljg5OUgzMjkuNTExQzMzMy4xODggMjI2Ljg5OSAzMzYuNjA4IDIyOC4wMDYgMzM5LjQ1MiAyMjkuOTAzVjIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNFpNMzM5LjQ1MiAyNDQuNzM5QzMzOS40NTIgMjM5LjI2NSAzMzUuMDAxIDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNDODEuMjE3NSAyNzEuMzg1IDgxLjQzODMgMjcxLjI0NSA4MS42NjI0IDI3MS4xMDlDODMuODMyNSAyNjkuNzk0IDg2LjMwNTQgMjY4LjkyNyA4OC45NTIzIDI2OC42MzVDODkuNjA1MSAyNjguNTYzIDkwLjI2ODQgMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMzAuMTgzIDI2OC41MjYgMzMwLjg0NiAyNjguNTYzIDMzMS40OTggMjY4LjYzNUMzMzQuNDE5IDI2OC45NTcgMzM3LjEyOCAyNjkuOTggMzM5LjQ1MiAyNzEuNTNWMjQ0LjczOVpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgxLjAyMSAzMzUuMjA2IDI3Ni42NjMgMzI5Ljg5MyAyNzYuNDYyQzMyOS43NjcgMjc2LjQ1NyAzMjkuNjQgMjc2LjQ1NSAzMjkuNTExIDI3Ni40NTVIOTAuOTQwNEM4NS40NTA1IDI3Ni40NTUgODEgMjgwLjg5MyA4MSAyODYuMzY2VjMwNi4xODhDODEgMzExLjY2MiA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2MiAzMzkuNDUyIDMwNi4xODhWMjg2LjM2NloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNSIvPgo8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTguMDE0NiAxMDRDODguNjE3NyAxMDQgODEgMTExLjU5NSA4MSAxMjAuOTY1VjE4OC4yNzZDODMuODQzMiAxODYuMzc5IDg3LjI2MjIgMTg1LjI3MiA5MC45NDA0IDE4NS4yNzJIMzI5LjUxMUMzMzMuMTg4IDE4NS4yNzIgMzM2LjYwOCAxODYuMzc5IDMzOS40NTIgMTg4LjI3NlYxMjAuOTY1QzMzOS40NTIgMTExLjU5NSAzMzEuODMzIDEwNCAzMjIuNDM3IDEwNEg5OC4wMTQ2Wk0zMzkuNDUyIDIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNEM4NS40NTA1IDE5My4yMDEgODEgMTk3LjYzOCA4MSAyMDMuMTEyVjIyOS45MDNDODEuMjE3NSAyMjkuNzU4IDgxLjQzODMgMjI5LjYxOCA4MS42NjI0IDIyOS40ODJDODMuODMyNSAyMjguMTY3IDg2LjMwNTQgMjI3LjMgODguOTUyMyAyMjcuMDA4Qzg5LjYwNTEgMjI2LjkzNiA5MC4yNjg0IDIyNi44OTkgOTAuOTQwNCAyMjYuODk5SDMyOS41MTFDMzMwLjE4MyAyMjYuODk5IDMzMC44NDYgMjI2LjkzNiAzMzEuNDk4IDIyNy4wMDhDMzM0LjQxOSAyMjcuMzMgMzM3LjEyOCAyMjguMzUyIDMzOS40NTIgMjI5LjkwM1YyMDMuMTEyWk0zMzkuNDUyIDI0NC43MzlDMzM5LjQ1MiAyMzkuMzkzIDMzNS4yMDYgMjM1LjAzNiAzMjkuODkzIDIzNC44MzVDMzI5Ljc2NyAyMzQuODMgMzI5LjY0IDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNMODEuMDcwNyAyNzEuNDgzQzgxLjI2NTMgMjcxLjM1NSA4MS40NjI1IDI3MS4yMyA4MS42NjI0IDI3MS4xMDlDODEuOTA4MyAyNzAuOTYgODIuMTU4MSAyNzAuODE3IDgyLjQxMTcgMjcwLjY3OUM4NC4zOTUzIDI2OS42MDUgODYuNjA1NCAyNjguODk0IDg4Ljk1MjMgMjY4LjYzNUM4OS4wMDUyIDI2OC42MjkgODkuMDU4IDI2OC42MjQgODkuMTExIDI2OC42MThDODkuNzEyNSAyNjguNTU3IDkwLjMyMjggMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMjkuNzM4IDI2OC41MjYgMzI5Ljk2NSAyNjguNTMgMzMwLjE5MiAyNjguNTM5QzMzMC42MzEgMjY4LjU1NSAzMzEuMDY3IDI2OC41ODcgMzMxLjQ5OCAyNjguNjM1QzMzNC40MTkgMjY4Ljk1NyAzMzcuMTI4IDI2OS45OCAzMzkuNDUyIDI3MS41M1YyNDQuNzM5Wk0zMzkuNDUyIDI4Ni4zNjZDMzM5LjQ1MiAyODEuMDIxIDMzNS4yMDYgMjc2LjY2MyAzMjkuODkzIDI3Ni40NjJMMzI5Ljg2NSAyNzYuNDYxQzMyOS43NDggMjc2LjQ1NyAzMjkuNjI5IDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTg4QzgxIDMxMS42NjIgODUuNDUwNSAzMTYuMTAxIDkwLjk0MDQgMzE2LjEwMUgzMjkuNTExQzMzNS4wMDEgMzE2LjEwMSAzMzkuNDUyIDMxMS42NjIgMzM5LjQ1MiAzMDYuMTg4VjI4Ni4zNjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjY5Ljg2OCAxMzEuNzUyQzI2OS44NjggMTI2LjI3OCAyNzQuMzE4IDEyMS44NCAyNzkuODA4IDEyMS44NEgzMTEuNjE4QzMxNy4xMDggMTIxLjg0IDMyMS41NTggMTI2LjI3OCAzMjEuNTU4IDEzMS43NTJWMTYxLjQ4NUMzMjEuNTU4IDE2Ni45NTkgMzE3LjEwOCAxNzEuMzk2IDMxMS42MTggMTcxLjM5NkgyNzkuODA4QzI3NC4zMTggMTcxLjM5NiAyNjkuODY4IDE2Ni45NTkgMjY5Ljg2OCAxNjEuNDg1VjEzMS43NTJaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzFfMTUiPgo8cmVjdCB3aWR0aD0iMjU5IiBoZWlnaHQ9IjIxMyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgxIDEwNCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",id:"xyz.ithaca.porto",async isAuthorized(){try{return!!(await (0,aY.withRetry)(()=>this.getAccounts())).length}catch{return!1}},name:"Porto",async onAccountsChanged(a){c.emitter.emit("change",{accounts:a.map(a=>(0,q.getAddress)(a))})},onChainChanged(a){let b=Number(a);c.emitter.emit("change",{chainId:b})},async onConnect(a){let b=await this.getAccounts();if(0===b.length)return;let d=Number(a.chainId);c.emitter.emit("connect",{accounts:b,chainId:d});let i=await this.getProvider();i&&(g&&(i.removeListener("connect",g),g=void 0),e||(e=this.onAccountsChanged.bind(this),i.on("accountsChanged",e)),f||(f=this.onChainChanged.bind(this),i.on("chainChanged",f)),h||(h=this.onDisconnect.bind(this),i.on("disconnect",h)))},async onDisconnect(a){let b=await this.getProvider();c.emitter.emit("disconnect"),b&&(f&&(b.removeListener("chainChanged",f),f=void 0),h&&(b.removeListener("disconnect",h),h=void 0),g||(g=this.onConnect.bind(this),b.on("connect",g)))},async setup(){if(!g){let a=await this.getProvider();g=this.onConnect.bind(this),a.on("connect",g)}},async switchChain({chainId:a}){let b=i.find(b=>b.id===a);if(!b)throw new u.SwitchChainError(new w.ChainNotConfiguredError);let c=await this.getProvider();return await c.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.numberToHex)(a)}]}),b},type:"injected"}})}function a3(a={}){let b,{shimDisconnect:c=!1}=a;return(0,x.createConnector)(a=>({id:"safe",name:"Safe",type:a3.type,async connect({withCapabilities:d}={}){let e=await this.getProvider();if(!e)throw new aX.ProviderNotFoundError;let f=await this.getAccounts(),g=await this.getChainId();return b||(b=this.onDisconnect.bind(this),e.on("disconnect",b)),c&&await a.storage?.removeItem("safe.disconnected"),{accounts:d?f.map(a=>({address:a,capabilities:{}})):f,chainId:g}},async disconnect(){let d=await this.getProvider();if(!d)throw new aX.ProviderNotFoundError;b&&(d.removeListener("disconnect",b),b=void 0),c&&await a.storage?.setItem("safe.disconnected",!0)},async getAccounts(){let a=await this.getProvider();if(!a)throw new aX.ProviderNotFoundError;return(await a.request({method:"eth_accounts"})).map(q.getAddress)},async getProvider(){},async getChainId(){let a=await this.getProvider();if(!a)throw new aX.ProviderNotFoundError;return Number(a.chainId)},async isAuthorized(){try{if(c&&await a.storage?.getItem("safe.disconnected"))return!1;return!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){a.emitter.emit("disconnect")}}))}function a4(b){let c,d,e,f,g,h,i,j,k=b.isNewChainsStale??!0;return(0,x.createConnector)(l=>({id:"walletConnect",name:"WalletConnect",type:a4.type,async setup(){let a=await this.getProvider().catch(()=>null);a&&(g||(g=this.onConnect.bind(this),a.on("connect",g)),i||(i=this.onSessionDelete.bind(this),a.on("session_delete",i)))},async connect({chainId:a,withCapabilities:b,...c}={}){try{let d=await this.getProvider();if(!d)throw new aX.ProviderNotFoundError;h||(h=this.onDisplayUri,d.on("display_uri",h));let k=a;if(!k){let a=await l.storage?.getItem("state")??{};k=l.chains.some(b=>b.id===a.chainId)?a.chainId:l.chains[0]?.id}if(!k)throw Error("No chains found on connector.");let m=await this.isChainsStale();if(d.session&&m&&await d.disconnect(),!d.session||m){let a=l.chains.filter(a=>a.id!==k).map(a=>a.id);await d.connect({optionalChains:[k,...a],..."pairingTopic"in c?{pairingTopic:c.pairingTopic}:{}}),this.setRequestedChainsIds(l.chains.map(a=>a.id))}let n=(await d.enable()).map(a=>(0,q.getAddress)(a)),o=await this.getChainId();if(a&&o!==a){let b=await this.switchChain({chainId:a}).catch(a=>{if(a.code===u.UserRejectedRequestError.code&&a.cause?.message!=="Missing or invalid. request() method: wallet_addEthereumChain")throw a;return{id:o}});o=b?.id??o}return h&&(d.removeListener("display_uri",h),h=void 0),g&&(d.removeListener("connect",g),g=void 0),e||(e=this.onAccountsChanged.bind(this),d.on("accountsChanged",e)),f||(f=this.onChainChanged.bind(this),d.on("chainChanged",f)),j||(j=this.onDisconnect.bind(this),d.on("disconnect",j)),i||(i=this.onSessionDelete.bind(this),d.on("session_delete",i)),{accounts:b?n.map(a=>({address:a,capabilities:{}})):n,chainId:o}}catch(a){if(/(user rejected|connection request reset)/i.test(a?.message))throw new u.UserRejectedRequestError(a);throw a}},async disconnect(){let a=await this.getProvider();try{await a?.disconnect()}catch(a){if(!/No matching key/i.test(a.message))throw a}finally{f&&(a?.removeListener("chainChanged",f),f=void 0),j&&(a?.removeListener("disconnect",j),j=void 0),g||(g=this.onConnect.bind(this),a?.on("connect",g)),e&&(a?.removeListener("accountsChanged",e),e=void 0),i&&(a?.removeListener("session_delete",i),i=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(a=>(0,q.getAddress)(a))},async getProvider({chainId:e}={}){async function f(){let c=l.chains.map(a=>a.id);if(!c.length)return;let{EthereumProvider:d}=await a.A(19318);return await d.init({...b,disableProviderPing:!0,optionalChains:c,projectId:b.projectId,rpcMap:Object.fromEntries(l.chains.map(a=>{let[b]=aW({chain:a,transports:l.transports});return[a.id,b]})),showQrModal:b.showQrModal??!0})}return c||(d||(d=f()),c=await d,c?.events.setMaxListeners(1/0)),e&&await this.switchChain?.({chainId:e}),c},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{let[a,b]=await Promise.all([this.getAccounts(),this.getProvider()]);if(!a.length)return!1;if(await this.isChainsStale()&&b.session)return await b.disconnect().catch(()=>{}),!1;return!0}catch{return!1}},async switchChain({addEthereumChainParameter:a,chainId:b}){let c=await this.getProvider();if(!c)throw new aX.ProviderNotFoundError;let d=l.chains.find(a=>a.id===b);if(!d)throw new u.SwitchChainError(new w.ChainNotConfiguredError);try{await Promise.all([new Promise(a=>{let c=({chainId:d})=>{d===b&&(l.emitter.off("change",c),a())};l.emitter.on("change",c)}),c.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.numberToHex)(b)}]})]);let a=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...a,b]),d}catch(e){if(/(user rejected)/i.test(e.message))throw new u.UserRejectedRequestError(e);try{let e,f;e=a?.blockExplorerUrls?a.blockExplorerUrls:d.blockExplorers?.default.url?[d.blockExplorers?.default.url]:[],f=a?.rpcUrls?.length?a.rpcUrls:[...d.rpcUrls.default.http];let g={blockExplorerUrls:e,chainId:(0,s.numberToHex)(b),chainName:a?.chainName??d.name,iconUrls:a?.iconUrls,nativeCurrency:a?.nativeCurrency??d.nativeCurrency,rpcUrls:f};await c.request({method:"wallet_addEthereumChain",params:[g]});let h=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...h,b]),d}catch(a){throw new u.UserRejectedRequestError(a)}}},onAccountsChanged(a){0===a.length?this.onDisconnect():l.emitter.emit("change",{accounts:a.map(a=>(0,q.getAddress)(a))})},onChainChanged(a){let b=Number(a);l.emitter.emit("change",{chainId:b})},async onConnect(a){let b=Number(a.chainId),c=await this.getAccounts();l.emitter.emit("connect",{accounts:c,chainId:b})},async onDisconnect(a){this.setRequestedChainsIds([]),l.emitter.emit("disconnect");let b=await this.getProvider();e&&(b.removeListener("accountsChanged",e),e=void 0),f&&(b.removeListener("chainChanged",f),f=void 0),j&&(b.removeListener("disconnect",j),j=void 0),i&&(b.removeListener("session_delete",i),i=void 0),g||(g=this.onConnect.bind(this),b.on("connect",g))},onDisplayUri(a){l.emitter.emit("message",{type:"display_uri",data:a})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds:()=>c?c.session?.namespaces.eip155?.accounts?.map(a=>Number.parseInt(a.split(":")[1]||"",10))??[]:[],async getRequestedChainsIds(){return await l.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!k)return!1;let a=l.chains.map(a=>a.id),b=this.getNamespaceChainsIds();if(b.length&&!b.some(b=>a.includes(b)))return!1;let c=await this.getRequestedChainsIds();return!a.every(a=>c.includes(a))},async setRequestedChainsIds(a){await l.storage?.setItem(this.requestedChainsStorageKey,a)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}a3.type="safe",a4.type="walletConnect",a.s(["baseAccount",()=>z,"coinbaseWallet",()=>A,"gemini",()=>aV,"injected",()=>n.injected,"metaMask",()=>a$,"mock",()=>y,"porto",()=>a2,"safe",()=>a3,"version",0,"6.1.3","walletConnect",()=>a4],194903)}];

//# sourceMappingURL=89298_%40wagmi_connectors_dist_esm_exports_index_43d1fb48.js.map